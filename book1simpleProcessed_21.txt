COMPUTER GRAPHICS C VERSION DONALD HEARN M PAULINE BAKER Contents PREFACE xvii A Survey Computer Graphics Computer Aided Design Presentation Graphics Computer Art Entertainment Education Training Visualization Image Processing Graphical User Interfaces Overview Graphics Systems Video Display Devices Refresh Cathode Ray Tubes Raster Scan Displays Random Scan Displays Color CRT Monitors Direct View Storage Tubes Flat Panel Displays Three Dimensional Viewing Devices Stereoscopic Virtual Reality Systems Raster Scan Systems Video Controller Raster Scan Display Processor Random Scan Systems Graphics Monitors Workstations Input Devices Keyboards Mouse Trackball Spaceball Joysticks Data Glove Digitizers Image Scanners Touch Panels Light Pens Voice Systems Hard Copy Devices Graphics Software Coordinate Representations Graphics Functions Software Standards PHIGS Workstations Summary References Exercises Contents Output Primitives Points Lines Line Drawing Algorithms 8b DDA Algorithm Bresenham Line Algorithm Parallel Line Algorithms Loading Frame Buffer Line Function Circle Generating Algorithms Properties Circles Midpoint Circle Algorithm Ellipse Generating Algorithms Properties Ellipses Midpoint Ellipse Algorithm Other Curves Conic Sections Polynomials Spline Curves Parallel Curve Algorithms Curve Functions Pixel Addressing Object Geometry Screen Grid Coordinates Maintaining Geometric Properties Displayed Objects Filled Area Primitives Scan Line Polygon Fill Algorithm Inside Outside Tests Scan Line Fill Curved Boundary Areas Boundary Fill Algorithm Flood Fill Algorithm Fill Area Functions Cell Array Character Generation Summary Applications References Exercises Attributes Output Primitives Line Attributes Line Type Line Width Pen Brush Options Line Color Curve Attributes Color Grayscale Levels Color Tables Grayscale Area Fill Attributes Fill Styles Pattern Fill Soft Fill Character Attributes Text Attributes Marker Attributes Bundled Attributes Bundled Line Attributes Bundled Area Fill Attributes Bundled Text Attributes Bundled Marker Attributes Inquiry Functions Antialiasing Supersampling Straight Line Segments Pixel Weighting Masks Area Sampling Straight Line Segments Filtering Techniques Pixel Phasing Compensating Line Intensity Differences Antialiasing Area Boundaries Summary References Exercises Two Dimensional Geometric Transformations Basic Transformations Translation Rotation Scaling Matrix Representations Homogeneous Coordinates Composite Transformations Translations Rotations Scalings General Pivot Point Rotation General Fixed Point Scaling General Scaling Directions Concatenation Properties General Composite Transformations Computational Efficiency Other Transformations Reflection Shear Transformations Between Coordinate Systems Contents Affine Transformations Transformation Functions Raster Methods Transformations Summary References Exercises Two Dimensional Viewing The Viewing Pipeline Viewing Coordinate Reference Frame Window Viewport Coordinate Transformation Two Dimensional Viewing Functions Clipping Operations Point Clipping Line Clipping Cohen Sutherland Line Clipping Liang Barsky Line Clipping Nicholl Lee Nicholl Line Clipping Line Clipping Using Nonrectangular Clip Windows Splitting Concave Polygons Polygon Clipping Sutherland Hodgeman Polygon Clipping Weiler Atherton Polygon Clipping Other Polygon Clipping Algorithms Curve Clipping Text Clipping Exterior Clipping Summary References Exercises Contents Structures Hierarchical Modeling Structure Concepts Basic Structure Functions Setting Structure Attributes Editing Structures Structure Lists Element Pointer Setting Edit Mode Inserting Structure Elements Replacing Structure Elements Deleting Structure Elements Labeling Structure Elements Copying Elements One Structure Another Basic Modeling Concepts Model Representations Symbol Hierarchies Modeling Packages Hierarchical Modeling Structures Local Coordinates Modeling Transformations Modeling Transformations Structure Hierarchies Summary References Exercises Graphical User Interfaces Interactive Input Methods The User Dialogue Windows Icons Accommodating Multiple Skill Levels Consistency Minimizing Memorization Backup Error Handling Feedback Input Graphical Data Logical Classification Input Devices Locator Devices Stroke Devices String Devices Valuator Devices Choice Devices Pick Devices Input Functions Input Modes Request Mode Locator Stroke Input Request Mode String Input Request Mode Valuator Input Request Mode Choice Input Request Mode Pick Input Request Mode Sample Mode Event Mode Concurrent Use Input Modes Initial Values Input Device Parameters Interactive Picture Construction Techniques Basic Positioning Methods Constraints Grids Gravity Field Rubber Band Methods Dragging Painting Drawing Virtual Reality Environments Summary References Exercises Three Dimensional Concepts Three Dimensional Display Methods Parallel Projection Perspective Projection Depth Cueing Visible Line Surface Identification Surface Rendering Exploded Cutaway Views Three Dimensional Stereoscopic Views Three Dimensional Graphics Packages Three Dimensional Object Representations 10 Polygon Surfaces Polygon Tables Plane Equations Polygon Meshes 10 Curved Lines Surfaces 10 Quadric Surfaces Sphere S11 Ellipsoid 3u Torus Contents Superquadrics Superellipse Superellipsoid Blobby Objects Spline Representations Interpolation Approximation Splines Parametric Continuity Conditions Geometric Continuity Conditions Spline Specifications Cubic Spline Interpolation Methods Natural Cubic Splines Hermite Interpolation Cardinal Splines Kochanek Bartels Splines B zier Curves Surfaces B zier Curves Properties B zier Curves Design Techniques Using B zier Curves Cubic B zier Curves B zier Surfaces B Spline Curves Surfaces B Spline Curves Uniform Periodic B Splines Cubic Periodic B Splines Open Uniform B Splines Nonuniform B Splines B Spline Surfaces 10 Beta Splines Beta Spline Continuity Conditions Cubic Periodic Beta Spline Matrix Representation 11 Rational Splines Contents Conversion Between Spline Representations Displaying Spline Curves Surfaces Horner Rule Forward Difference Calculations Subdivision Methods Sweep Representations Constructive Solid Geometry Methods Octrees BSP Trees Fractal Geometry Methods Fractal Generation Procedures Classification Fractals Fractal Dimension Geometric Construction Deterministic Self Similar Fractals Geometric Construction Statistically Self Similar Fractals Affine Fractal Construction Methods Random Midpoint Displacement Methods Controlling Terrain Topography Self Squaring Fractals Self Inverse Fractals Shape Grammars Other Procedural Methods Particle Systems Physically Based Modeling Visualization Data Sets Visual Representations Scalar Fields Visual Representations Vector Fields Visual Representations Tensor Fields Visual Representations Multivariate Data Fields Summary References Exercises Three Dimensional Geometric Modeling Transformations W1 Translation 11 Rotation Coordinate Axes Rotations General Three Dimensional Rotations Rotations Quaternions 11 Scaling 11 Other Transformations Reflections Shears 11 Composite Transformations 11 Three Dimensional Transformation Functions W1e7 Modeling Cocrdinate Transformations Summary References Exercises 12 Three Dimensional Viewing Viewing Pipeline 12 Viewing Coordinates Specifying View Plane Transformation World Viewing Coordinates Projections Parallel Projections Perspective Projections View Volumes General Projection Transformations General Parallel Projection Transformations General Perspective Projection Transformations Clipping Normalized View Volumes Viewport Clipping Clipping Homogeneous Coordinates Hardware Implementations Three Dimensional Viewing Functions Summary References Exercises Visible Surface Detection Methods 13 Classification Visible Surface Detection Algorithms 13 Back Face Detection 13 Depth Buffer Method 13 A Buffer Methad 13 Scan Line Method 13 Depth Sorting Method 13 BSP Tree Method 13 Area Subdivision Method 13 Octree Methods 13 Ray Casting Method 13 Curved Surfaces Curved Surface Representations Surface Contour Plots Contents Wireframe Methods Visibitity Detection Functions Summary References Exercises Methods 14 Light Sources 14 Basic Illumination Models Ambient Light Diffuse Reflection Specular Reflection Phong Model Combined Diffuse Specular Reflections Multiple Light Sources Warn Model Intensity Attenuation Color Considerations Transparency Shadows 14 Displaying Light Intensities Assigning Intensity Levels Gamma Correction Video Lookup Tables Displaying Continuous Tone Images 14 Halftone Patterns Dithering Techniques Halftone Approximations Dithering Techniques 14 Polygon Rendering Methods Constant Intensity Shading Gouraud Shading Phong Shading Contents Fast Phong Shading Ray Tracing Methods Basic Ray Tracing Algorithm Ray Surface Intersection Calculations Reducing Object Intersection Calculations Space Subdivision Methods Antialiased Ray Tracing Distributed Ray Tracing Radiosity Lighting Model Basic Radiosity Model Progressive Refinement Radiosity Method Environment Mapping Adding Surface Detail Modeling Surface Detail Polygons Texture Mapping Procedural Texturing Methods Bump Mapping Frame Mapping Summary References Exercises Color Models Color Applications 15 Properties Light 15 Standard Primaries Chromaticity Diagram XYZ Color Model CIF Chromaticity Diagram 15 Intuitive Color Concepts 15 RGB Color Model 15 YIQ Color Model 15 CMY Color Model 15 HSV Color Model 15 Conversion Between HSV RGB Models 15 HLS Color Model 15 Color Selection Applications Summary References Exercises Computer Animation 16 Design Animation Sequences 16 General Computer Animation Functions 16 Raster Animations 16 Computer Animation Languages 16 Key Frame Systems Morphing Simulating Accelerations 16 Motion Specifications Direct Motion Specification Goal Directed Systems Kinematics Dynamics Summary References Exercises Mathematics Computer Graphics A Coordinate Reference Frames Two Dimensional Cartesian Reference Frames Polar Coordinates xy Plane Three Dimensional Cartesian Reference Frames Three Dimensional Curvilinear Coordinate Systems Solid Angle Points Vectors Vector Addition Scalar Multiplication Scalar Product Two Vectors Vector Product Two Vectors Basis Vectors Metric Tensor Orthonormal Basis Metric Tensor Matrices Scalar Multiplication Matrix Addition Matrix Multiplication Contents Matrix Transpose Determinant Matrix Matrix Inverse A Complex Numbers A Quaternions A Nonparametric Representations A Parametric Representations A Numerical Methods Solving Sets Linear Equations Finding Roots Nonlinear Equations Evaluating Integrals Fitting Curves Data Sets Computer Graphics C Version CHAPTER A Survey Computer Graphics omputers become powerful tool rapid economical pro duction pictures There virtually area graphical displays used advantage surprising find use computer graphics widespread Although early applications engineering science rely expensive cumbersome equipment advances computer technology made interactive computer graphics practical tool Today find computer graphics used routinely diverse areas science engineering medicine business industry government art entertainment ad vertising education training summarizes many applications graphics simulations education graph presentations Before get details computer graphics first take short tour gallery graphics applications Frgtere Examples computer graphics applications Courtesy DICOMED Corporation A major use computer graphics design processes particularly engi neering architectural systems almost products computer de signed Generally referred CAD computer aided design methods routinely used design buildings automobiles aircraft watercraft space craft computers textiles many many products For design applications objects first displayed wireframe line form shows overall shape internal features objects Wireframe displays also allow designers quickly see effects interactive adjustments design shapes Figures give examples wireframe displays de sign applications Software packages CAD applications typically provide designer multi window environment Figs The various displayed windows show enlarged sections different views objects Circuits one shown networks communica tions water supply utilities constructed repeated placement graphical shapes The shapes used design represent different net work circuit components Standard shapes electrical electronic logic circuits often supplied design package For applications de signer create personalized symbols used construct net work circuit The system designed successively placing components layout graphics package automatically providing connec tions components This allows designer quickly try alternate circuit schematics minimizing number components space quired system Color coded wireframe display automobile wheel assembly Courtesy Eoans Sutherland Color coded wireframe displays body designs aircraft automobile Courtesy Evans Sutherland b Megatek Corporation Animations often used CAD applications Real time animations using wireframe displays video monitor useful testing performance hicle system demonstrated When display objects rendered surfaces calculations segment animation per formed quickly produce smooth real time motion screen Also wire frame displays allow designer see interior vehicle watch behavior inner components motion Animations virtual reality environments used determine vehicle operators affected Multiple window color coded CAD workstation displays Courtesy Intergraph Corporation A circuit design application using multiple windows color coded logic components displayed Sun workstation attached speaker microphone Courtesy Sun Microsystems Simulation vehicle performance lane changes Courtesy Evans Sutherland Mechanical Dynamics Inc certain motions As tractor operator manipulates controls headset presents stereoscopic view front loader bucket backhoe operator tractor seat This allows designer explore various positions bucket backhoe might obstruct op erator view taken account overall tractor design shows composite wide angle view tractor seat displayed standard video monitor instead virtual three dimensional scene And shows view tractor displayed separate window another monitor Operating tractor virtual reality environment As controls moved operator views front loader backhoe surroundings headset Courtesy National Center Supercomputing Applications University Illinois Urbana Champaign Caterpillar Ine A headset view backhoe presented tractor operator Courtesy National Center Supercomputing Applications University Illinois Urbana Champaign Caterpillar Inc Operator view tractor bucket composited several sections form wide angle view standard monitor Courtesy National Center Supercomputing Applications University Mlinois Urbana Champaign Caterpillar inc Chapter A Survey Computer Graphics View tractor displayed standard monitor Courtesy National Center Supercomputing Applications University Illinois Urbana Champaign Caterpillar Inc When object designs complete nearly complete realistic lighting models surface rendering applied produce displays show appearance final product Examples given Realistic displays also generated advertising automobiles vehicles using special lighting effects background scenes The manufacturing process also tied computer description de signed objects automate construction product A circuit board lay example transformed description individual processes needed construct layout Some mechanical parts manufac tured describing surfaces formed machine tools Figure 13 shows path taken machine tools surfaces object construction Numerically controlled machine tools set manufacture part according construction layouts Realistic renderings design products Courtesy Intergraph Corporation b Evans Sutherland Studio lighting effects realistic ACAD layout describing surface rendering techniques numerically controlled machining applied produce advertising part The part surface pieces finished products The displayed one color tool data rendering Chrysler path another color Courtesy Laser supplied Chrysler Los Alamos National Laboratory Corporation Courtesy Eric Haines 3D EYE Inc MICHEN e ime TT ee rr rid fl Ig li fl uz eof r Ep IG Faby Adio II Ltd RENEE att Ht Architectural CAD layout building design Courtesy Precision Visuals Inc Boulder Colorado Architects use interactive graphics methods lay floor plans show positioning rooms doors windows stairs shelves counters building features Working display building layout video monitor electrical designer try arrangements wiring electrical outlets fire warning systems Also facility layout packages applied layout determine space utilization office manufacturing floor Realistic displays architectural designs permit archi tects clients study appearance single building group buildings campus industrial complex With virtual reality systems designers even go simulated walk rooms around outsides buildings better appreciate overall effect particular design In addition realistic exterior building displays architectural CAD packages also provide facilities experimenting three dimensional interior layouts lighting Many kinds systems products designed using either gen eral CAD packages specially developed CAD software exam ple shows rug pattern designed CAD system eageguater Realistic three dimensional renderings building designs A street level perspective World Trade Center project Courtesy Skidmore Owings Merrill b Architectural visualization atrium created comptter animation Marialine Prieur Lyon France Courtesy Thomson Digital Image Inc A hotel corridor providing sense fixtures along undulating path creating sense entry using light towers hotel room Courtesy Skidmore Owings Merrill Another major application area presentation graphics used produce illus trations reports generate mm slides transparencies use projectors Presentation graphics commonly used summarize financial sta tistical mathematical scientific economic data research reports manage rial reports consumer information bulletins types reports Worksta tion devices service bureaus exist converting screen displays mm slides overhead transparencies use presentations Typical examples presentation graphics bar charts line graphs surface graphs pie charts displays showing relationships multiple parameters gives examples two dimensional graphics combined ge ographical information This illustration shows three color coded bar charts com bined onto one graph pie chart three sections Similar graphs charts displayed three dimensions provide additional information Three dimensional graphs sometimes used simply effect provide dramatic attractive presentation data relationships The charts include three dimensional bar graph exploded pie chart Additional examples three dimensional graphs shown Figs 20 21 shows one kind surface plot shows two dimensional contour plot height surface Oriental rug pattern created movement placing light computer graphics design methods Courtesy Lexidata Corporation W Chapter A Survey Computer Graphics Two dimensional bar chart pie chart linked geographical chart Courtesy Computer Associates copyright All rights reserved Showing relationships surface chart Courtesy Computer Associates copyright All rights reserved Three dimensional bar chart exploded pie chart line graph Courtesy Computer Associates copyright All rights reserved Plotting two dimensional contours ground plane height field plotted surface ground plane Courtesy Computer Associates copyright All rights reserved Time chart displaying relevant information project tasks Courtesy Computer Associates copyright All rights reserved illustrates time chart used task planning Time charts task network layouts used project management schedule monitor progress projects Computer graphics methods widely used fine art commercial art applications Artists use variety computer methods including special pur pose hardware artist paintbrush programs Lumena paint pack ages PixelPaint SuperPaint specially developed software symbolic mathematics packages Mathematica CAD packages desktop publish ing software animation packages provide facilities designing object shapes specifiying object motions illustrates basic idea behind paintbrush program al lows artists paint pictures screen video monitor Actually pic ture usually painted electronically graphics tablet digitizer using sty lus simulate different brush strokes brush widths colors A paintbrush program used create characters seem busy creation A paintbrush system Wacom cordless pressure sensitive stylus used produce electronic painting simulates brush strokes Van Gogh The stylus translates changing hand pressure variable line widths brush sizes color gradations shows watercolor painting produced stylus software allows artist cre ate watercolor pastel oil brush effects simulate different drying times wetness footprint gives example paintbrush methods combined scanned images Fine artists use variety computer technologies produce images To create pictures one shown artist uses combina tion three dimensional modeling packages texture mapping drawing pro grams CAD software In painting produced pen Section Computer Art p Cartoon drawing produced paintbrush program symbolically illustrating artist work video monitor Courtesy Gould Inc Imaging Graphics Division Aurora Imaging plotter specially designed software create automatic art without intervention artist shows example mathematical art This artist uses com bination mathematical functions fractal procedures Mathematica software ink jet printers systems create variety three dimensional two dimensional shapes stereoscopic image pairs Another example elec Cartoon demonstrations artist creating picture paintbrush system The picture drawn ona graphics tablet displayed video monitor elves look In b cartoon superimposed famous Thomas Nast drawing Saint Nicholas input system video camera scaled positioned Courtesy Gould Inc Imaging Graphics Division Aurora Imaging igh A Van Gogh look alike created graphics artist Elizabeth O Rourke cordless pressure sensitive stylus Courtesy Wacorn Technology Corporation An electronic watercolor painted John Derry Time Arts Inc using cordless pressure sensitive stylus Lumena gouache brush software Courtesy Wacom Technology Corporation The artist picture called Electronic Avalanche makes statement entanglement technology using personal computer graphics tablet Lumena software combine renderings leaves flower petals electronics components scanned images Courtesy Williams Gallery Copyright Joan Truckenbrod The School Art Institute Chicago From series called Spheres Influence electronic painting entitled Whigmalaree created combination methods using graphics tablet three dimensional modeling texture mapping series transformations Courtesy Williams Gallery Copyright Wynne Ragland r Electronic art output pen plotter software specially designed artist emulate style The pen plotter includes multiple pens painting instruments including Chinese brushes Courtesy Williams Gallery Copyright Roman Verostko Minneapolis College Art Design This creation based visualization Fermat Last Theorem x n Andrew Hanson Department Computer Science Indiana University The image rendered using Mathematica Wavefront software Courtesy Williams Gallery Copyright Stewart Dickson Using mathematical functions fractal procedures supercomputers artist composer experiments various designs synthesize form color musical composition Courtesy Brian Evans Vanderbilt University tronic art created aid mathematical relationships shown Section The artwork composer often designed relation frequency varia Computer An tions parameters musical composition produce video inte grates visual aural patterns Although spent time discussing current techniques gen erating electronic images fine arts methods also applied com mercial art logos designs page layouts combining text graph ics TV advertising spots areas A workstation producing page layouts combine text graphics illustrated For many applications commercial art motion pictures applications photorealistic techniques used render images product shows example logo design gives three computer graphics images product advertising Animations also used frequently advertising television commercials produced frame frame Page layout workstation Courtesy Three dimensional rendering Visual Technology logo Courtesy Vertigo Technology Inc aj b Product advertising Courtesy Audrey Fleisher b c SOFTIMAGE Inc V7 frame motion rendered saved image file In succes sive frame motion simulated moving object positions slightly positions previous frame When frames animation sequence rendered frames transferred film stored video buffer playback Film animations require frames second animation se quence If animation played back video monitor frames per second required A common graphics method employed many commercials morphing one object transformed metamorphosed another This method used TV commercials turn oil automobile engine au tomobile tiger puddle water tire one person face face An example morphing given Computer graphics methods commonly used making motion pic tures music videos television shows Sometimes graphics scenes dis played sometimes graphics objects combined ac tors live scenes A graphics scene generated movie Siar Trek The Wrath Khan shown The planet spaceship drawn wireframe form shaded rendering methods produce solid surfaces shows scenes generated advanced modeling surface rendering meth ods two award winning short films Many TV series regularly employ computer graphics methods shows scene produced series Deep Space Nine And shows wireframe person combined actors live scene series Stay Tuned Graphics developed Paramount Pictures movie Star Trek The Wrath Khan Courtesy Evans Sutherland In highly realistic image taken reconstruction thir Section teenth century Dadu Beijing Japanese broadcast Entertainment Music videos use graphics several ways Graphics objects com bined live action Fig 38 graphics image processing tech niques used produce transformation one person object morphing An example morphing shown sequence scenes produced David Byrne video She Mad b A computer generated scene film Red Dream copyright Pixar b A computer generated scene film Knickknack copyright Pixar Courtesy Pixar A graphics scene TV series Deep Space Nine Courtesy Rhythm Hues Studios Chapter A Survey Computer Graphics Graphics combined live scene TV series Stay Tuned Courtesy Rhythm Hues Studios An image reconstruction thirteenth century Dadu Beijing today created Taisei Corporation Tokyo rendered TDI software Courtesy Thompson Digital Image Inc Section Education Training Examples morphing David Byrne video She Mad Courtesy David Byrne Index Video Pacific Data Images Computer generated models physical financial economic systems often used educational aids Models physical systems physiological sys tems population trends equipment color coded diagram Fig help trainees understand operation system For training applications special systems designed Examples specialized systems simulators practice sessions training ship captains aircraft pilots heavy equipment operators air traffic control personnel Some simulators video screens example flight simula tor control panel instrument flying But simulators provide graphics screens visual operation Two examples large simulators ternal viewing systems shown Figs 42 43 Another type viewing system shown Here viewing screen multiple panels mounted front simulator color projectors display flight scene screen panels Similar viewing systems used simulators training air craft control tower personnel gives example instructor area flight simulator The keyboard used input parameters affecting airplane performance environment pen plotter used chart path aircraft training session Scenes generated various simulators shown Figs 46 An output automobile driving simulator given This simulator used investigate behavior drivers critical situations The drivers reactions used basis optimizing vehicle design maxi mize traffic safety rae Te Color coded diagram used ta A large enclosed flight simulator explain operation nuclear full color visual system reactor Courtesy Los Alamos six degrees freedom National Laboratory motion Courtesy Frasca International A military tank simulator visual imagery system Courtesy Mediatech GE Aerospace Section Education Training A flight simulator external full color viewing system Courtesy Frasca International An instructor area flight simulator The equipment allows instructor monitor flight conditions set airplane environment parameters Courtesy Frasca International Flight simulator imagery Courtesy Evans Sutherland Imagery generated naval simulator Courtesy Eoans Sutherland Space shuttle imagery Courtesy Mediatech GE Aerospace Imagery automobile simulator used test driver reaction Courtesy Evans Sutherland Scientists engineers medical personnel business analysts others often need analyze large amounts information study behavior certain processes Numerical simulations carried supercomputers frequently pro duce data files containing thousands even millions data values Similarly satellite cameras sources amassing large data files faster interpreted Scanning large sets numbers tu determine trends relationships tedious ineffective process But data converted visual form trends patterns often immediately apparent Figure shows example large data set converted color coded display relative heights ground plane Once plotted den sity values way see easily overall pattern data Produc ing graphical representations scientific engineering medical data sets processes generally referred scientific visualization And term busi ness visualization used connection data sets related commerce indus try nonscientific areas There many different kinds data sets effective visualization schemes depend characteristics data A collection data con tain scalar values vectors higher order tensors combination data types And data sets two dimensional three dimensional Color coding one way visualize data set Additional techniques include contour plots graphs charts surface renderings visualizations volume interi ors In addition image processing techniques combined computer graphics produce many data visualizations Mathematicians physical scientists others use visual techniques alyze mathematical functions processes simply produce interesting graphical representations A color plot mathematical curve functions shown surface plot function shown Fractal proce Section Visualization Chapter A Survey Computer Graphics A color coded plot million density points relative brightness observed Whirlpool Nebula reveals two distinct galaxies Courtesy Los Alamos National Laboratory Tw Mathematical curve functions plotted various color combinations Courtesy Melvin L Prueitt Los Alamos National Laboratory Lighting effects surface rendering techniques applied produce surface Tepresentation three dimensional function Courtesy Wolfram Research Inc The Maker Mathematica dures using quaternions generated object shown topologi Section cal structure displayed Scientists also developing methods _ Visualization visualizing general classes data shows general technique graphing modeling data distributed spherical surface A many visualization applications shown Figs 56 69 These figures show airflow surface space shuttle nu merical modeling thunderstorms study crack propagation metals color coded plot fluid density airfoil cross sectional slicer data sets protein modeling stereoscopic viewing molecular structure model ocean floor Kuwaiti oil fire simulation air pollution study corn grow ing study reconstruction Arizona Chaco Canyon ruins graph auto mobile accident statistics A four dimensional object projected three dimensional space projected video monitor color coded The object generated using quaternions fractal squaring procedures octant subtracted show complex Julia set Courtesy John C Hart School Electrical Engineering Computer Science Washington State University Four views real time interactive computer animation study minimal surfaces snails sphere projected three dimensional Euclidean space Courtesy George Francis Department Mathematics National Center Supercomputing Applications University Minois Urbana Champaign Copyright A method graphing modeling data distributed spherical surface Courtesy Greg Nielson Computer Sctence Department Arizona State University A visualization stream surfaces flowing past space shuttle Jeff Hultquist Eric Raible NASA Ames Courtesy Sam Uselton NASA Ames Research Center Numerical model surface thunderstorm Courtesy Bob Wilkelmson Department Atmospheric Sciences National Center Supercomputing Applications University Mlinois Urbana Champaign Numerical model airflow inside thunderstorm Courtesy Bob Wilhelmson Department Atmospheric Sciences National Center Supercomputing Applications University Minois Urbana Champaign Color coded visualization stress energy density crack Propagation study metal plates modeled Bob Haber Courtesy National Center Supercomputing Applications University Ilinois Urbana Champaign Commercial slicer dicer software showing color coded data values cross sectional slices data set Courtesy Spyglass Inc Section Visualization A fluid dynamic simulation showing color coded plot fluid density span grid planes around aircraft wing developed Lee Hian Quek John Eickemeyer Jeffery Tan Courtesy Information Technology Institute Republic Singapore Visualization protein structure Jay Siegel Kim Baldridge SDSC Courtesy Stephanie Sides San Diego Supercomputer Center Stereoscopic viewing molecular structure using boom device Courtesy National Center Supercomputing Applications University Illinois Urbana Champaign One image stereogcopic pair showing visualization ocean floor obtained satellite data David Sandwell Chris Small Scripps Institution Ocean ography Jim Mcleod SDSC Courtesy Stephanie Sides San Diego Supercomputer Center A simulation effects Kuwaiti oil fire Gary Glatzmeier Chuck Hanson Paul Hinker Courtesy Mike Krogh Advanced Computing Laboratory Los Alamos National Laboratory Section Visualization A visualization pollution earth surface Tom Palmer Cray Research Inc NCSC Chris Landreth NCSC Dave Bock NCSC Pollutant SO plotted blue surface acid rain deposition color plane map surface rain concentration shown clear cylinders Courtesy North Carolina Supercomputing Center MCNC A visualization reconstruction ruins Chaco Canyon Arizona Courtesy Melvin L Prueitt Los Alamos National Laboratory Data supplied Stephen H Lekson One frame animation sequence showing development corn ear Courtesy National Center Supercomputing Applications University Mlinois Urbana Champaign Ls eg ont regen Can tec pti Tel Pee os rere ie eae ahr Analysis A prototype technique called Win Viz visualizing tabular multidimensional data used correlate statistical information pedestrians involved automobile accidents developed visualization team ITT Courtesy Lee Hian Quek Information Technology Institute Republic Singapore Although methods used computer graphics image processing overlap two areas concerned fundamentally different operations In computer graphics computer used create picture Image processing hand applies techniques modify interpret existing pictures pho tographs TV scans wo principal applications image processing improving picture quality machine perception visual information used robotics To apply image processing methods first digitize photograph picture image file Then digital methods applied rearrange pic ture parts enhance color separations improve quality shading An example application image processing methods enhance quality picture shown These techniques used extensively com mercial art applications involve retouching rearranging sections photographs artwork Similar methods used analyze satellite photos earth photos galaxies Medical applications also make extensive use image processing tech niques picture enhancements tomography simulations opera tions Tomography technique X ray photography allows cross sec tional views physiological systems displayed Both computed X ray tomography CT position emission tomography PET use projection methods reconstruct cross sections digital data These techniques also used A blurred photograph license plate becomes legible application image processing techniques Courtesy Los Alamos National Laboratory monitor internal functions show cross sections surgery Other med ical imaging techniques include ultrasonics nuclear medicine scanners With ultrasonics high frequency sound waves instead X rays used generate digital data Nuclear medicine scanners collect digital data radiation emit ted ingested radionuclides plot color coded images Image processing computer graphics typically combined many applications Medicine example uses techniques model study physical functions design artificial limbs plan practice surgery The last application generally referred computer aided surgery Two dimensional cross sections body obtained using imaging tech niques Then slices viewed manipulated using graphics methods simulate actual surgical procedures try different surgical cuts Exam ples medical applications shown Figs 71 72 One frame computer animation visualizing cardiac activation levels within regions semitramsparent volume rendered dog heart Medical data provided William Smith Ed Simpson G Allan Johnson Duke University Image rendering software Tom Palmer Cray Research Inc NCSC Courtesy Dave Bock North Carolina Supercomputing Center MCNC One image stereoscopic pair showing bones human hand The images rendered Inmo Yoon D E Thompson W N Waggenspack Jr LSU data set obtained CT scans Rehabilitation Research GWLNHDC These images show possible tendon path reconstructive surgery Courtesy IMRLAB Mechanical Engineering Louisiana State University Section Image Processing Chapter A Survey Computer Graphics GRAPHICAL USER INTERFACES It common software packages provide graphical interface A major component graphical interface window manager allows user display multiple window areas Each window contain different process contain graphical nongraphical displays To make particular win dow active simply click window using interactive pointing device Interfaces also display menus icons fast selection processing op tions parameter values An icon graphical symbol designed look like processing option represents The advantages icons take less screen space corresponding textual descriptions understood quickly well designed Menus contain lists textual descrip tions icons illustrates typical graphical interface containing window manager menu displays icons In example menus allow selection processing options color values graphics parameters The icons represent options painting drawing zooming typing text strings operations connected picture construction A graphical user interface showing multiple window areas menus icons Courtesy Image In Corporation CHAPTER Overview Graphics Systems D ue widespread recognition power utility computer graphics virtually fields broad range graphics hardware software systems available Graphics capabilities two dimen sional three dimensional applications common general purpose computers including many hand held calculators With personal computers use wide variety interactive input devices graphics software pack ages For higher quality applications choose number sophisti cated special purpose graphics hardware systems technologies In chap ter explore basic features graphics hardware components graphics software packages Typically primary output device graphics system video monitor Fig The operation video monitors based standard cathode ray tube CRT design several technologies exist solid state monitors may eventually predominate A computer graphics workstation Courtesy Tektronix Inc Refresh Cathode Ray Tubes illustrates basic operation CRT A beam electrons cathode rays emitted electron gun passes focusing deflection systems direct beam toward specified positions phosphor coated screen The phosphor emits small spot light position contacted electron beam Because light emitted phosphor fades rapidly method needed maintaining screen picture One way keep phosphor glowing redraw picture repeatedly quickly directing electron beam back points This type display called refresh CRT The primary components electron gun CRT heated metal cathode control grid Heat supplied cathode directing current coil wire called filament inside cylindrical cathode structure This causes electrons boiled hot cathode surface In vacuum inside CRT envelope free negatively charged electrons accelerated toward phosphor coating high positive voltage The acceler Magnetic Deflection Coils Phosphor Focusing Coated System Screen Electron Connector Electron Beam Pins Gun Basic design magnetic deflection CRT Electron Focusing Beam Cathode Anode Path Heating Filament Control Accelerating Grid Anode Operation electron gun accelerating anode Section Video Display Devices Chapter Overview Graphics Systems ating voltage generated positively charged metal coating side CRT envelope near phosphor screen accelerating anode used Sometimes electron gun built contain acceler ating anode focusing system within unit Intensity electron beam controlled setting voltage levels control grid metal cylinder fits cathode A high negative voltage applied control grid shut beam repelling electrons stopping passing small hole end control grid structure A smailer negative voltage control grid simply decreases number electrons passing Since amount light emitted phosphor coating depends number electrons striking screen control brightness display varying voltage control grid We specify intensity level individual screen positions graphics software commands discussed Chapter The focusing system CRT needed force electron beam con verge small spot strikes phosphor Otherwise electrons would repel beam would spread approaches screen Fo cusing accomplished either electric magnetic fields Electrostatic focus ing commonly used television computer graphics monitors With elec trostatic focusing electron beam passes positively charged metal cylinder forms electrostatic lens shown The action electrostatic lens focuses electron beam center screen exactly way optical lens focuses beam light particular focal dis tance Similar lens focusing effects accomplished magnetic field set coil mounted around outside CRT envelope Magnetic lens fo cusing produces smallest spot size screen used special purpose devices Additional focusing hardware used high precision systems keep beam focus screen positions The distance electron beam must travel different points screen varies radius curvature CRTs greater distance focusing system screen center Therefore electron beam focused properly center screen As beam moves outer edges ihe screen displayed images become blurred To compensate system adjust focusing ac cording screen position beam As focusing deflection electron beam controlled either electric fields magnetic fields Cathode ray tubes commenly constructed magnetic deflection coils mounted outside CRT envelope illustrated Two pairs coils used coils pair mounted opposite sides neck CRT envelope One pair mounted top bottom neck pair mounted opposite sides neck The magnetic field produced pair coils sults transverse deflection force perpendicular direction magnetic field direction travel electron beam Horizontal deflection accomplished one pair coils vertical deflection pair The proper deflection amounts attained adjusting current coils When electrostatic deflection used two pairs parallel plates mounted inside CRT envelope One pair plates mounted hori zontally control vertical deflection pair mounted vertically control horizontal deflection Spots light produced screen transfer CRT beam energy phosphor When electrons beam collide phos Vertical Phospher Focusing Deflection Costed System Plates Screen Electron Connector Electron Horizontal Beam Pins Gun Deflection Plates Electrostatic deflection electron beam CRT phor coating stopped kinetic energy absorbed phos phor Part beam energy converted friction heat energy remainder causes electrons phosphor atoms move higher quan tum energy levels After short time excited phosphor electrons begin dropping back stable ground state giving extra energy small quantums light energy What see screen combined effect electron light emissions glowing spot quickly fades excited phosphor electrons returned ground energy level The frequency color light emitted phosphor proportional energy differ ence excited quantum state ground state Different kinds phosphors available use CRT Besides color major difference phosphors persistence long continue emit light excited electrons returning ground state CRT beam removed Persistence defined time takes emitted light screen decay one tenth original intensity Lower persistence phosphors require higher refresh rates maintain picture screen without flicker A phosphor low persistence useful animation high persistence phosphor useful displaying highly complex static pic tures Although phosphors persistence greater second graph ics monitors usually constructed persistence range microseconds shows intensity distribution spot screen The tensity greatest center spot decreases Gaussian distrib ution edges spot This distribution corresponds cross sectional electron density distribution CRT beam The maximum number points displayed without overlap CRT referred resolution A precise definition resolution number points per centimeter plotted horizontally vertically although often simply stated total number points direction Spot intensity Gaussian distribution two adjacent spots appear distinct long separation greater diameter spot intensity percent center spot This overlap position illustrated Spot size also depends intensity As electrons accelerated toward phospher per second CRT beam diameter illuminated spot increase In addition increased exci tation energy tends spread neighboring phosphor atoms directly Intensity distribution illuminated phosphor spot CRT screen Chapter Overview Graphics Systems Two illuminated phosphor spots distinguishable separation greater diameter spot intensity fallen percent maximum path beam increases spot diameter Thus resolution CRT dependent type phosphor intensity displayed focusing deflection systems Typical resolution high quality systems higher resolutions available many systems High resolution systems often referred high definition systems The physical size graphics monitor given length screen diagonal sizes varying inches inches A CRT monitor tached variety computer systems number screen points actually plotted depends capabilities system tached Another property video monitors aspect ratio This number gives ratio vertical points horizontal points necessary produce equal length lines directions screen Sometimes aspect ratio stated terms ratio horizontal vertical points An aspect ratio means ver tical line plotted three points length horizontal line plot ted four points Raster Scan Displays The common type graphics monitor employing CRT raster scan display based television technology In raster scan system electron beam swept across screen one row time top bottom As electron beam moves across row beam intensity turned create pattern illuminated spots Picture definition stored memory area called refresh buffer frame buffer This memory area holds set intensity values screen points Stored intensity values trieved refresh buffer painted screen one row scan line time Each screen point referred pixel pel shortened forms picture element The capability raster scan system store inten sity information screen point makes well suited realistic displav scenes containing subtle shading color patterns Home television sets printers examples systems using raster scan methcds Intensity range pixel positions depends capability raster system In simple black white system screen point either oft one bit per pixel needed control intensity screen positions For bilevel system bit value indicates electron beam turned position value indicates beam intensity Additional bits needed color intensity variations displayed Up bits per pixel included high quality systems require several megabytes storage frame buffer depending resolution system A system bits per pixel screen resolution bv requires megabytes storage frame buffer On black white system one bit per pixel frame buffer commonly called bitmap For systems multiple bits per pixel frame buffer often referred pixmap Refreshing raster scan displays carried rate frames per second although systems designed higher refresh rates Sometimes refresh rates described units cycles per second Hertz Hz cycle corresponds one frame Using units would de scribe refresh rate frames per second simply Hz At end scan line electron beam returns left side screen begin displav ing next scan line The return left screen refreshing A raster scan system displays object set discrete points across scan line scan line called horizontal retrace electron beam And end frame displayed 80th 60th second electron beam returns vertical retrace top left corner screen begin next frame On raster scan systems TV sets frame displayed two passes using interlaced refresh procedure In first pass beam sweeps across every scan line top bottom Then vertical trace beam sweeps remaining scan lines Interlacing scan lines way allows us see entire screen displayed one half time would taken sweep across lines top bottom Interlacing primarily used slower refreshing rates On older frame per second noninterlaced display instance flicker noticeable But interlacing two passes accomplished 60th sec ond brings refresh rate nearer frames per second This effec tive technique avoiding flicker providing adjacent scan lines contain sim ilar display information Random Scan Displays When operated random scan display unit CRT electron beam di rected parts screen picture drawn Random scan monitors draw picture one line time reason also ferred vector displays stroke writing calligraphic displays The component lines picture drawn refreshed random scan sys Chapter Overview Graphics Systems Interlacing scan lines raster scan display First points even numbered solid scan lines displayed points along odd numbered dashed lines displayed tem specified order A pen plotter operates similar way example random scan hard copy device Refresh rate random scan system depends number lines displayed Picture definition stored set line drawing commands area memory referred refresh display file Sometimes refresh display file called display list display program simply refresh buffer To display specified picture system cycles set com mands display file drawing component line turn After line drawing commands processed system cycles back first line command list Random scan displays designed draw compo nent lines picture times second High quality vector systems capable handling approximately 000 short lines refresh rate When small set lines displayed refresh cycle delayed avoid refresh rates greater frames per second Otherwise faster refreshing set lines could burn phosphor Random scan systems designed line drawing applications display realistic shaded scenes Since picture definition stored set line drawing instructions set intensity values screen points vector displays generally higher resolution raster systems Also vector displays produce smooth line drawings CRT beam directly follows line path A raster system contrast produces jagged lines plotted discrete point sets Color CRT Monitors A CRT monitor displays color pictures using combination phosphors emit different colored light By combining emitted light different phosphors range colors generated The two basic techniques pro ducing color displays CRT beam penetration method shadow mask method The beam penetration method displaying color pictures used random scan monitors Two layers phosphor usually red green A random scan system draws component lines object order specified coated onto inside CRT screen displayed color depends far electron beam penetrates phosphor layers A beam slow electrons excites outer red layer A beam fast electrons penetrates red layer excites inner green layer At intermediate beam speeds combinations red green light emitted show two additional colors orange yellow The speed electrons hence screen color point controlled beam acceleration voltage Beam penetration inexpensive way produce color random scan monitors four colors possible quality pictures good methods Shadow mask methods commonly used raster scan systems includ ing color TV produce much wider range colors beam penetration method A shadow mask CRT three phosphor color dots pixel position One phosphor dot emits red light another emits green light third emits blue light This type CRT three electron guns one color dot shadow mask grid behind phosphor coated screen illustrates delia delta shadow mask method commonly used color CRT systems The three electron beams deflected focused group onto shadow mask contains series holes aligned phosphor dot patterns When three beams pass hole shadow mask activate dot triangle appears small color spot screen The phosphor dots triangles arranged electron beam activate corresponding color dot passes Electron Guns Cc _ x Selectian G Shadow Mask Magnified Phosphor Dot Blue Triangle _ Screen Operation delta delta shadow mask CRT Three electron guns aligned triangular color dot patterns screen directed dot triangle shadow mask shadow mask Another configuration three electron guns line arrangement three electron guns corresponding red green blue color dots screen aligned along one scan line instead triangular pattern This line arrangement electron guns easier keep alignment commonly used high resolution color CRTs We obtain color variations shadow mask CRT varying intensity levels three electron beams By turning red green guns get color coming blue phosphor Other combinations beam tensities produce small light spot pixel position since eyes tend merge three colors one composite The color see depends amount excitation red green blue phosphors A white gray area result activating three dots equal intensity Yellow pro duced green red dots magenta produced blue red dots cyan shows blue green activated equally In low cost systems electron beam set limiting displavs eight colors More sophisticated systems set intermediate intensity levels electron beams allowing several million different colors generated Color graphics systems designed used several types CRT display devices Some inexpensive home computer systems video games designed use color TV set RF radio frequency mod ulator The purpose RF dulator simulate signal broad cast TV station This means color intensity information picture must combined superimposed broadcast frequency carrier signal TV needs input Then circuitry TV takes signal RF modulator extracts picture information paints screen As might expect extra handling picture information RF modulator TV circuitry decreases quality displayed images Composite monitors adaptations TV sets allow bypass broadcast circuitry These display devices still require picture informa tion combined carrier signal needed Picture information com bined composite signal separated monitor resulting picture quality still best attainable Color CRTs graphics systems designed RGB monitors These mon itors use shadow mask methods take intensity level electron gun red green blue directly computer system without intermedi ate processing High quality raster graphics systems bits per pixel frame buffer allowing voltage settings electron gun nearly million color choices pixel An RGB color system bits storage per pixel generally referred full color system true color system Direct View Storage Tubes An alternative method maintaining screen image store picture formation inside CRT instead refreshing screen A direct view storage tube DVST stores picture information charge distribution behind phosphor coated screen Two electron guns used DVST One pri mary gun used store picture pattern second flood gun main tains picture display A DVST monitor disadvantages advantages compared refresh CRT Because refreshing needed complex pictures dis played high resolutions without flicker Disadvantages DVST systems ordinarily display color selected parts picture erased To eliminate picture section entire screen must erased modified picture redrawn The erasing redrawing process take several seconds complex picture For reasons storage displays largely replaced raster systems Flat Panel Displays Although graphics monitors still constructed CRTs technolo gies emerging may soon replace CRT monitors The term flat panel dis play refers class video devices reduced volume weight power requirements compared CRT A significant feature flat panel dis plays thinner CRTs hang walls wear wrists Since even write flat panel displays soon available pocket notepads Current uses flat panel displays clude small TV monitors calculators pocket video games laptop computers armrest viewing movies airlines advertisement boards elevators graphics displays applications requiring rugged portable monitors We separate flat panel displays two categories emissive displays nonemissive displays The emissive displays emitters devices convert electrical energy light Plasma panels thin film electroluminescent displays light emitting diodes examples emissive displays Flat CRTs also devised electron beams accelerated parallel screen deflected screen But flat CRTs proved successful emissive devices Nonemmissive displays nonemitters use optical effects convert sunlight light source graph ics patterns The important example nonemissive flat panel display liquid crystal device Plasma panels also called gas discharge displays constructed fill ing region two glass plates mixture gases usually Section Video Display Devices Glass Plate cludes neon A series vertical conducting ribbons placed one glass panel sect horizontal ribbons built glass panel Firing voltages applied pair horizontal vertical conductors cause gas intersection two conductors break glowing plasma electrons ions Picture definition stored refresh buffer firing voltages applied refresh pixel positions intersections con ductors times per second Alternating current methods used provide faster application firing voltages thus brighter displays Separation pixels provided electric field conductors shows high definition plasma panel One disadvantage plasma panels strictly monochromatic devices systems de veloped capable displaying color grayscale Thin film electroluminescent displays similar construction plasma panel The difference region glass plates filled phosphor zinc sulfide doped manganese instead gas When sufficiently high voltage applied pair crossing elec trodes phosphor becomes conductor area intersection two electrodes Electrical energy absorbed manganese atoms release energy spot light similar glowing plasma ef fect plasma panel Electroluminescent displays require power plasma panels good color gray scale displays hard achieve A third type emissive device light emitting diode LED A matrix diodes arranged form pixel positions display picture defin ition stored refresh buffer As scan line refreshing CRT information Basic design plasma panel A plasma panel display display device resolution screen diagonal meters Courtesy Photonics Systems Conductors Glass Plate Glass Plate Phosphor Basic design thin film electroluminescent display device read refresh buffer converted voltage levels applied diodes produce light patterns display Liquid crystal displays LCDs commonly used small systems calculators portable laptop computers These non emissive devices produce picture passing polarized light surround ings internal light source liquid crystal material aligned either block transmit light The term liquid crystal refers fact compounds crys talline arrangement molecules yet flow like liquid Flat panel displays commonly use nematic threadlike liquid crystal compounds tend keep long axes rod shaped molecules aligned A flat panel display constructed nematic liquid crystal demonstrated Two glass plates containing light polarizer right angles plate sandwich liquid crystal material Rows horizontal transparent conductors built one glass plate columns vertical conductors put plate The intersection uf two conductors defines pixel position Nor mally molecules aligned shown state Polarized light passing material twisted pass op posite polarizer The light reflected back viewer To tum pixel apply voltage two intersecting conductors align mole cules light twisted This type flat panel device referred passive matrix LCD Picture definitions stored refresh buffer screen refreshed rate frames per second emissive devices Back lighting also commonly applied using solid state electronic devices system completely dependent outside light sources Colors displayed using different materials dyes placing triad color pixels screen location Another method constructing LCDs place transistor pixel location using thin film transistor technology The tran sistors used control voltage pixel locations prevent charge gradually leaking liquid crystal cells These devices called active matrix displays Section Video Display Devices A hand calculator LCD screen Courtesy Texas Instruments A backlit passive matrix liquid crystal display laptop computer featuring colors screen resolution screen diagonal inches Courtesy Apple Computer Inc Polarizer Off State aon The light twisting shutter effect used design liquid crystal display devices Three Dimensianal Viewing Devices Section Video Display Devices Graphics monitors display three dimensional scenes devised using technique reflects CRT image vibrating flexible mirror The operation system demonstrated As varifocal mirror vibrates changes focal length These vibrations synchronized dis play object CRT point object reflected mirror spatial position corresponding distance point specified viewing position This allows us walk around object scene view different sides shows Genisco SpaceGraph system uses vibrating mirror project three dimensional objects cm cm cm vol ume This system also capable displaying two dimensional cross sectional slices objects selected different depths Such systems used medical applications analyze data ultrasonography CAT scan de vices geological applications analyze topological seismic data de sign applications involving solid objects three dimensional simulations systems molecules terrain Projected E Image Timing Control System z Vibrating Flexible Mirror f f f f f Viewer peration three dimensional display system using vibrating mirror changes focal length match depth points scene The SpaceGraph interactive graphics system displays objects three dimensions using vibrating flexible mirror Courtesy Genisco Computers Corporation Chapter2 Stereoscopic Virtual Reality Systems Overvi f ics erview Graphics Systems Another technique representing three dimensional objects displaying stereoscopic views This method produce true three dimensional im ages provide three dimensional effect presenting different view eye observer scenes appear depth To obtain stereoscopic projection first need obtain two views scene generated viewing direction corresponding eye left tight We constrict two views computer generated scenes differ ent viewing positions use stereo camera pair photograph object scene When simultaneous look left view left eye right view right eye two views merge single image perceive scene depth shows two views computer generated scene stereographic projection To increase viewing comfort areas left right edges scene visible one eye eliminated Viewing stereoscopic projection Courtesy StereoG raphics Corporation eve Co Right A stereoscopic viewing pair Courtesy Jerry Farm One way produce stereoscopic effect display two views raster system alternate refresh cycles The screen viewed glasses lens designed act rapidly alternating shutter syn chronized block one views shows pair stereoscopic glasses constructed liquid crystal shutters infrared emitter syn chronizes glasses views screen Stereoscopic viewing also component virtual reality systems users step scene interact environment A headset containing optical system generate stereoscopic views commonly used conjuction interactive input devices locate manip ulate objects scene A sensing system headset keeps track viewer position front back objects seen viewer Glasses viewing stereoscopic scene infrared synchronizing emitter Courtesy StereoGraphics Corporation A headset used virtual reality systems Courtesy Virtual Research Section Video Display Devices Interacting virtual reality environment Courtesy National Center Supercomputing Applications University Mlinois Urbana Champaign walks interacts display illustrates interaction virtua scene using headset data glove worn right hand Section An interactive virtual reality environment also viewed stereo scopic glasses video monitor instead headset This provides means obtaining lower cost virtual reality system As example shows ultrasound tracking device six degrees freedom The tracking device placed top video display used monitor head movements viewing position scene changed head position changes An ultrasound tracking device used stereoscopic glasses track head position Courtesy StereoGraphics Corporation Interactive raster graphics systems typically employ several processing units In addition central processing unit CPU special purpose processor called video controller display controller used control operation display device Organization simple raster system shown Here frame buffer anywhere system memory video controller accesses frame buffer refresh screen In addition video controller sophisticated raster systems employ processors co processors accelerators implement various graphics operations Video Controller shows commonly used organization raster systems A fixed area system memory reserved frame buffer video controller given direct access frame buffer memory Frame buffer locations corresponding screen positions refer enced Cartesian coordinates For many graphics monitors coordinate ori VO Devices Architecture simple raster graphics system Architecture raster system fixed portion system memory reserved frame buffer Section Raster Scan Systems The origin coordinate system identifying screen positions usually specified lower left corner gin defined lower left screen corner The screen surface represented first quadrant two dimensional system positive x values increasing right positive values increasing bottom top On personal computers coordinate origin referenced upper left corner screen values inverted Scan lines labeled ym top screen bottom Along scan line screen pixel positions labeled x ux In basic refresh operations video controller dia grammed Two registers used store coordinates screen pixels Ini tially x register set register set Yq The value stored frame buffer pixel position retrieved used set inten sity CRT beam Then x register incremented process peated next pixel top scan line This procedure repeated pixel along scan line After last pixel top scam line processed x register reset register decremented Pixels along scan line processed turn procedure repeated successive scan line After cycling pixels along bottom scan line video controller resets registers first pixel position top scan line refresh process starts Since screen must refreshed rate frames per second simple procedure illustrated accommodated typical RAM chips The cycle time slow To speed pixel processing video con trollers retrieve multiple pixel values refresh buffer pass The multiple pixel intensities stored separate register used control CRT beam intensity group adjacent pixels When group pixels processed next block pixel values retrieved frarne buffer A number operations performed video controller sides basic refreshing operations For various applications video con Honzontal ana De Variical Deflection Voltages Basic video controller refresh operations Processor Memory I System Bus Devices Architecture raster graphics system display processor troller retrieve pixel intensities different memory areas different fresh cycles In high quality systems example two frame buffers often provided one buffer used refreshing filled intensity values Then two buffers switch roles This provides fast mechanism generating real time animations since different views moving objects successively loaded refresh buffers Also transformations accomplished video controller Areas screen enlarged reduced moved one location another fresh cycles In addition video controller often contains lookup table pixel values frame buffer used access lookup table instead controlling CRT beam intensity directly This provides fast method changing screen intensity values discuss lookup tables detail ir Chapter Finally systems designed allow video controller mix frame buffer image input image television camera input device Raster Scan Display Processor shows one way set organization raster system contain ing separate display processor sometimes referred graphics controller display coprocessor The purpose display processor free CPU graphics chores In addition system memory separate display processor memory area also provided A major task display processor digitizing picture definition given application program set pixel intensity values storage frame buffer This digitization process called scan conversion Graphics com mands specifying straight lines geometric objects scan converted set discrete intensity points Scan converting straight line segment example means locate pixel positions closest line path store intensity position frame buffer Similar methods used scan converting curved lines polygon outlines Characters defined rectangular grids defined curved A character defined rectangular grid pixel positions C A character defined curve outline outlines The array size character grids vary higher quality displays A character grid displayed superimposing rectangular grid pattern frame buffer specified coordinate position With characters defined curve outlines character shapes scan converted frame buffer Display processors also designed perform number additional op erations These functions include generating various line styles dashed dotted solid displaying color areas performing certain transformations nipulations displayed objects Also display processors typically designed interface interactive input devices mouse In effort reduce memory requirements raster systems methods devised organizing frame buffer linked list encoding intensity information One way store scan line set integer pairs One number pair indicates intensity value sec ond number specifies number adjacent pixels scan line intensity This technique called min length encoding result considerable saving storage space picture constructed mostly long runs single color A similar approach taken pixel tensities change linearly Another approach encode raster set rec tangular areas cell encoding The disadvantages encoding runs tensity changes difficult make storage requirements actually increase length runs decreases In addition difficult display con troller process raster many short runs involved The organization simple random scan vector systern shown An application program input stored system memory along graphics package Graphics commands application program translated graphics package display file stored system memory This dis play file accessed display processor refresh screen The dis play processor cycles command display file program every refresh cycle Sometimes display processor random scan system referred display processing unit graphics controller VO Devices Architecture simple random scan system Graphics patterns drawn random scan system directing electron beam along component lines picture Lines defined values coordinate endpoints input coordinate values con verted x deflection voltages A scene drawn one line time positioning beam fill line specified endpoints Most graphics monitors today operate raster scan displays sur vey many graphics hardware configurations available Graphics sys tems range small general purpose computer systems graphics capabil ities sophisticated full color systems designed specifically graphics applications A typical screen resolution personal com A desktop general purpose computer system used graphics applications Courtesy Apple Computer Inc Section Graphics Monilors Workstations Computer graphics workstations keyboard mouse input devices The Iris Indigo Courtesy Siticon Graphics Corporation b SPARCstation Courtesy Sun Microsystems puter systems Apple Quadra shown al though screen resolution system capabilities vary depending size cost system Diagonal screen dimensions general purpose per sonal computer systems range inches allowable color se lections range 000 For workstations specifically designed graphics applications systems shown typical screen reso lution screen diagonal inches Graphics workstations configured bits per pixel full color sys tems higher screen resolutions faster processors options avail able high end systems shows high definition graphics monitor used applications air traffic control simulation medical imaging CAD This system diagonal screen size inches resolutions ranging refresh rates Hz Hz noninterlaced A multiscreen system called MediaWall shown provides large wall sized display area This system designed applications quire large area displays brightly lighted environments trade shows conventions retail stores museums passenger terminals MediaWall operates splitting images number sections distributing sec tions array monitors projectors using graphics adapter satel lite control units An array monitors resolution used MediaWall provide overall resolution either static scenes animations Scenes displayed behind mul lions mullions eliminated display continuous picture breaks various sections Many graphics workstations shown configured two monitors One monitor used show features object scene second monitor displays detail part picture Another use dual monitor systems view picture one monitor display graphics options menus manipulating picture com ponents monitor A high resolution color monitor Courtesy BARCO Chromatics The MediaWall A multiscreen display system The image displayed array monitors created Deneba Software Courtesy RGB Spectrum Single dual monitor graphics workstations Courtesy Intergraph Corporation Figures 38 39 illustrate examples interactive graphics worksta tions containing multiple input devices A typical setup CAD appli cations shown Various keyboards button boxes tablets mice attached video monitors use design process shows features types artist workstations Multiple workstations CAD group Courtesy Hewlett Packard Company S An artisl workstation featuring color raster monitor keyboard graphics tablet hand cursor light table addition data storage telecommunications devices Courtesy DICOMED Corporation Various devices available data input graphics workstations Most sys tems keyboard one additional devices specially designed interactive input These include mouse trackball spaceball joystick digitizers dials button boxes Some input devices usea particular applications data gloves touch panels image scanners voice systems Keyboards An alphanumeric keyboard graphics system used primarily device entering text strings The keyboard efficient device inputting nongraphic data picture labels associated graphics display Keyboards also provided features facilitate entry screen coordinates menu selections graphics functions Cursor contro keys function keys common features general purpose keyboards Function keys allow users enter frequently used opera tions single keystroke cursor control keys used select dis played objects coordinate positions positioning screen cursor Other types cursor positioning devices trackball joystick included keyboards Additionally numeric keypad often included key board fast entry numeric data Typical examples general purpose key boards given Figs 33 34 shows ergonomic keyboard design For specialized applications input graphics application may come set buttons dials switches select data values customized graphics operations gives example button box set input dials Buttons switches often used input predefined functions dials common devices entering scalar values Real numbers within defined range selected input dial rotations Potentiometers used mea sure dial rotations converted deflection voltages cursor movement Mouse A mouse small hand held box used position screen cursor Wheels rollers bottom mouse used record amount direc Ergonomically designed keyboard removable palm rests The slope half keyboard adjusted separately Courtesy Apple Computer Inc Section input Devices tion movement Another method detecting mouse motion opti cal sensor For systems mouse moved special mouse pad grid horizontal vertical lines The optical sensor detects movement across lines grid Since mouse picked put another position without change cursor movement used making relative changes position screen cursor One two three buttons usually included top mouse signaling execution operation recording cur sor position invoking function Most general purpose graphics systems include mouse keyboard major input devices Figs 33 34 Additional devices included basic mouse design increase number allowable input parameters The Z mouse includes A button box set input dials b Courtesy Vector General The Z mouse features three buttons mouse ball underneath thumbwheel side trackball top Courtesy Multipoint Technology Corporation three buttons thumbwheel side trackball top standard mouse ball underneath This design provides six degrees freedom select spatial positions rotations parameters With Z mouse pick object rotate move direction navigate view ing position orientation three dimensional scene Applications Z mouse include virtual reality CAD animation Trackball Spacebail As name implies trackball ball rotated fingers palm hand produce screen cursor movement Poten tiometers attached ball measure amount direction rotation Trackballs often mounted keyboards devices Z mouse While trackball two dimensional positioning device spaceball Fig 45 provides six degrees freedom Unlike trackball spaceball actually move Strain gauges measure amount pressure applied spaceball provide input spatial positioning orientation ball pushed pulled various directions Spaceballs used three dimensional positioning selection operations virtual reality systems modeling anima tion CAD applications Joysticks A joystick consists small vertical lever called stick mounted base used steer screen cursor around Most joysticks select screen posi tions actual stick movement others respond pressure stick Figure 44 shows movable joystick Some joysticks mounted keyboard oth ers function stand alone units The distance stick moved direction center position corresponds screen cursor movement direction Potentiometers mounted base joystick measure amount movement springs return stick center position released One buttons programmed act input switches signal certain actions screen position selected A three button track ball Courtesy Measurement Systems Inc Norwalk Connecticut Section Input Devices Chapter Overview Graphics Systems A moveable joystick Courtesy CalComp Group Sanders Associates Inc In another type movable joystick stick used activate switches cause screen cursor move constant rate direction selected Eight switches arranged circle sometimes provided stick select one eight directions cursor movement Pressurg sensitive joy sticks also called isometric joysticks nonmovable stick Pressure stick measured strain gauges converted movement cursor direction specified Data Glove shows data glove used grasp virtual object The glove constructed series sensors detect hand finger motions Electromagnetic coupling transmitting antennas receiving antennas used provide information position orientation hand The transmitting receiving antennas structured set three mutually perpendicular coils forming three dimensional Cartesian coordinate system Input glove used position manipulate objects virtual scene A two dimensional projection scene viewed video monitor three dimensional projection viewed headset Digitizers A common device drawing painting interactively selecting coordinate po sitions object digitizer These devices used input coordinate values either two dimensional three dimensional space Typically dig itizer used scan drawing object input set discrete coor dinate positions joined straight line segments approximate curve surface shapes One type digitizer graphics tablet also referred data tablet used input two dimensional coordinates activating hand cursor stylus selected positions flat surface A hand cursor contains cross hairs sighting positions stylus pencil shaped device pointed A virtual reality scene displayed two dimensional video monitor input data glove spaceball Courtesy The Computer Graphics Center Darmstadt Germany positions tablet Figures 46 47 show examples desktop floor model tablets using hand cursors available buttons Examples stylus input tablet shown Figs 48 49 The artist digitizing system uses electromagnetic resonance detect three dimensional position stylus This allows artist produce different brush strokes different pressures tablet surface Tablet size varies inches desktop models inches larger floor models Graphics tablets provide highly accurate method selecting coordi nate positions accuracy varies mm desktop mod els 05 mm less larger models Many graphics tablets constructed rectangular grid wires em bedded tablet surface Electromagnetic pulses generated sequence ae The SummaSketch III desktop tablet button hand cursor Courtesy Summagraphics Corporation Section input Devices The NotePad desktop tablet stylus Courtesy CalComp Digitizer Division part CalComp Inc The Microgrid If tablet button hand cursor designed digitizing larger drawings Courtesy Summagraphics Corporation along wires electric signal induced wire coil activated sty lus hand cursor record tablet position Depending technology ei ther signal strength coded pulses phase shifts used determine position tablet Acoustic sonic tablets use sound waves detect stylus position Ei ther strip microphones point microphones used detect sound emitted electrical spark stylus tip The position stylus calcu An artist digitizer system pressure sensitive cordless stylus Courtesy Wacom Technology Corporation lated timing arrival generated sound different microphone positions An advantage two dimensional accoustic tablets micro phones placed surface form tablet work area This convenient various applications digitizing drawings book Three dimensional digitizers use sonic electromagnetic transmissions record positions One electromagnetic transmission method similar used data glove A coupling transmitter receiver used compute location stylus moves surface object Fig ure 50 shows three dimensional digitizer designed Apple Macintosh com puters As points selected nonmetallic object wireframe outline surface displayed computer screen Once surface outline con structed shaded lighting effects produce realistic display object Resolution system mm 08 mm depending model Image Scanners Drawings graphs color black white photos text stored computer processing image scanner passing optical scanning mechanism information stored The gradations gray scale color recorded stored array Once internal repre sentation picture apply transformations rotate scale crop picture particular screen area We also apply various image processing methods modify array representation picture For scanned text input various editing operations performed stored documents Some scanners able scan either graphical representations text come variety sizes capabilities A small hand model scanner shown 53 show larger models A three dimensional digitizing system use Apple Macintosh computers Courtesy Mira Imaging Section Input Devices A hand held scanner used input either text graphics images Courtesy Thunderware Inc Desktop full color scanners Flatbed scanner resolution dots per inch Courtesy Sharp Electronics Corporation b Drum scanner selectable resolution dots per inch Courtesy Howtek Inc Touch Panels As name implies touch panels allow displayed objects screen positions selected touch finger A typical application touch panels selection processing options represented graphical icons Some systems plasma panels shown designed touch screens Other systems adapted touch input fitting transpar ent device touch sensing mechanism video monitor screen Touch input recorded using optical electrical acoustical methods Optical touch panels employ line infrared light emitting diodes LEDs along one vertical edge along one horizontal edge frame The opposite vertical horizontal edges contain light detectors These detectors used record beams interrupted panel touched The two crossing A large floor model scanner used scan architectural engineering drawings inches wide feet long Courtesy Summagraphics Corporation beams interrupted identify horizontal vertical coordinates screen position selected Positions selected accuracy inch With closely spaced LEDs possible break two horizontal two ver tical beams simultaneously In case average position two terrupted beams recorded The LEDs operate infrared frequencies light visible user illustrates arrangement LEDs optical touch panel designed match color contours system fitted An electrical touch panel constructed two transparent plates sepa rated smal distance One plates coated conducting material plate coated resistive material When outer plate touched forced contact inner plate This contact creates volt age drop across resistive plate converted coordinate values selected screen position In acoustical touch panels high frequency sound waves generated horizontal vertical directions across glass plate Touching screen causes part wave reflected finger emitters The screen position point contact calculated measurement time terval transmission wave reflection emitter Plasma panels touch screens Courtesy Photonics Systems Section Input Devices Chapter Overview Graphics Systems An optical touch panel showing arrangement infrared LED units detectors around edges frame Courtesy Carroll Touch Inc Light Pens shows design one type light pen Such pencil shaped de vices used select screen positions detecting light coming points CRT screen They sensitive short burst light emitted phosphor coating instant electron beam strikes particular point Other light sources background light room usually detected light pen An activated light pen pointed spot screen elec tron beam lights spot generates electrical pulse causes coordi nate position electron beam recorded As cursor positioning de vices recorded light pen coordinates used position object select processing option Although light pens still us popular since several disadvantages compared input devices developed For one light pen pointed screen part screen image obscured hand pen And prolonged use light pen cause arm fatigue Also light pens require special implementations applications detect positions within black areas To able select positions screen area light pen must nonzero intensity assigned screen pixel In addition light pens sometimes give false readings due background lighting room Voice Systems Speech recognizers used graphics workstations input devices accept voice commands The voice system input used initiate graphics A light pen activated button switch Courtesy Interactive Computer Products operations enter data These systems operate matching input predefined dictionary words phrases A dictionary set particular operator operator speak command words used system Each word spoken several times system analyzes word establishes frequency pattern word dictionary along corresponding function per formed Later voice command given system searches dictio nary frequency pattern match Voice input typically spoken micro phone mounted headset The microphone designed minimize input background sounds If different operator use system dictionary must reestablished operator voice patterns Voice systems advantage input devices since attention operator switched one device another enter command A speech recognition system Courtesy Threshold Technology Inc Section Input Devices Chapter Overview Graphics Systems HARD COPY DEVICES We obtain hard copy output images several formats For presenta tions archiving send image files devices service bureaus produce mm slides overhead transparencies To put images film simply photograph scene displayed video monitor And put pictures paper directing graphics output printer plotter The quality pictures obtained device depends dot size number dots per inch lines per inch displayed To produce smooth characters printed text strings higher quality printers shift dot posi tions adjacent dots overlap Printers produce output either impact nonimpact methods Impact printers press formed character faces inked ribbon onto paper A line printer example impact device typefaces mounted bands chains drums wheels Nonimpact printers plotters use laser tech niques ink jet sprays xerographic processes used photocopying chines electrostatic methods electrothermal methods get images onto paper Character impact printers often dot matrix print head containing rectangular array protruding wire pins number pins depending quality printer Individual characters graphics patterns obtained retracting certain pins remaining pins form pattern printed shows picture printed dot matrix printer In laser device laser beam creates charge distribution rotating drum coated photoelectric material selenium Toner applied drum transferred ta paper shows examples desktop laser printers resolution dots per inch Ink jet methods produce output squirting ink horizontal rows across roll paper wrapped drum The electrically charged ink stream deflected electric field produce dot matrix patterns A desktop ink jet plotter A picture generated dot matrix printer showing density dot patterns varied produce light dark areas Courtesy Apple Computer Inc Small footprint laser printers Courtesy Texas Instruments resolution dots per inch shown examples larger high resolution ink jet printer plotters shown An electrostatic device places negative charge paper one complete Tow time along length paper Then paper exposed toner The toner positively charged attracted negatively charged areas adheres produce specified output A color electrostatic printer plotter shown Electrothermal methods use heat dot matrix print head output patterns heat sensitive paper We get limited color output impact printer using different colored ribbons Nonimpact devices use various techniques combine three color pigments cyan magenta yellow produce range color patterns Laser xerographic devices deposit three pigments separate passes ink jet methods shoot three colors simultaneously single pass along print line paper A dot per inch desktop ink jet plotter Courtesy Summagraphics Corporation Section Hard Copy Devices lal ib Floor model ink jet color printers use variable dot size achieve equivalent resolution dots per inch Courtesy IRIS Graphics Inc Bedford Massachusetts An electrostatic printer display dots per inch Courtesy CalComp Digitizer Division part CalComp Inc Drafting layouts drawings typically generated ink jet pen plotters A pen plotter one pens mounted carriage cross bar spans sheet paper Pens varying colors widths used produce variety shadings line styles Wet ink ball point felt tip pens possible choices use pen plotter Plotter paper lie flat rolled onto drum belt Crossbars either moveable stationary pen moves back forth along bar Either clamps vacuum electrostatic charge hold paper position An example table top flatbed pen plotter given larger rollfeed pen plotter shown A desktop pen plotter resolution 025 mum Courtesy Summagraphies Corporation A large rollfeed pen plotter automatic multicolor pen changer resolution 0127 mm Courtesy Summagraphics Corporation There two general classifications graphics software general programming packages special purpose applications packages A general graphics pro gramming package provides extensive set graphics functions Section Graphics Software used high level programming language C FORTRAN An exam ple general graphics programming package GL Graphics Library sys tem Silicon Graphics equipment Basic functions general package include generating picture components straight lines polygons circles figures setting color intensity values selecting views applying transformations By contrast application graphics packages designed nonprogrammers users generate displays without worrying graphics operations work The interface graphics routines packages allows users communicate programs terms Ex amples applications packages artist painting programs vari ous business medical CAD systems Coordinate Representations With exceptions general graphics packages designed used Cartesian coordinate specifications If coordinate values picture speci fied reference frame spherical hyberbolic etc must con verted Cartesian coordinates input graphics package Special purpose packages may allow use coordinate frames ap propriate application In general several different Cartesian reference frames used construct display scene We construct shape individual objects trees furniture scene within separate coordi nate reference frames called modeling coordinates sometimes local coordi nates master coordinates Once individual object shapes specified place objects appropriate positions within scene using refer ence frame called world coordinates Finally world coordinate description scene transferred one output device reference frames dis play These display coordinate systems referred device coordinates screen coordinates case video monitor Modeling world coordinate definitions allow us set convenient floating point integer di mensions without hampered constraints particular output de vice For scenes might want specify object dimensions fractions foot applications might want use millimeters kilometers light years Generally graphics system first converts world coordinate positions normalized device coordinates range final conversion specific device coordinates This makes system independent various devices might used particular workstation illustrates sequence coordinate transformations modeling coordinates device co ordinates two dimensional application An initial modeling coordinate po sition nc Ya illustration transferred device coordinate position Xtc Yac With sequence mer Yc Laver Yrs pcr Yc Aatcr Ye The modeling world coordinate positions transformation anv floating point values normalized coordinates satisfy inequalities x device coordinates x integers within range Xmaxr Youx particular output device To accommodate differences scales aspect ratios normalized coordinates mapped square area output device proper proportions maintained Graphics Functions Section Graphics Software A general purpose graphics package provides users variety functions creating manipulating pictures These routines categorized accord ing whether deal output input attributes transformations viewing general control The basic building blocks pictures referred output primitives They include character strings geometric entities points straight lines curved lines filled areas polygons circles etc shapes defined arrays color points Routines generating output primitives provide basic tools constructing pictures Attributes properties output primitives attribute describes particular primitive displayed They include intensity color specifications line styles text styles area filling patterns Func tions within category used set attributes individual primitive class groups output primitives We change size position orientation object within scene using geometric transformations Similar modeling transformations used construct scene using object descriptions given modeling coordinates Given primitive attribute definition picture world coordi nates graphics package projects selected view picture output de vice Viewing transformations used specify view pre sented portion output display area used Pictures subdivided component parts called structures seg ments objects depending software package use Each structure de fines one logical unit picture A scene several objects could reference individual object separate named structure Routines processing pose sl Video Monitor sy Modeling jhe Rs ransformations ae ed World Nort Coordinates Coordinates Other Output Device Coordinates The transformation sequence modeling coordinates device coordinates two dimensional scene Object shapes defined local modeling coordipate systems positioned within overall world coordinate scene World coordinate specifications transformed normalized coordinates At final step individual device drivers wansier normalized coordinate representation scene output devices isplay Chapter Overview Graphics Systems structures carry operations creation modification transfor mation structures Interactive graphics applications use various kinds input devices mouse tablet joystick Input functions used tu control process data flow interactive devices Finally graphics package contains number housekeeping tasks clearing display screen initializing parameters We Jump func tions carrving hese chores heading control operations Sottware Standards The primary goal standardized graphics software portability When pack ages designed tandard graphics functions software moved cas ily one hardware system another used different implementations applications Without standards programs designed one hardware sys tem often transferred another system without extensive rewnting programs International national standards planning organizations many coun tries cooperated effort develop generally accepted standard computer graphics After considerable effort work standards led development Graphical Kernel System GKS This system adupted first graphics software standard International Standards Organiza tion SO various national standards organizations including Ameri National Standards Institute ANSI Although GKS originally designed two dimensional graphics package three dimensional GKS extension subsequently developed second software standard developed ap proved standards orgainzations PHIGS Programmer Hierarchical Interactive Graphics Standard extension GKS Increased capabil ities object modeling color specifications surface rendering picture nipulations provided PHIGS Subsequently extension PHIGS called PHIGS developed provide three dimensional surface shading capabili ties available PHICS Standard graphics tunctions defined set specifications dependent anv progr mming language A language binding defined particular high level programming language This binding gives svntax accessing various standard graphics functions language For ex ample general form PHIGS GKS function specifying se quence n connected two dimensional straight line segments pelylirein x In FORTRAN procec ure implemented subroutine name GPL A graphics programmer using FORTRAN would invoke procedure subroutine call statement CALL GPL N X Y Y one dimensional arrays coordinate values line endpoints In C proce dure would invoked ppclyline n pts pts list co ordinate endpoint positicns Each language binding defined make best use corresponding language capabilities handle various syntax issues data types parameter passing errors In following chapters use standard functions defined PHIGS framework discussing basic graphics concepts design appli cation graphics packayes Example programs presented Pascal illus trate algorithms implementation graphics functions illustrate also applications functions Descriptive names functions based PHIGS definitions used whenever graphics function referenced program Although PHIGS presents specification basic graphics functions provide standard methodology graphics interface output de vices Nor specify methods storing transmitting pictures Separate standards developed areas Standardization device inter face methods given Computer Graphics Interface CGI system And Computer Graphics Metafile CGM system specifies standards archiv ing transporting pictures PHIGS Workstations Generally term workstation refers computer system combination input output devices designed single user In PHIGS GKS however term workstation used identify various combinations graphics hardware software A PHIGS workstation single output device single input device combination input output devices file even window displayed ona video monitor To define use various workstations within applications program need specify workstation identifier workstation type The following statements give general structure PHIGS program openPhigs errorFile memorySize openWorkstation ws connection type create display picture closeWorkstation ws closePnigs parameter errorFile contain error messages gener ated parameter memorySize specifies size internal storage area The workstation identifier integer given parameter ws parameter connection states access mechanism workstation Parameter type specifies particular category workstation input device output device combination outin device input output metafile Any number workstations open particular application input coming various open input devices output directed open output devices We discuss input output methods applications pro grams Chapter explored basic procedures creating manipulating pictures SUMMARY In chapter surveyed major hardware software features computer graphics systems Hardware components include video monitors hard copy devices keyboards devices graphics input output Graphics software includes special applications packages general program ming packages The predominant graphics display device raster refresh monitor based television technology A raster system uses frame buffer store inten sity information screen position pixel Pictures painted Summary Chapters Overview Graphics Systems screen retrieving information frame buffer electron beam CRT sweeps across scan line top bottom Older vector dis plays construct pictures drawing lines specified line endpoints Pic ture information stored asa set line drawing instructions Many video display devices available In particular flat panel dis play technology developing rapid rate devices may largely place raster displays near future At present flat panel displays com monly used small systems special purpose systems Flat panel displays include plasma panels liquid crystal devices Although vector monitors used display high quality line drawings improvements raster display technology caused vector monitors largely replaced raster sys tems Other display technologies include three dimensional stereoscopic viewing systems Virtual reality systems include either stereoscopic head set standard video monitor For graphical input range devices choose Keyboards button boxes dials used input text data values programming op tions The popular pointing device mouse trackballs space balls joysticks cursor control keys thumbwheels also used position screen cursor In virtual reality environments data gloves commonly used Other input devices include image scanners digitizers touch panels light pens vaice systems Hard copy devices graphics workstations include standard printers plotters addition devices producing slides transparencies film put Printing methods include dot matrix laser ink jet electrostatic elec trothermal Plotter methods include pen plotting combination printer plotter devices Graphics software roughly classified applications packages programming packages Applications graphics software include CAD packages drawing painting programs graphing packages visualization pro grams Common graphics programming packages include PHIGS PHIGS GKS 3D GKS GL Software standards PHIGS GKS CGl CGM evolving becoming widely available variety machines Normally graphics packages require coordinate specifications given respect Cartesian reference frames Each object scene defined separate modeling Cartesian coordinate system mapped world coordinates construct scene From world coordinates objects transferred normalized device coordinates final display device co ordinates The transformations modeling coordinates normalized device coordinates independent particular devices might used appli cation Device drivers used convert normalized coordinates integer device coordinates Functions graphics programming packages divided fol lowing categories output primitives attributes geometric modeling trans formations viewing transformations structure operations input functions control operations Some graphics systems PHIGS GKS use concept workstation specify devices software used input put particular application A workstation identifier systems refer file single device raster monitor combination devices monitor keyboard mouse Multiple workstations open provide input receive output graphics application REFERENCES A general treatment electronic displays including flat panel devices available Sherr Flat panel devices discussed Depp Howard Tannas pro vides reference flat panel displays CRTs Additional information raster graphics architecture found Foley et al Three dimensional terminals discussed Fuchs et al Johnson Ikedo Head mounted dis plays virtual reality environments discussed Chung et al For information PHIGS PHIGS see Hopgood Duce Howard et al Gaskins Blake Information two dimensional GKS stan dard evolution graphics standards available Hopgood et al An additional reference GKS Enderle Kansy Pfaff EXERCISES List operating characteristics following display technologies raster refresh systems vecter refresh systems plasma panels CDs List applications appropriate display technologies Exercise Determine resolution pixels per centimeter x directions video monitor use system Determine aspect ratio explain relative proportions objects maintained svsiem Consider three different raster systems resolutrons What size frame buffer bytes needed sys tems store bits per pixel How much storage required system bits per pixel stored Suppose RGB raster system designed using inch tO inch screen resolution pixels per inch direction If want store bits per pixel frame buffer much storage bytes need frame buffer How long would take load frame buffer bits per pixel bits transferred per second How long would take load bit per pixel frame buffer resolution 24 using transfer rate Suppose computer bits per word transfer rate mip one million instructions per second How long would take fill frame buffer dpi dot per inch laser printer page size vf inches inches Consider two raster systems resolutions How many pixels could accessed per second systems display con troller refreshes screen al rate frames per second Whal access time per pixel ach system nN wo Suppose video monitor display area measures inches across inches high If resolution aspect ratio 1s diameter screen point 10 How much lime spent scanning across row pixels screen refresh raster system resolution refresh rate frames per second 11 Consider noninterlaced raster monitor resolution ay scan lines n pixels per scan line refresh rate frames per secand horizontal retrace time Of thong aNd vertical retrace time What fraction total refresh time per frame spent retrace elect beany 12 What fraction total refresh time per Irame spent retrace electron beam noninterlaced raster system cesolution refresh rate Hz horizontal retrace time microseconds vertical retrace time microseconds Exercises B2 13 16 17 18 Assuming certain full color bit per pixel RGB raster system frame buffer many distinct color choices intensity levels would available How many different colors could display one time Compare advantages disadvantages three dimensional monito using varifocal mirror stereoscopic system List different input output components typically used virtual Teality systems Also explain users interact virtual scene displayed dif ferent output devices two dimensional stereoscopic monitors Explain virtual reality systems used design applications What applications virtual reality systems List applications large screen displays Explain differences general graphics system designed programmer one designed specific application architectural design CHAPTER Output Primitives af A picture described several ways Assuming raster dis play picture completely specified set intensities pixel positions display At extreme describe picture set complex objects trees terrain furniture walls positioned specified coordinate locations within scene Shapes colors objects described internally pixel arrays sets basic geometric struc tures straight line segments polygon color areas The scene displayed either loading pixel arrays frame buffer scan con verting basic geometric structure specifications pixel patterns Typically graphics programming packages provide functions describe scene terms basic geometric structures referred output primitives group sets output primitives complex structures Each output primi tive specified input coordinate data information way abject displayed Points straight line segments simplest geometric components pictures Additional output primitives used construct picture include circles conic sections quadric surfaces spline curves surfaces polygon color areas character strings We begin discussion picture generation procedures examining device level algo rithms displaying two dimensional output primitives particular empha sis On scan conversion methods raster graphics systems In chapter also consider output functions provided graphics packages take look output functions available PHIGS language Point plotting accomplished converting single coordinate position fur nished application program appropriate operations output de vice use With CRT monitor example electron beam turned il luminate screen phosphor selected location How electron beam positioned depends display technology A random scan vector system stures point plotting instructions display list coordinate values instructions converted deflection voltages position electron beam screen locations plotted refresh cycle For black white raster system hand point plotted setting bit value corresponding specified screen position within frame buffer Then electron beam sweeps across horizontal scan line emits burst electrons plots point whenever value encountered frame buffer With RGB system frame buffer loaded color codes intensities displayed screen pixel positions Line drawing accomplished calculating intermediate positions along line path two specified endpoint positions An output device directed fill positions endpoints For analog devices vector pen plotter random scan display straight line drawn smoothly one endpoint Linearly varying horizontal verti cal deflection voltages generated proportional required changes x directions produce smooth line Digital devices display straight line segment plotting discrete points two endpoints Discrete coordinate positions along line path calculated equation line For raster video display line color intensity loaded frame buffer corresponding pixel coordi nates Reading frame buffer video controller plots screen pixels Screen locations referenced integer values plotted positions may approximate actual line positions two specified endpoints A computed line position 48 51 example would converted pixel position This rounding coordinate values integers causes lines displayed stairstep appearance jaggies represented Fig The characteristic stairstep shape raster lines particularly noticeable sys tems low resolution improve appearance somewhat displaying high resolution systems More effective techniques smoothing raster lines based adjusting pixel intensities along line paths For raster graphics device level algorithms discussed chapter ob ject positions specified directly integer device coordinates For time assume pixel positions referenced according scan line number column number pixel position across scan line This addressing scheme illustrated Scan lines numbered consecutively starting bottom screen pixel columns numbered left right across scan line In Section 10 consider alternative pixel ad dressing schemes To load specified color frame buffer position corresponding column x along scan line assume available low level pro cedure form setPixel x Stairstep effect jaggies produced line generated series pixel positions Sectian Points lines x x Line path endpoint positions x x2 Scan Line Number Pixel Column Pixel positions referenced scan Number line number column number We sometimes also want able retrieve current frame buffer intensity setting specified location We accomplish low level function getPixel x LINE DRAWING ALGORITHMS The Cartesian slope intercept equation straight line x b representing slope line b intercept Given two endpoints line segment specified positions x xz shown determine values slope intercept b following calculations Bo bey x Algorithms displaying straight lines based line equation calculations given Eqs For given x interval Ax along line compute corresponding interval Ay Eq Ay mAx Similarly obtain x interval Ax corresponding specified Ay ar These equations form basis determining deflection voltages analog de vices For lines slope magnitudes dx set proportional small horizontal deflection voltage corresponding vertical deflection set proportional Ay calculated Eq For lines whose slopes magnitudes Ay set proportional small vertical deflec tion voltage corresponding horizontal deflection voltage set propor tional Ax calculated Eq For lines Ax Ay hori zontal vertical deflections voltages equal In case smooth line slope generated specified endpoints On raster systems lines plotted pixels step sizes hori zontal vertical directions constrained pixel separations That must sample line discrete positions determine nearest pixel line sampled position This scan conversion process straight lines il lustrated near horizontal line discrete sample positions along x axis DDA Algorithm The digital differentia analyzer DDA scan conversion line algorithm based calculating either Sy Ax using Eq Eq We sample line unit tervals one coordinate determine corresponding integer values nearest line path coordinate Consider first line positive slope shown If slope less equal sample unit x intervals Ax compute successive value Yeo Yet mm G Subscript takes integer values starting first point increases final endpoint reached Since real number calculated values must rounded nearest integer For lines positive slope greater reverse roles x That sample unit intervals Ay calculate succeeding x value Nye yt Equations based assumption lines processed left endpoint right endpoint If processing reversed starting endpoint right either Ax lLand Yrry Ye mt GB slope greater Ay Xpay Myo Equations also used calculate pixel positions along line negative slope If absolute value slope less start endpoint left set Ax calculate values Eq Section Line Drawing Algorithms Straight line segment five sampling positions along x axis x x When start endpoint right slope set Ax obtain positions Eq Similarly absolute value negative slope greater use Ay Eq use Ay Eq This algorithm summarized following procedure accepts input two endpoint pixel positions Horizontal vertical differences tween endpoint positions assigned parameters dx dy The differ ence greater magnitude determines value parameter steps Start ing pixel position x determine offset needed step generate next pixel position along line path We loop process steps times If magnitude dx greater magnitude dy xa less xb values increments x directions respectively If greater change x direction xa greater xb decrements used generate new point line Otherwise use unit increment decrement direction x crement decrement include device h define ROUND int int dx xb xa dy yb ya steps k float xIncrement yIncrement Xa ya abs dxi abs idy steps abs dx else steps abs dy xIncrement dx float steps yIncrement dy float steps void lineDDA int xa int ya int xb int yb f setPixel ROUND x ROUND k k steps k x xIncrement yIncrement setPixel ROUNDix ROUND The DDA algorithm faster method calculating pixel positions direct use Eq It eliminates multiplication Eq making use raster characteristics appropriate increments applied x direction step pixel positions along line path The accumulation roundoff error successive additions floating point increment however cause calculated pixel positions drift away true line path long line segments Furthermore rounding operations floating point arithmetic procedure ineDDA still time consuming We improve performance DDA algorithm separating increments integer fractional parts calculations reduced integer opera tions A method calculating intrements integer steps discussed Section 11 In following sections consider general scan line proce dures applied lines curves Bresenham Line Algorithm An accurate efficient raster line generating algorithm developed Bresen ham scan converts lines using incremental integer calculations adapted display circles curves Figures illustrate sections display screen straight line segments drawn The vertical axes show scan line positions horizontal axes identify pixel columns Sampling unit x intervals examples need decide two possible pixel positions closer line path sample step Starting left endpoint shown need determine next sampie position whether plot pixel position one Simi larly shows negative slope line path starting left endpoint pixel position In one select next pixel position These questions answered Bresenham line algorithm testing sign integer parameter whose value proportional differ ence separations two pixel positions actual line path To illustrate Bresenham approach first consider scan conversion process lines positive slope less Pixel positions along line path determined sampling unit x intervals Starting left end point xp Yo given line step successive column x position plot pixel whose scan line value closest line path demonstrates ith step process Assuming determined pixel x displayed next need decide pixel plot column x Our choices pixels positions x x At sampling position x label vertical pixel separations mathematical line path The coordinate mathemati cal line pixel column position x calculated b 10 Then yy b yy ye ytl The difference two separations dy 2m xy 2y 11 A decision parameter p kth step line algorithm ob tained rearranging Eq 11 involves integer calculations We ac complish substituting Ay Ax Ay Ax vertical horizontal separations endpoint positions defining p Ax 2Ay x 2Ax yt 12 The sign p sign since Ax example Pa rameter c constant value 2Ay Ax 2b independent T Specified Line Path WwW 13 Section display screen straight line segment 1s plotted starting pixel column scan line Bo Specified Line Path I 51 53 Section display screen negative slope line segment plotted starting pixel column scan line Yeo Yeon ye mxt ps eed Mevr Meas Section screen grid showing pixel column x scan line plotted along path line segment slope O Distances pixel positions line coordinate sampling position x pixel position eliminated recursive calculations p If pixel closer line path pixel de cision parameter p negative In case plot lower pixel otherwise plot upper pixel Coordinate changes along line occur unit steps either x di rections Therefore obtain values successive decision parameters using incremental integer calculations At step k decision parameter evaluated Eq 12 Pooy 2Ay Xa 2AXs Yay tc Subtracting Eq 12 preceding equation Pest Pr 2AyOas Axl Yd But x x s0 Presi Py 2Ay 2ZAx Ys1 Yd 13 term either depending sign cf parameter py This recursive calculation decision parameters performed inte ger x position starting left coordinate endpoint line The first para meter po evaluated Eq 12 starting pixel position xj yo evaluated Ay Ax Po 2Ay Ax 14 We summarize Bresenham line drawing line positive slope less following listed steps The constants 2Ay 2Ay 24x cal culated line scan canverted arithmetic involves integer addition subtraction two constants Bresenham Line Drawing Algorithm Input two line endpoints store left endpoint xq Yo Load xo yo frame buffer plot first point Calculate constants Ax Ay 24y 2Ay 2Ax obtain start ing value decision parameter Po 24y Ax At x along line starting k perform following test If p next point plot x yp Pro py 2Ay Otherwise next point plot g Prot Py 2Ay 2Ax Repeat step Ax times Example Bresenham Line Drawing To illustrate algorithm digitize line endpoints This line slope The initial decision parameter value Po 2Ay Ax increments calculating successive decision parameters 2Ay 2Ay 2Axr We plot initial point x yo determine successive pixel posi tions along line path decision parameter k Px Opa Vers k Px OGa1 Yea 14 14 10 10 A plot pixels generated along line path shown An implementation Bresenham line drawing slopes range given following procedure Endpoint pixel positions line passed procedure pixels plotted left endpoint right endpoint The call set Pixel loads preset color value frame buffer specified x pixel position include device h void lineBres int xa int ya int xb int yb int dx abs xa xb dy abs ya yb int p dy dx int twoDy dy twoDyDx idy 4x int x xEnd Determine point use start end ixa xb x xb yb xEnd xa else Section Line Drawing Algorithms setPixel x x xEnd Xt4 p Pp twoby else yt Pp twoDyDx setPixel x Bresenham algorithm generalized lines arbitrary slope con sidering symmetry various octants quadrants xy plane For line positive slope greater interchange roles x directions That step along direction unit steps cal culate successive x values nearest line path Also could revise pro gram plot pixels starting either endpoint If initial position line positive slope right endpoint x decrease step right left To ensure pixels plotted regardless starting endpoint always choose upper lower two candidate pixels whenever two vertical separations line path equal For negative slopes procedures similar except one coordinate de creases increases Finally special cases handled separately Horizontal lines Ay vertical lines Ax diagonal lines lAx Ay loaded directly frame buffer without processing line plotting algorithm Parallel Line Algorithms The line generating algorithms discussed far determine pixel posi tions sequentially With parallel computer calculate pixel positions Pixel positions along line path endpoints 21 25 plotted Bresenham line algorithm along line path simultaneously partitioning computations among various processors available One approach partitioning problem adapt existing sequential algorithm take advantage multiple processors Alternatively look ways set processing pixel positions calculated efficiently parallel An important consideration devising parallel algorithm balance processing load among avail able processors Given n processors set parallel Bresenham line algorithm subdividing line path n partitions simultaneously generating line segments subintervals For line slope left endpoint coordinate position xo yp partition line along positive x di rection The distance beginning x positions adjacent partitions calculated Ax Art ny G n Pp Ax width line value partition width Ax com puted using integer division Numbering partitions processors calculate starting x coordinate kth partition X Xp kAx 16 As example suppose Ax n processors Then width partitions starting x values partitions xo x Xo x With partitioning scheme width last rightmost subinterval smaller others cases In addition line endpoints integers truncation errors result variable width parti tions along length line To apply Bresenham algorithm partitions need initial value coordinate initial value decision parameter partition The change Ay direction partition calculated line slope partition width Ax Ay mAx 17 At kth partition starting coordinate Ye Yo round kAy 18 The initial decision parameter Bresenlym algorithm start kth subinterval obtained Eq 12 Py kAx 2Ay round kAy 2Ax 2Ay Ax 19 Each processor calculates pixel positions assigned subinterval using starting decision parameter value subinterval starting coordi nates x We also reduce floating point calculations integer arith metic computations starting values p substituting Ay Ax rearranging terms The extension parallel Bresenham algorithm line slope greater achieved partitioning line di Section Line Drawing Algorithms Bounding box line coordinate extents Ax Ay rection calculating beginning x values partitions For negative slopes increment coordinate values one direction decrement Another way set parallel algorithms raster systems assign processor particular group screen pixels With sufficient number processors Connection Machine CM 000 processors assign processor one pixel within screen region This approach adapted line display assigning one processor pixels within limits line coordinate extents bounding rectangle calculating pixel distances line path The number pixels within bounding box line Ax Ay Perpendicular distance line pixel coordinates x obtained calculation Ax By C 20 A SY linelength p S __ linelength c 2eAY yoAr linelength linelength VAx Ay Once constants A B C evaluated line processor needs perform two multiplications two additions compute pixel distance A pixel plotted less specified line thickness parameter Instead partitioning screen single pixels assign processor either scan line column pixels depending line slope Each processor calculates intersection line horizontal row vertical column pixels assigned processor For line slope Iml processor simply solves line equation given x column value For line slope magnitude greater line equation solved x processor given scan line value Such direct methods although slaw sequential machines performed efficiently using multiple proces SOTS When straight line segments objects scan converted display raster system frame buffer positions must calculated We sumed accomplished set Pixel procedure stores tensity values pixels corresponding addresses within frame buffer array Scan conversion algorithms generate pixel positions successive unit Ymnx Pere e tx yh Gna ere addr addr x Xrax Screen Frame Buffer Pixel screen positions stored linearly row major order within frame buffer tervals This allows us use incremental methods calculate frame buffer ad dresses As specific example suppose frame butfer array addressed row major order pixel positions vary lower left screen cor ner max Ymax top right corner For bilevel system bit per pixel frame buffer bit address pixel position x calculated addr x addr x I x 21 Moving across scan line calculate frame buffer address pixel x following offset address position x addr x addr x 22 Stepping diagonally next scan line x get frame buffer address x calculation addr x addr x x 23 constant x precomputed line segments Similar cremental calculations obtained Eq 21 unit steps nega tive x screen directions Each address calculations involves single integer additian Methods implementing set Pixel procedure store pixel intensity values depend capabilities particular system design require ments software package With systems display range intensity values pixel frame buffer address calculations would include pixel width number bits well pixel screen location A procedure specifying straight line segments set number different forms In PHIGS GKS packages two dimensional line function Xmons Ymax polyline wePoints parameter n assigned integer value equal number coordi nate positions input wcPoints array input world coordinate values line segment endpoints This function used define set n connected straight line segments Because series connected line segments occur often isolated line segments graphics applications polyline provides general line function To display single straight line segment set n list x values two endpoint coordinates wePoints As example use polyline following statements generate two connected line segments endpoints wePoints x wePoints wePoints x wePoints wePoints x wePoints polyline wePoints Coordinate references polyline function stated absolute coordi nate values This means values specified actual point positions coordinate system use Some graphics systems employ line point functions relative co ordinate specifications In case coordinate values stated offsets last position referenced called current position For example location last position referenced application program rel ative coordinate specification corresponds absolute position An additional function also available setting current position line routine summoned With packages user lists single pair offsets line command This signals system display line start ing current position final position determined offsets The current position updated final line position A series connected lines produced packages sequence line commands one line section drawn Some graphics packages provide options allowing user specify line endpoints using either relative absolute coordinates Implementation polyline procedure accomplished first per forming series coordinate transformations making sequence calls device level Jine drawing routine In PHIGS input line endpoints ac tually specified modeling coordinates converted world co ordinates Next world coordinates converted normalized coordinates device coordinates We discuss details carrving twa dimen sional coordinate transformations Chapter Once device coordinates display polyline invoking line routine Bresenham algorithm n times connect n coordinate points Each successive call passes co ordinate pair needed plot next line section first endpoint coordinate pair last endpoint previous section To avoid setting intensity endpoints twice could modify line algorithm last endpoint segment platted We discuss methods avoiding overlap displayed objects detail Section 10 Since circle frequently used component pictures graphs proce dure generating either full circles circular arcs included graphics packages More generally single procedure provided display either circular elliptical curves Ye Properties Circles A circle defined set points given distance r cen ter position x This distance relationship expressed Pythagorean theorem Cartesian coordinates Circle center coordinates x radius r x xP y2ar 24 We could use equation calculate position points circle circum ference stepping along x axis unit steps x r x r calcu lating corresponding values position ytVP FP 25 But best method generating circle One problem ap proach involves considerable computation step Moreover spacing plotted pixel positions uniform demonstrated Fig _ 13 We could adjust spacing interchanging x stepping values calculating x values whenever absolute value slope Positive half circle cirele greater But simply increases computation processing Pw wane w required algorithm Ye _ Another way eliminate unequal spacing shown cal culate points along circular boundary using polar coordinates r Fig 12 Expressing circle equation parametric polar form yields pair equations x x rcos 26 rsind When display generated equations using fixed angular step size circle plotted equally spaced points along circumference The step size chosen depends application display device Larger gular separations along circumference connected straight line segments approximate circular path For continuous boundary ona taster display set step size r This plots pixel positions approximately one unit apart Computation reduced considering symmetry circles The shape circle similar quadrant We generate circle section second quadrant xy plane noting two circle sections symmetric respect axis And circle sections third fourth quadrants obtained sections first second quadrants Symmetry circle Calculation circle point x one octant yields circle points shown seven octants considering symmetry x axis We take one step note also symmetry octants Circle sections adjacent oc tants within one quadrant symmetric respect line dividing two octants These symmetry conditions illustrated Fig 14 point position x one eighth circle sector mapped seven circle points octants xy plane Taking advantage circle symme try way generate pixel positions around circle calculating points within sector x x Determining pixel positions along circle circumference using either Eq 24 Eq 26 still requires good deal computation time The Cartesian equation 24 involves multiplications square root calculations parametric equations contain multiplications trigonometric calculations More efficient circle algorithms based incremental calculation decision parameters Bresenham line algorithm involves simple inte ger operations Bresenham line algorithm raster displays adapted circle genera tion setting decision parameters finding closest pixel circum ference sampling step The circle equation 24 however nonlinear square root evaluations would required compute pixel distances circular path Bresenham circle algorithm avoids square root calculations comparing squares pixel separation distances A method direct distance comparison test halfway position tween two pixels determine midpoint inside outside circle boundary This method easily applied conics integer circle radius midpoint approach generates pixel positions Bresenham circle algorithm Also error involved locating pixel positions along conic section using midpoint test limited one half pixel separation Midpoint Circle Algorithm As raster line algorithm sample unit intervals determine closest pixel position specified circle path step For given radius r screen center position x first set algorithm calculate pixel positions around circle path centered coordinate origin Then calculated position x moved proper screen position adding x x Along circle section x tox yin first quadrant slope curve varies Therefore take unit steps positive x direction octant use decision parameter deter mine two possible positions closer circle path step Positions seven octants obtained symmetry To apply midpoint method define circle function fort tyr 27 Any point x boundary circke radius r satisfies equation feirte x If point interior circle circle function nega tive And point outside circle circle function positive To sum marize relative position point x v determined checking sign circle function x inside circle boundary ferte X x circle boundary 28 x outside circle boundary The circle function tests 28 performed midpositions pix els near circle path sampling step Thus circle function deci sion parameter midpoint algorithm set incremental calcu lations function line algorithm shows midpoint two candidate pixels sam pling position x Assuming plotted pixel next need determine whether pixel position x one position closer circle Our decision parameter circle function 27 evaluated midpoint two pixels Pi fae Lye 29 p e If p midpoit inside circle pixel scan line closer circle boundary Otherwise midposition outside circle bound ary select pixel scanline Successive decision parameters obtained using incremental calculations We obtain recursive expression next decision parameter evaluating circle function sampling position x x Pray fae a0 tL Yee 1P shoe Pest Pe D Wha D Yer ed 30 either y_ depending sign py Increments obtaining p either 2x p negative 2x Evaluation terms 2x also done incremen tally 2X41 2x 2ye 2y At start position r two terms values 2r respectively Each successive value obtained adding previous value 2x subtracting previous value 2y The initial decision parameter obtained evaluating arcle function start position xq g xieyr reed Yr rT My Mt ty Midpoint candidate pixels sampling position x along circular path Po fans f po r 30 If radius r specified integer simply round py Po zl r r integer since increments integers As Bresenham line algorithm midpoint method calculates pixel po sitions along circumference circle using integer additions subtrac tions assuming circle parameters specified integer screen coordi nates We summarize steps midpoint circle algorithm follows Midpoint Circle Algorithm Input radius r circle center x obtain first point circumference circle centered origin Xo Yo r Calculate initial value decision parameter PoT gr At x position starting k perform following test lf Px next point along circle centered Pri Pr dys t1 Otherwise next point along circle x Pro Pet Deyo 1D 2Yeos 2x 2x 2y1 2y Determine symmetry points seven octants Move calculated pixel position x onto circular path cen tered x plot coordinate values FaxtX yrytye Repeat steps x Section Circle Generating Algorithms 8B _ Selected pixel positions solid circles along circle path radius r centered origin using midpoint circle algorithm Open circles show symmetry oi 6 10 positions first quadrant Example Midpoint Circle Drawing Given circle radius r demonstrate midpoint circle algorithm determining positions along circle octant first quadrant x x The initial value decision parameter Po l r For circle centered coordinate origin initial point x9 yo initial increment terms calculating decision parameters 2xy yy Successive decision parameter values positions along circle path cal culated using midpoint method Ky Xkeate Mert 2Xta Yu 20 20 20 18 18 16 14 A plot generated pixel positions first quadrant shown The following procedure displays raster circle bilevel monitor using midpoint algorithm Input procedure coordinates circle center radius Intensities pixel positions along circle circumfer ence loaded frame buffer array calls set Pixel routine Px x yl x E lipse generated foci F F include device h void circleMidpoint int xCenter int yCenter int radius int x int radius int p radius void circlePlotPoints int int int int Plot first set points circlePlotPoints xCenter yCenter x x Xtt p pts x Ll else Yori pte x circlePlotPoints xCenter yCenter x void circlePlotPoints int xCenter int yCenter int x int setPixel xCenter setPixel xCenter x yCenter setPixel xCenter x yCenter x yoenter setPixel xCenter x yCenter ha setPixel xCenter yOenter x setPixel xCenter yCenter x setPixel xCenter yOenter x setPixel xCenter yCenter x Loosely stated ellipse elongated circle Therefore elliptical curves generated modifying circle drawing procedures take account dif ferent dimensions ellipse along major minor axes Properties Ellipses An ellipse defined set points sum distances two fixed positions foci points Lf distances two foci point P x ellipse labeled general equation ellipse stated constant 32 Expressing distances terms focal coordinates F x F x y2 Vx x yy VG Y ys constant 39 By squaring equation isolating remaining radical squaring rewrite genera ellipse equation form Ax By Cxy Dx Ey F 34 coefficients A B C D E F evaluated terms focal coor dinates dimensions major minor axes ellipse The major axis straight line segment extending one side ellipse foci The minor axis spans shorter dimension ellipse bisecting major axis halfway position ellipse center two foci An interactive method specifying ellipse arbitrary orientation input two foci point ellipse boundary With three coordi nate positions evaluate constant Eg 33 Then coefficients Eq 34 evaluated used generate pixels along elliptical path Ellipse equations greatly simplified major minor axes ori ented align coordinate axes In show ellipse stan dard position major minor axes oriented parallel x axes Parameter r example labels semimajor axis parameter r labels semiminor axis The equation ellipse shown written terms cf ellipse center coordinates parameters r r fu C doa 35 J WY ry Using polar coordinates r also describe ellipse standard posi tion parametric equations x tr cos 36 Yrytry sind Symmetry considerations used reduce computations An ellipse standard position symmetric quadrants unlike circle symmetric two octants quadrant Thus must calculate pixel positions along elliptical arc throughout one quadrant obtain posi tions remaining three quadrants symmetry Fig 19 Midpoint Ellipse A gorithm Our approach similar used displaying raster circle Given pa rameters determine points x ellipse standard position centered origin shift points ellipse cen tered x It wish also display ellipse nonstandard position could rotate ellipse center coordinates reorient major minor axes For present consider display ellipses standard position We discuss general methods transforming object orientations positions Chapter The midpoint ellipse method applied throughout first quadrant two parts shows division first quadrant according slope ellipse r We process quadrant taking unit steps v direction slope curve magnitude less tak ing unit steps direction slope magnitude greater Regions processed various ways We start position r step clockwise along elliptical path first quadrant Ellipse centered semimajor axis r semiminor axis Symmetry ellipse Calculation point x one quadrant yields ellipse points shown three quadrants RegaM Slope r Ragin Ellipse processing regions Over region magnitude ellipse slope less region magnitude slope greater shifting unit steps x unit steps slope becomes less Alternatively could start r select points counterclockwise order shifting unit steps unit steps x slope becomes greater With parallel processors could calculate pixel positions two regions simultaneously As example sequential implementation midpoint algorithm take start position r step along el lipse path clockwise order throughout first quadrant We define ellipse function Eq 35 fattpae 12x By r2r 37 following properties x inside ellipse boundary feripselX x ellipse boundary 38 x outside ellipse boundary Thus ellipse function fetipee X serves decision parameter mid point algorithm At sampling position select next pixel along el lipse path according sign ellipse function evaluated midpoint two candidate pixels Starting r take unit steps x direction reach boundary region region Then switch unit steps direction remainder curve first quadrant At step need test value slope curve The ellipse slope calcu lated Eq 37 39 ary dy dx At boundary region region dy dx 2rx 2rdy Therefore move region whenever 2rjx 2rdy 40 shows midpoint two candidate pixels sam pling position x first region Assuming position se lected previous step determine next position along ellipse path evaluating decision parameter ellipse function 37 midpoint fp 1y iy rly pl midpoint inside ellipse pixel scan line closer ellipse boundary Otherwise midposition outside ellipse boundary select pixel scan line At next sampling position x decision parameter rex 62y region evaluated Te Plier fps Year se midpoint NK Gy ep rly Xe Xt Midpoint candidate u x 42 pixels sampling position x along elliptical path Plysy ple 2p D ry E either depending sign p1 Decision parameters incremented following amounts 2rexeey n pl increment rex tPF Ye ifp1 As circle algorithm increments ihe decision parameters calcu lated using addition subtraction since values terms x 2r also obtained incrementally At initial position r two terms evaluate arix 43 arzy 2rir 44 As x incremented updated values obtained adding 2r 43 subtracting 2r 44 The updated values compared step move region region condition 40 satisfied In region initial value decision parameter obtained evalu ating ellipse function start position xq yo r Plo feng Ty r2p2 ny rly ny ply r rir qn 45 Over region sample unit steps negative direction midpoint taken horizontal pixels step For region decision parameter evaluated pay feu Yu 46 ry yy Chapter Output Primitives ly ie rox sr dy O Midpoint candidate pixels sampling position along elliptical path f p2 midposition outside ellipse boundary select pixel x If p2 midpoint inside ellipse boundary select pixel position X To determine relationship successive decision parameters region evaluate ellipse function next sampling step YM pei fouped Yer 47 ila BY etl DIP rie x set either x x depending sign p2 When enter region initial position x taken last posi tion selected region initial decision parameter region j pay fata Yo 49 p iV pd p rilxg ry WP ri ry Te simplify calculation p2y could select pixel positions counterclock wise order starting r Unit steps would taken positive di rection last pesition selected region The midpoint algorithm adapted generate ellipse nonstan dard position using ellipse function Eq 34 calculating pixel positions entire elliptical path Alternatively could reorient ellipse axes standard position using transformation methods discussed Chapter apply midpoint algorithm determine curve positions convert calculated pixel positions path positions along original ellipse orientation Assuming r vy ellipse center given integer screen coordi nates need incremental integer calculations determine values decision parameters midpoint ellipse algorithm The increments r r 2r 2rj evaluated beginning procedure A summary midpoint ellipse algorithm listed following steps Midpoint Ellipse Algorithm Input r ry ellipse center x obtain first point ellipse centered origin Xo We ry Calculate initial value decision parameter region At x position region starting k G perform follow ing test If pl next point along ellipse centered Ply Ply Wart ry Otherwise next point along circle Ply plat 2a Wp Wx Wx Ay 2y Bre continue 2rgx Ory Calculate initial value decision parameter region using last point Yo calculated region po ri z0 DF Br At position region starting k perform follow ing test If p2 next point along ellipse centered tu Py pa tT Otherwise next point along circle x Pave p2yt Irie Why br using incremental calculations region Determine symmetry points three quadrants Move calculated pixel position x onto elliptical path cen tered x plot coordinate values x x XxX yoy ty Repeat steps region 2r3x 2r Section Flipse Cenerating Algorithms Example Midpoint Ellipse Drawing Given input ellipse parameters r r illustrate steps midpoint ellipse algorithm determining raster positions along ellipse path first quadrant Initial values increments decision parameter cal culations arjx increment 2r7 arty 2riry increment 2r For region J The initial point ellipse centered origin xp initial decision parameter value ply ry r2r Successive decision parameter values positions along ellipse path cal culated using midpoint method k ply UXtete Veer Xa 2B Yk qd 768 224 768 44 768 208 640 640 288 512 244 384 We move region since 2rfx 2rzy For region initial point xp yo initial decision parameter py The remaining positions along ellipse path first quadrant cal culated k Pr Xeers Yeor Xara 15t 256 233 128 745 _ A plot selected positions around ellipse boundary within first quadrant shown In following procedure midpoint algorithm used display el lipse input parameters Rx Ry xCenter yCenter Positions along Section Ellipse Generating Algorithms Positions along elliptical path centered origin r r using midpoint algorithm calculate pixel o0t123 67 addresses first quadrant Rw oO curve first quadrant generated shifted proper screen positions Intensities positions symmetry positions three quadrants loaded frame buffer using set Pixel routine include device h define ROUND int void ellipseMidpoint int xCenter int yCenter int Rx int Ry int Rx2 Rx Rx int Ry2 Ry Ry int twoRx2 Rx2 int twoRy2 Ry2 int p int x int Ry int px int py twoRx2 void ellipsePlotPoints int int int int Plot first set points ellipsePlotPoints xCenter yCenter x Region P ROUND Ry2 Rxz Ry 25 RxZ px py X px twoRy2 p P Ry2 px else Yyr py twoRx2 p Ry2 px py ellipsePlotPaints xCenter yCenter x Region Pp ROUND Ry2 x x Rx2 Rx2 Ry2 r G py twoRx2 p p Rx2 py else K e Px twoRy2 p Rx2 py PX ell psePlotPoincs xCenter yCenter x void ellipsePiotPo nts int xCenter int yCenter int x int setPixel xCenter x yCenter setPixel xCenter x yCenzer setPixel xCenter x yCenter setPixel xCenter x yCenter OTHER CURVES Various curve functions useful object modeling animation path specifica tions data function graphing graphics applications Commonly encountered curves include conics trigonometric exponential functions probability distributions general polynomials spline functions Displays curves generated methods similar discussed circle ellipse functions We obtain positions along curve paths directly explicit representations f x parametric forms Alternatively could apply incremental midpoint method plot curves described im plicit functions f x A straightforward method displaying specified curve function ap proximate stra ght line segments Parametric representations useful case obtaining equally spaced line endpoint positions along curve path We also generate equally spaced positions explicit representa tion choosing independent variable according slupe curve Where slope x magnitude less choose x inde pendent variable calculate values equal x increments To obtain equal spacing slope magnitude greater use inverse func tion x f calculate values x equal steps Straight line curve approximations used graph data set dis crete coordinate points We could join discrete points straight line seg ments could use linear regression least squares approximate data set single straight line A nonlinear least squares approach used dis play data set approximating function usually polynomial As circles ellipses many functions possess symmetries exploited reduce computation coordinate positions along curve paths For example normal probability distribution function symmetric center position mean points along one cycle sine curve generated points interval Conic Sections In general describe conic section conic second degree equation Ax By Cxy Dx Ey F 50 values parameters A B C D E F determine kind curve display Given set coefficients determine particular conic generated evaluating discriminant B 4AC generates ellipse circle B 4AC generates parabola 31 generates hyperbola For example get circle equation 24 A B C D 2x F 2y F x r Equation 50 also describes degenerate conics points straight lines Ellipses hyperbolas parabolas particularly useful certain aninta tion applications These curves describe orbital motions objects subjected gravitational electromagnetic nuclear forces Planetary orbits solar system example ellipses object projected uniform gravitational field travels along parabolic trajectory shows para bolic path standard position gravitational field acting negative di rection The explicit equation parabolic trajectory object shown written Y Wy ax x9 B x x 52 constants b determined initial velocity vp cf object acceleration due uniform gravitational force We also describe parabolic motions parametric equations using time parameter measured seconds initial projection point X Xq Byol Y Yo Yyol af Here v9 v initial velocity components value g near surface earth approximately 980cm sec Object positions along par abolic path calculated selected time steps Hyperbolic motions occur connection collision charged particles certain gravitational problems For example comets meteorites moving around sun may travel along hyperbolic paths escape outer space never return The particular branch left right describing motion object depends forces involved prob lem We write standard equation hyperbola centered origin fy xy oo Le oUF x r left branch x r right branch Since equa tion differs standard ellipse equation 35 sign x terms generate points along hyperbolic path slightly modified ellipse algorithm We return discussion animation applica tions methods detail Chapter And Chapter discuss applications computer graphics scientific visualization G Section Other Curves Etgnre 24 Parabolic path object tossed downward gravitational field initial position x9 Yo Left Branch Left right branches hy perbola standard position symmetry axis along x axis Chapter Output Primitives A spline curve formed individual cubic polynomial sections specified coordinate points Parabolas hyperbolas possess symmetry axis For example parabola described Eq 53 symmetric axis X Xq oPya The methods used midpoint ellipse algorithm directly applied obtain points along one side symmetry axis hyperbolic parabolic paths two regions magnitude curve slope less magnitude slope greater To first select appropriate form Eq 50 use selected function set expressions decision parameters two regions Polynomials Spline Curves A polynomial function nth degree x defined ax ko 55 ay ax ay yx ar nonnegative integer constants We get quadratic cubic polynomial n quartic n forth And straight line Polynomials useful number graphics applications including design object shapes speci fication animation paths graphing data trends discrete set data points Designing object shapes motion paths typically done specifying points define general curve contour fitting selected points polynomial One way accomplish curve fitting construct cubic polynomial curve section pair specified points Each curve section described parametric form ay Qgu tag au 56 Y Fay ayy ayu aut 57 parameter u varies interval Values coefficients u parametric equations determined boundary conditions curve sections One boundary condition two adjacent curve sections coordinate position boundary second condition match two curve slopes boundary obtain one continuous smooth curve Continuous curves formed polynomial pieces called spline curves simply splines There ways set spline curves various spline generating methods explored Chapter Methods exploiting parallelism curve generation similar used displaying straight line segments We either adapt sequential algorithm allocating processors according curve partitions could devise methods assign processors screen partitions A parallel midpoint method displaying citcles divide circular arc equal subarcs assign separate processor subarc As parallel Bresenham line algorithm need set com putations determine beginning value decisicn parameter p value processor Pixel positions calculated throughout subarc positions circle octants obtained symmetry Similarly parallel ellipse midpoint method divides elliptical arc first quadrant equal subarcs parcels separate processors Pixel positions quadrants determined symmetry A screen partitioning scheme circles ellipses assign scan line crossing curve separate processor In case processor uses circle ellipse equation calcu late curve intersection coordinates For display elliptical arcs curves simply use scan line partitioning method Each processor uses curve equation locate tersection positions along assigned scan line With processors assigned indi vidual pixels processor would calculate distance distance squared curve assigned pixel If calculated distance less prede fined value pixel plotted Routines circles splines commonly used curves included many graphics packages The PHIGS standard provide explicit func tions curves include following general curve function generalizedDrawingPrimitive n wcPoints id datalist wcPoints isa list n coordinate positions datalist contains noncoor dinate data values parameter id selects desired function At particular installation circle might referenced id ellipse id As example definition curves PHIGS function circle id say could specified assigning two center coordinate val ues wcpoints assigning radius value datalist The generalized drawing primitive would reference appropriate algorithm midpoint method generate circle With interactive input circle could defined two coordinate points center position point cir cumference Similarly interactive specification ellipse done three points two foci point ellipse boundary stored wo points For ellipse standard position wcpoints could assigned center coordinates daialist assigned values r r Splines defined control points would generated assigning control point coordi nates towcpoints Functions generate circles ellipses often include capability drawing curve sections specifying parameters line endpoints Expand ing parameter list allows specification beginning ending angular values arc illustrated Another method designating cir Section Curve Functions Circular arc specified beginning ending angles Circle center coordinate origin Chapter Output Primitives cular elliptical arc input beginning ending coordinate positions arc 10 Lower left section screen grid referencing integer coordinate positions Lt 4 Line path series connected line segments screen grid coordinate positions INuminated pixel raster position PIXEL ADDRESSING AND OBJECT GEOMETRY So far assumed input positions given terms scan line number pixel position number across scan line As saw Chapter general several coordinate references associated specifica tion generation picture Object descriptions given world reference frame chosen suit particular application input world coordi nates ultimately converted screen display positions World descriptions objects given terms precise coordinate positions infinitesi mally small mathematical points Pixel coordinates however reference finite screen areas If want preserve specified geometry world objects need compensate mapping mathematical input points finite pixel areas One way simply adjust dimensions displayed objects account amount overlap pixel areas object boundaries Another approach map world coordinates onto screen positions pixels align object boundaries pixel boundaries instead pixel centers Screen Grid Coordinates An alternative addressing display positions terms pixel centers refer ence screen coordinates respect grid horizontal vertical pixel boundary lines spaced one unit apart A screen coordinate position pair integer values identifying grid intersection position two pixels For example mathematical line path polyline screen endpoints shown With coordinate origin lower left screen pixel area referenced integer grid coordinates lower left corner illustrates convention section raster single illumi nated pixe screen coordinate position In geneial identify area occupied pixel screen coordinates x unit square diago nally opposite corners x x This pixel addressing scheme several advantages It avoids half integer pixel boundaries facilitates pre cise object representations simplifies processing involved many scan conversion algorithms raster procedures The algorithms line drawing curve generation discussed pre ceding sections still valid applied input positions expressed screen grid coordinates Decision parameters algorithms simply mea sure screen grid separation differences rather separation differences pixel centers Maintaining Geometric Properties Displayed Objects When convert geometric descriptions objects pixel representations transform mathematical points lines finite screen areas If maintain original geometric measurerrents specified input coordinates Line path corresponding pixel display input screen grid endpoint coordinates 21 23 25 27 29 object need account finite size pixels transform object definition screen display shows line plotted Bresenham line algorithm example Section Interpreting line endpoints precise grid crossing positions see line extend past screen grid posi tion If plot pixel screen coordinates example given Section would display line spans horizontal units vertical units For mathematical line however Ax dy If addressing pixels center positions adjust length displayed line omitting one endpoint pixels If think screen coordinates addressing pixel boundaries shown plot line using pixels interior line path pix els line endpoints For example would plot left pixel rightmost pixel This displays line Conversion rectangle verti es screen coordinates display b includes right top boundaries display c maintains geometric magnitudes Section 10 Pixel Addressing Object Geometry Chapter Qutput Primitives geometric magnitudes mathematical line For enclosed area inpul geometric properties maintained display ing area pixels interior object boundaries The rectangle defined screen coordinate vertices shown example larger display filled pixels including border pixel lines joing specified vertices As defined area rectangle units displayed b area units In c original rectangle measurements maintained displaying xe Circle path midpoint circle algorithm plot circle radius screen coordinates YyW x x dx x ty xb f 4x Modification circle plot maintain specified circle diameter interna pixels The right boundary mput rectangle x To maintain boundary display set rightmost pixel grid coordinate x The pixels vertical column span interval x x Similarly mathematical top boundary rectangle set top pixel row displayed rectangle These compensations finite pixel width along object boundaries applied polygons curved figures raster display main tains input object specifications A circle radius center position instance would displayed Fig midpoint circle algo rithm using screen grid coordinate positions But plotted circle diameter To plot circle defined diameter modify circle algorithm shorten pixel scan line pixel column One way generate points clockwise along circular arc third quadrant starting screen coordinates For generated point seven circle symmetry points generated decreasing x coordi nate values along scan lines decreasing coordinate values along pixel columns Similar methods applied ellipse algorithms main tain specified proportions display ellipse A standard output primitive general graphics packages solid color pat terned polygon area Other kinds area primitives sometimes available poly gons easier process since linear boundaries There two basic approaches area filling raster systems One way fill area determine overlap intervals scan lines cross area Another method area filling start given interior position paint outward point encounter specified boundary conditions The scan line approach typically used general graphics packages fill poly gons circles ellipses simple curves Fill methods starting inte rior point useful complex boundaries interactive painting systems In following sections consider methods solid fill specified areas Other fill options cliscussed Chapter Scan Line Polygon Fill Algorithm illustrates scan line procedure sond tilling polygon areas For scan line crossing polygon area fill algorithm locates intersec tion points scan line polygon edges These intersection points sorted left right corresponding frame buffer positions tween intersection pair set specified fill color In example four pixel intersection positions polygon boundaries define two stretches interior pixels x x l4and x tox Some scan line intersections polygon vertices require special handling A scan line passing vertex intersects two polygon edges position adding two points list intersections scan line shows two scan lines positions intersect edge endpoints Scan line tersects five polygon edges Scan line however intersects even number edges although also passes vertex Intersection points along scan line Section 11 Filled Area Primitives 1t7 Chapter Output Primitives Interior pixels along scan line passing polygon area correctly identify interior pixel spans But scan line need additional processing determine correct interior points The topological difference scan line scan line identified noting position intersecting edges relative scan line For scan line two intersecting edges sharing vertex opposite sides scan line But scan line two intersecting edges scan line Thus vertices require additional processing connecting edges opposite sides scan line We identify vertices tracing around polygon boundary either clockwise counterclockwise order observing relative changes vertex coordinates move one edge next If endpoint values two consecutive edges mo notonically increase decrease need count middle vertex single intersection point scan line passing vertex Otherwise shared vertex represents local extremum minimum maximum polv gon boundary two edge intersections scan line passing vertex added intersection list Scan Line Sean Line Intersection points along scan lines intersect polygon vertices Scan line generates odd number intersections scan line generates even number intersections paired identify correctly interior pixel spans One way resolve question whether count vertex one intersection two shorten polygon edges split vertices counted one intersection We process nonhorizontal edges around polygon boundary order specified either clockwise counter clockwise As process edge check determine whether edge next nonhorizontal edge either monotonically increasing decreasing endpoint values If lower edge shortened ensure one intersection point generated scan line going common vertex joining two edges illustrates shortening edge When endpoint coordinates two edges increasing value upper endpoint current edge 1s decreased Fig 37 When endpoint values monotonically decreasing Fig 37 b decrease coordinate upper endpoint edge following current edge Calculations performed scan conversion graphics algorithms typically take advantage various coherence properties scene displayed What mean coherence simply properties one part scene related way parts scene relation ship used reduce processing Coherence methods often involve incre mental calculations applied along single scan line successive scan lines In determining edge intersections set incremental coordinate calculations along edge exploiting fact slope edge constant one scan line next shows two successive scan lines crossing left edge polygon The slope polygon boundary line expressed terms scan line intersection coordinates et Yi 58 Xper Xk Since change coordinates two scan lines simply Ves Ye 59 P P f Scan Line Lt Scan Line P Scan Line b Adjusting endpoint values pulygon process edges order around polygon perimeter The edge currently processed inuicated solid line In coordinate upper endpoint current edge decreased In b coordinate upper endpoint next edge decreased Section 11 Filled Area Primitives Scan Line Scan Line Two successive scan lines intersecting polygon boundary x intersection value x upper scan line determined x intersection value x preceding sean line I Xper MHF 60 Each successive x intercept thus calculated adding inverse slope rounding nearest integer An obvious parallel implementation fill algorithm assign scan line crossing polygon area separate processor Edge intersection cal culations performed independently Along edge slope tersection x value scan line k initial scan line calculated Xp Xt 67 mn tn sequential fill algorithm increment x values amount along edge accomplished integer operations recalling slope ratio two integers Pie Ke Ax Ay differences edge endpoint x coordi nate values Thus incremental calculations x intercepts along edge suc cessive scar lines expressed Ax Xie MF 62 del k Ay Using equation perform integer evaluation x intercepts ini tializing counter incrementing counter value Ax time move new scan line Whenever counter value becomes equal greater Ay increment current x intersection value de crease counter value Ay This procedure equivalent maintaining integer fractional parts x intercepts incrementing fractional part reach next integer value As example integer incrementing suppose edge slope At initial scan line set counter counter Sean Line Scan Line yp Scan Line v4 A polygon sorted edge table edge DC shortened one unit direction crement As move next three scan lines along edge counter successively assigned values On third scan line initial scan line counter value greater So crement x intersection coordinate reset counter value We continue determining scan line intersections way reach upper endpoint edge Similar calculations carried obtain intersections edges negative slopes We round nearest pixel x intersection value instead truncating obtain integer positions modifying edge intersection algorithm increment compared Ay This done integer arithmetic incrementing counter value 24x step comparing crement Ay When increment greater equal Ay increase x value decrement counter value 2Ay In previous ex ample counter values first scan lines ini tial scan line edge would reduced reduced reduced reduced Now x would incre mented scan lines etc abuve initial scan line edge The extra calculations required edge 2Ax Ax Ax 2Ay Ay Ay To efficiently perform polygon fill first store polygon bound ary sorted edge table contains information necessary process sean lines efficiently Proceeding around edges either clockwise counterclockwise order use bucket surt stare edges sorted smallest value cach edge correct scan line positions Only nonhorizon tal edges entered sorted edge table As edges processed also shorten certain edges resolve vertex intersection question Each entry table particular scan line contains maximum value edge x intercept value lower vertex edge inverse slope edge For scan line edges sorted order left night shows polygon assuciated sorted edge table Crapter Qutpul Primitives Next process scan lines bottem polygon top producing active edge list scan line crossing polygon boundaries The active edge list scan line contains edges crossed scan line iterative coherence calculations used obtain edge intersections Implementation edge intersection calculations also facilitated storing Ax Ay values sorted edge table Also ensure cor rectly fill interior specified polygons apply considerations dis cussed Section 10 For scan line fill pixel spans pair x intercepts starting trom leftmost x intercept value ending one po sition rightmost intercept And polygon edge shortened one unit direction top endpoint These measures also guarantee pixels adjacent polygons overlap The following procedure performs solid fill scan conversion input set polygon vertices For scan line within vertical extents poly gon active edge list set edge intersections calculated Across scan line interior fill applied successive pairs edge intersections processed left right finclude device h typedef struct tEdge int yUpper float xIntersect dxPerScan struct tRdge next Edge Inserts edge list order increasing xIntersect field void insertEdge Edce Edge p g list Pp q next edge xIntersect p sxIntersect p NULL p NULL else Q P p p next edge next g next g next edge int k l ent j else jeke pts k pts j Lf j fent j else For index return coordinate next nonhorizontal line int yNext int k int cnt dePz pts list Edge edge jee return pts j Store lower coordinate inverse slepe edge Adjust store upper coordinate edges lower member monotonicallw increasing decreasing pair edges void makeEdgeRec dcPt lower dcPt upper int yComp Edge edge Edge edges edge dxPerScan float upper x lower x upper lower edge xIntersect lower x upper yComp edge yUpper upper else edge yUpper upper insertEdge edges lower edge void buildEdgeList int cnt dePt pts Edge edges Edge edge dcPt vl v2 int yPrev pts ent vl x pts cnt x vl pts ent cnt v2 pts ij vl v2 nonhorizontal line edge Edge malloc sizeof Edge vl v2 going edge makeEdgeRec vl v2 yNext cnt pts edge edges else going edge InakeEdgeRec v2 vl yPrev edge edges yPrev vi vi v2 void buildActiveList int scan Edge active Edge edges Edge p q p edges scan next p q p next insertEdge active p P void fillScan int scan Edge active Edge pl p2 int pl active next pl p2 pl next pl xIntersect p2 xIntersect seuPixel lint scani pl p2 next void deleteAfter Edge q Edge p q next q rext p next tree p Delete completed edges Update xIntersect field others void updateActiveList int scan Edge active Edge g active p active next p scan p yUpper p p mext deleteAtrer q else p xTntersect p xintersect p dxPer3can q 3p p p next void rescrtActivelist Edge active Edge g p active next active next NULL p q popnext insertEdge active p P void seanFill int cnt dePr pts Edge edges WINDOW_HEIGHT active int scan WINCOW_HEIGHT edges Edge malloc sizeof Edge edges ij next NULL buildEdgeList cnt pts edges active Edge malloc sizeof tEdge active next NULL scan scan WINDOW_HEIGHT scan buildActiveList scan active edges active next fillScan scan active updateActiveList scan active vesortAcctivebist active Free edge records malloc ed Inside Outside Tests Area filling algorithms graphics processes often need identify inte rior regions objects So far discussed area filling terms stan dard polygon shapes In elementary geometry polygon usually defined self intersections Examples standard polygons include triangles rectangles octagons decagons The component edges objects joined vertices otherwise edges common points plane Identifying interior regions standard polygons generally straightforward process But graphics applications specify sequence vertices fill area including sequences produce intersect ing edges For shapes always clear regions xy plane call interior regions designate exterior object Graphics packages normally use either odd even rule nonzero winding number rule identify interior regions object We apply odd even rule also called odd parity rule even odd rule conceptually drawing line position P distant point outside coordinate extents object counting number edge crossings along line If number polygon edges crossed line odd P interior point Otherwise P exterior point To obtain ac curate edge count must sure line path choose inter sect polygon vertices shows interior exterior regions obtained odd even rule self intersecting set edges The scan line polygon fill algorithm discussed previous section example area fill ing using odd even rule Another method defining interior regions nonzero winding num ber rule counts number times polygon edges wind around particular point counterclockwise direction This count called wind ing number interior points two dimensional object defined A extenor De extenor j tC ee eG interior menor Ve E E ay F Odd Even rule Nonzero Winding Number Rule b Identifying interior exterior regions self intersecting polygon Chapter Output Primitives nonzero value winding number We apply nonzero winding number rule polygons initializing winding number tu C imagining line drawn position P distant point bu yor coordinate extents object The line choose must pass vertices As move along line position P distant point count number edges cross line direction We add winding number every time intersect polygon edge crosses line right left subtract every time intersect edge crosses left right The final value winding number edge crossings counted determines relative position P If winding number nonzero P defined interior point Otherwise P taken exterior point b shows interior exterior regions defined nonzero winding number rule self intersecting set edges For standard palygons simple shapes nonzero winding number nule odd even tule give results But complicated shapes two methods may yield different interior exterior regions example One way determine directional edge crossings take vector cross product vector u along line P distant point edge vector E edge crosses line If z component cross product u X E fora particular edge positive edge crosses right left add winding number Otherwise edge crosses left right subtract winding number An edge vector calculated sub tracting starting vertex position edge ending vertex position For example edge vector first edge example Ess Vg Va V V5 represent point vectors vertices A B A somewhat simpler way compute directional edge crossings use vector dot products instead cross products To set vector perpendicular u points right left look along line P direction u If components u u u perpendicular u compo nents u u Appendix A Now dot product perpendicular edge vector positive edge crosses line right left add winding number Otherwise edge crosses line left right subtract winding number Some graphics packages use nonzero winding number rule imple ment area filling since versatile odd even rule In general ob jects defined multiple unconnected sets vertices disjoint sets closed curves direction specified set used define interior regions objects Examples include characters letters al phabet punctuation symbols nested polygons concentric circles el lipses For curved lines odd even rule applied determining intersec tions curve path instead finding edge intersections Similarly nonzero winding number rule need calculate tangent vectors curves crossover intersection points line position P Sean Line Fill Curved Boundary Areas In general scan line fill regions curved boundaries requires work polygon filling since intersection calculations involve nonlinear boundaries For simple curves circles ellipses performing scan line fill straightforward process We need calculate two scan line inter sections un opposite sides curve This generating pixel posi tions along curve boundary midpoint method Then simply fill horizontal pixel spans boundary points opposite sices curve Symmetries quadrants octants circles used reduce boundary calculations Similar methods used generate fill area curve section An elliptical arc example filled The interior region bounded ellipse section straight line segment closes curve joining beginning ending positions arc Symmetries incre mental calculations exploited whenever possible reduce computations Boundary Fill Algorithm Another approach area filling start point inside region paint interior outward toward boundary If boundary specified single color fill algorithm proceeds outward pixel pixel boundary color encountered This method called boundary fill algorithm particularly useful interactive painting packages interior points easily selected Using graphics tablet interactive device artist designer sketch figure outline select fill color pattern color menu pick interior point The system paints figure interior To display solid color region border designer choose fill color boundary color A boundary fill procedure accepts input coordinates interior point x fill color boundary color Starting x procedure tests neighboring positions determine whether boundary color If painted fill color neighbors tested This process continues pixels boundary color area tested Both inner outer boundaries set specify area examples defining regions boundary fill shown shows two methods proceeding neighboring pixels current test position In four neighboring points tested These pixel positions right left current pixel Areas filled method called connected The second method shown b used fill complex figures Here set neighboring posi tions tested includes four diagonal pixels Fill methods using ap proach called connected An connected boundary fill algorithm would correctly fill interior area defined connected bound ary fill algorithm produces partial fill shown Example color boundaries boundary fill procedure Interior fill elliptical arc Fill methods applied toa connected area connected area b Open circles represent pixels tested current test position shown solid color The following procedure illustrates recursive method ror filling connected area intensity specified parameter fill boundary color specified parameter boundary We extend procedure fill connected region including four additional statements test diagonal positions x void boundaryFill4 int x int int fill int boundary int current current getPixel x current boundary current fill setColor fill setPixel x boundaryFill4 x l fill boundary boundaryFill4 x fill boundary boundaryFilld x l fill boundary boundaryFill4 x fill boundary __ Recursive boundary fill algorithms may fill regions correctly terior pixels already displayed fill color This occurs algo rithm checks next pixels boundary color fill color Encountering pixel fill color cause recursive branch terminate leaving interior pixels unfilled To avoid first change color interior pixels initially set fill color applying boundary fill pro cedure Also since procedure requires considerable stacking neighboring points efficient methods generally employed These methods fill hori zontal pixel spans across scan lines instead proceeding connected connected neighboring points Then need stack beginning position horizontal pixel span instead stacking unprocessed neighboring positions around current position Starting initial interior point method first fill contiguous span pixels starting scan line Then locate stack starting positions spans adjacent scan lines spans defined contiguous horizontal string positions Start Pasition al bi The area defined within color boundary partially filled b using connected boundary fill algorithm b c Filled Pixel Spans Stacked Positions S668 e00ec0e e e0e e O86 eeee 2OSOGH FEOHSCO 2eO e S06 S635 ay ee 8666 SSUSOSsesose ari om Oe SBCGS6CCC008 ge q SSeeeeeesoece Boundary fill across pixel spans connected area The filled initial pixel span showing position initial point open circle stacked positions pixel spans adjacent scan lines b Filled pixel span first scan line initial scan line current contents stack c Filled pixel spans first two scan lines initial scan line current contents stack ad Completed pixel spans upper right portion defined region remaining stacked positions processed An area defined within multiple color boundaries bounded pixels displayed area border color At subsequent step unstack next start position repeat process An example pixel spans could filled using approach illus trated connected fill region In example first process scan lines successively start line top boundary After upper scan lines processed fill pixel spans remaining scan lines order bottom boundary The leftmost pixel position hori zontal span located stacked left right order across successive scan lines shown In figure initial span filled starting positions spans next scan lines stacked In b position unstacked processed pro duce filled span shown starting pixel position single span next scan line stacked After position processed filled spans stacked positions shown c And shows filled pixels processing spans upper right specified area Position next processed spans filled upper left region position picked continue processing lower scan lines Flood Fill Algorithm Sometimes want fill recolor area defined within sin gle color boundary shows area bordered several different color regions We paint areas replacing specified interior color instead searching boundary color valuc This approach called flood fill algo rithm We start specified interior point x reassign pixel values currently set given interior color desired fill color If area want paint one interior color first reassign pixel val ues interior points color Using either connected connected approach step pixel positions interior points repainted The following procedure flood fills connected gion recursively starting input position void floodFill4 int x int int fillcoler int oldcolor getPixel x oldColor setColor fillColor setPixel x floodFill4 x fillColor oldColor floodFill4d x fillColor oldcolor floodFill4d x l1 fillColor oldColor floodFill4 x fillColor oldColor We modify procedure f loodFil14 reduce storage requirements stack filling horizontal pixel spans discussed boundary fill al gorithm In approach stack beginning positions pixel spans value oldColor The steps modified flood fill algo rithm similar illustrated boundary fill Starting first position span pixel values replaced value oldColor encountered We display filled polygon PHIGS GKS function fillArea n weVertices The displayed polygon area bounded series n straight line segments connecting set vertex positions specified wcvertices These packages provide fill functions objects curved boundaries Implementation 111Area function depends selected type interior fill We display polygon boundary surrounding hollow interior choose solid color pattern fill border display polygon For solid fill i11Area function implemented scan line fill algorithm display single color area The various attribute options dis playing polygon fill areas PHIGS discussed next chapter Another polygon primitive available PHIGS 111AreaSet This func tion allows series polygons displayed specifying list vertices polygon Also graphics packages functions often provided displaying variety commonly used fill areas besides general polygons Some examples fillkectangle fillCire e fillCirclearc fill Ellipse fill llipsearc The cell array primitive allows users display arbitrary shape de fined two dimensional grid pattern A predefined matrix color values mapped function onto specified rectangular coordinate region The PHIGS version function cellArray wwePoints n colorArray colorArray n matrix integer color values wePoints lists limits rectangular coordinate region min Yaun ANd Ona Ymar shows distribution elements color matrix co ordinate rectangle Each coordinate cell width max Xgun n height Umax Yeun Pixel color values assigned according relative positions pixel center coordinates If center pixel lies within one n coordinate cells pixel assigned color corresponding element matrix colorArray Letters numbers characters displaved variety sizes stvles The overall design style set family characters called type Section 12 Fill Area Functions View rows Ymn columns Xemun ine x Mapping n cell array rectangular coordinate region face Today hundreds typefaces available computer applications Examples common typefaces Courier Helvetica New York Palatino Zapf Chancery Originally term font referred set cast metal char acter forms particular size format point Courier Italic point Palatino Bold Now terms font typeface often used inter changeably since printing longer done cast metal forms Typefaces fonts divided two broad groups serif sans serif Serif type small lines accents ends main character strokes sans serif type accents For example text book set serif font Palatino But sentence printed sans serif font Optima Serif type generally readable easier read longer blocks text On hand individual characters sans serif type easier recognize For reason sans serif type said legible Since sans serif characters quickly recognized typeface good labeling short headings Two different representations used storing computer fonts A simple method representing character shapes particular typeface use rectangular grid patterns The set characters referred bitmap font bitmapped font Another flexible scheme describe character shapes using straight line curve sections PostScript example In case set characters called outline font illustrates two methods character representation When pattern copied area frame buffer bits designate pixel positions displayed monitor To display character shape b interior character outline must filled using scan line fill proce dure Section 11 Bitmap fonts simplest define display The character grid needs mapped frame buffer position In general however bitmap fonts require space variation size format must stored font cache It possible generate different sizes variations bold italic one set usually produce good results In contrast bitmap fonts outline fonts require less storage since vari ation require distinct font cache We produce boldface italic different sizes manipulating curve definitions character outlines But take time process outline fonts must scan converted frame buffer A character string displayed PHIGS following function text woePoint string Parameter string assigned character sequence displayed coordinate position wcPoint x For example statement text wcPoint Population Distribution along coordinate specification wcPoint could used label distribution graph Just string positioned relative coordinates x user op tion The default x sets coordinate location lower left corner first character horizontal string displayed Other string orienta tions vertical horizontal slanting set attribute options discussed next chapter Another convenient character function PHIGS one places desig nated character called marker symbol one selected positions This function defined parameter list line function polymarker n wePoints A predefined character centered n coordinate positions list wcPoints The default symbol displayed polymarker depends TP VT Tyr rpayoa Oy TyoOy 1tija OFT 1TPO O T4110 OQ1rryyyrpryrpojo O7TFrPOy tyraAlse Oo oyoj rss Ti Ty yPr1p aqa O oysalo ola b The letter B represented bilevel bitmap pattem b outline shape defined straight line curve segments Section 14 Character Generation x Sequence data values plotted oF 100 pol ymarker function particular implementation assume asterisk used illustrates plotting data set statement polymarker wcPoints SUMMARY The output primitives discussed chapter provide basic tools con structing pictures straight lines curves filled areas cell array patterns text Examples pictures generated primitives given Figs 50 51 Three methods used plot pixel positions along straight line path DDA algorithm Bresenham algorithm midpoint method For straight lines Bresenham algorithm midpoint method identical efficient Frame buffer access methods also per formed efficiently incrementally calculating memory addresses Any line generating algorithms adapted parallel implementation parti tioning line segments Circles ellipses efficiently accurately scan converted using midpoint methods taking curve symmetry account Other conic sec tions parabolas hyperbolas plotted similar methods Spline curves piecewise continuous polynomials widely used design applications Parallel implementation curve generation accomplished partitioning curve paths To account fact displayed lines curves finite widths must adjust pixel dimensions objects coincide specified geo metric dimensions This done addressing scheme references pixel positions lower left corner adjusting line lengths Filled area primitives many graphics packages refer filled polygons A common method providing polygon fill raster systems scan line fill algorithm determines interior pixel spans across scan lines intersect polygon The scan line algorithm also used fill interior objects curved boundaries Two methods filling interior regions ob jects boundary fill algorithm flood fill algorithm These two fill procedures paint interior one pixel time outward specified inte rior point The scan line fill algorithm example fillirg object interiors using odd even rule ta locate interior regions Other methods defining object teriors also useful particularly unusual self intersecting objects A com mon example nonzero winding number rule This rule flexible odd even rule handling objects defined multiple boundaries A data plot generated straight line segments curve circles markers text Couftesy Wolfram Research Inc The Maker An electrical diagram drawn Mathematica straight line sections circles filled rectangles text Courtesy Wolfram Research Inc The Maker Mathematica Additional primitives available graphics packages include cell arrays character strings marker symbols Cell arrays used define store color patterns Character strings used provide picture graph labeling And marker symbols useful plotting position data points Table lists implementations output primitives discussed chapter TABLE OUTPUT PRIMITIVE IMPLEMENTATIONS typedef struct float x wePt2 Defines location dimensionai world coordinates pPolyline int n wePt2 pts Draw connected sequence n line segments specified pts pCircle wePt2 center float r Draw circle radius x center pFillarea int n wcPt2 pts Draw filled polygon n vertices specified pts pCellArray wePt2 pts int n int int colors Map n array colors onto rectangular area defined pts pText wePt2 position char txt Draw character string txt position pPolymarker int n wePt2 pts Draw collection n marker symbols pts Chapter Applications Output Primitives Here present example programs illustrating applications output primitives Functions listed Table defined header file graph ics h along routines openGraphics closeGraphics setColor setBackground The first program produces line graph monthly data period one year Output procedure drawn This data set also used second program produce bar graph include stdio h include graphics h define WINDOW_WIDTH define WINDOW_HEIGHT Amount space leave side chart define MARGIN_WIDTH 05 WINDOW_WIDTH define N_DATA typedef enum Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec Months char monthNames N_DATA Jan Feb Mar Apr May Jun Jul Bug Sep Oct Now Dec int readData char inPile float data int fileError FALSE FILE fp Months month fp fopen inFile r NULL fileError TRUE else month Jan month Dec month fscanf fp tf dataf month fclose fp return fileError void lineChart float data wePt2 dataPos N_DATA labelPos Months float mWidth WINDOW_WIDTH MARGIN_WIDTH N_DATA int charcBottom WINDOW_HEIGHT int offset 05 WINDOW_HEIGHT Space data labels int labelLength Assuming fixed width pixel characters labelPos chartBettom Jan Dec Calculate x positions data markers dataPos x MARGIN_WIDTH mWidth mWidth dataPos chartBottom offset data Shift label left one half length labelPos x dataPos x labelLength pText lahelPos monthNames pPolyline N_DATA dataPos pPolymarker N_DATA dataPos Summary Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dac A line plot data points output lineChart procedure void main int argc char argv float data N_DATA int dataError FALSE long windeowID arge fprintf stderr Usage dataFileName n argv exit dataError readData argv data dataError fprintf stderr error Can read file n argv exit windewID openGraphics argv WINDOW_WIDTH WINDOW_HEIGHT setEBackground WHITE setColor BLACK lineChart data sleep closeGraphics windowID void barChart float data wePt2 dataPos labelPos Months float x mWidth WINDOW_WIDTH MARGIN_WIDTH N_DATA int chartBottom WINDOW _HEIGHT int offset 05 WINDOW_HEIGHT Space data labels int labelLength Assuming fixed width B pixel characters labelPos chartBottom Jan Dec Find center month bar MARGIN_WIDTH mWidth mwWidth Shift label left one half assumed length labelPos x x labelLength Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec A bar chart plot output barChart procedure pText labelPos monthNames Get coordinates month bar dataFos 0i x dataPos x x labelLength dataFos l x dataPos x x laseiLength dataFos Ql dataPos chartBottom offset dataFos dataPos chartBottom offset datal prillArea dataPos KK KM Pie charts used show percentage contribution individual parts whole The next procedure constructs pie chart number rel ative size slices determined input A sample output procedure appears Rdefine TWO_PT 28 void pieChart Moat data wePt2 pts center float radius WINDOW_HETGHT float newSlice total lastSlice Months month center x WINDOW_WIDTH center WINDOW_HEIGHT pCircle center radius month Jan month Dec month total datafmonth pts ii x center x pts center month Jan month Dec montht newSlice TWOLPL datal month total jlastSlice ptsi l x center x radius cosf newSlice pts l center radius sinf newSlice pPolyline pts lastSlice newSlice Lo Some variations circle equations output next procedure The shapes shown generated varying radius r circle Depending vary r produce spiral cardioid limacon similar figure include stdio h include math include graphics h define TWO_PI 28 Limacon equacion r ecs theta b Cardioid b sor cos theta typedet enum spiral cardioid threeLeat tourLeaf limacon Fig void drawCurlyFig Fig figure wcPt2 pos int 4p float r theta dtheta float pl0l int nPoints int ceilf TWO_PI p wePt2 pe pt iwept2 malloc nPeints sizeof wePt2 NULL fprintf stderr Couldn ailocate pcints n recur Set first point figure pt O pos switch figure ease spiral prl O x pos x break case limacon pt O x pos x plO E 1l break case Cardicid prlO x pos x pio break case threeLeaf pt x pos x pl0 break case fourLeaf pt 0j x pos x pl0 break nPoints theta TWO_PI switch figure case spival r p theta break case limacon r p cosf theta pil break case cardioid xr p cosf treta break case threeLeaf r p cosf theta break case fourLeaf xr p cosf theta break pt nPoints x pos x r cosf thetui pt nPoints pos r sinf theta nPointst theta dtheta pPolyline nkoints pt free pt void main int arge char argv Output generated pieChart procedure OOP Curved figures produced drawShape procedure long windowID openGraphics argv Fig Center positions figure wePt2 center Parameters define figure First four need one parameter Fifth figure lLimacon needs two int p setBackground WHITE setColor BLACK f spiral f limacon f drawCurlyFig f center f plf Sleep closeGraphics windowID REFERENCES Information Bresenham algorithms found Bresenham For mid point methods see Kappel Parallel methods generating lines circles discussed Pang Wright Additional programming examples information PHIGS primitives found Howard et al Hopgood Duce Gaskins Blake For information GKS output primitive functions see Hopgood et al Enderle Kansy Pfaff EXERCISES Implement poly ine function using DDA algorithm given number n input points A single point plotted n Extend Bresenham line algorithm generate lines slope taking symmetry quadrants account Implement poly ine function using algorithm routine displays set straight lines connecting n input points For n routine displays single point 10 11 14 15 16 17 18 19 Devise consistent scheme implementing polyline function set input line endpoints using modified Bresenham line algorithm geometric magnitudes maintained Section 10 Use midpoint method derive decision parameters generating points along straight line path slope range Show midpoint decision parameters Bresenham Iine algorithm Use midpoint method derive decision parameters used generate straight line segments slope Set parallel version Bresenham line algorithm slopes range Set parallel version Bresenham algorithm straight lines slope Suppose system inch inch video monitor display pixels per inch If memory organized one byte words starting frame buffer address pixel assigned one byte storage frame buffer address pixel screen coordinates yl Suppose system inch inch video monitor display pixels per inch If memory organized one byte words starting frame buffer address pixel assigned bits storage frame buffer address ior addresses pixel screen coordinates x implement set Pixel routine Bresenham ine algorithm using iterative tech niques calculating frame buffer addresses Section Revise midpoint circle algorithm display sv geometric magnitudes maintained Section 10 Set procedure parallel implementation midpoint circle algorithm Derive decision parameters midpoint ellipse algorithm assuming start posi tion r points generated along curve path counterclockwise order Set procedure parallel implementation midpoint ellipse algorithm Devise efficient algorithm takes advantage symmetry properties display sine function Devise efficient algorithm taking function symmetry account display plot damped harmonic motion Ae sin wx w angular frequency phase sine function Plot function x several cycles sine function maximum amplitude reduced A Using midpoint method taking symmetry account develop efficient algorithm scan conversion following curve interval x yeax 12 Use midpoint method symmetry considerations scan convert parabola x interval x Use midpoint method symmetry considerations scan convert parabola xe interval Exercises 20 21 22 26 27 28 29 30 31 34 Set midpoint algoritiim taking symmetry considerations account scan convert paraboia form axt b input values parameters b range x Write program scan convert interior specified ellipse solid color Devise algorithm determining interior regions input set vertices using nonzero winding rumber rule cross product calculations identify direc tion edge crossings Devise algorithm determining interior regions input set vertices using nonzero winding number rule dot product calculatians identify direc tion edge crossings Write procedure filling interior specificd set polygon vertices using nonzero winding number rule identify interior regions Modify boundary fill algorithm connected region avoid excessive stack ing incorporating scan line methods Write boundary fill procedure fill connected region Explain ellipse displayed midpoint method could properly filled boundary fill algorithm Develop implement flood fill algorithm fill interior specified area Write routine implement text function Write routine implement polymarker function Write program display bar graph using polyline function Input program include data points labeling required x axes The data points scaled program graph displayed across full screen area Write program display bar graph selected screen area Use poly line function draw bars Write grocedure display line graph input set data points se lected area screen input data set scaled fit selected screen area Data points displayed asterisks joined straight line segments x axes labeled according te input specifications Instead asterisks small circles symbols could used plot data points Using circle function write routine display pie chart appropriate label ing Input routine include data set giving distribution data set intervals name pie chart names intervals Each section labet displayed outside boundary pie chart near corre sponding pie section HAPTER Attributes Output Primitives I n general parameter affects way primitive displayed referred attribute parameter Some attribute parameters color size determine fundamental characteristics primitive Others specify primitive displayed special conditions Examples attributes class include depth information three dimensional view ing visibility detectability options interactive object selection pro grams These special condition attributes considered later chapters Here consider attributes control basic display propertics primitives without regard special situations For example lines dot ted dashed fat thin blue orange Areas might filled one color multicolor pattern Text appear reading left right slanted diagonally across screen vertical columns Individual characters displayed different fonts colors sizes And apply intensity variations edges objects smooth raster stairstep effect One way incorporate attribute options graphics package ex tend parameter list associated output primitive function include appropriate attributes A line drawing function example could contain parameters set color width properties addition endpoint coor dinates Another approach maintain system list current attribute values Separate functions included graphics package setting cur rent values attribute list To generate output primitive system checks relevant attributes invokes display routine primitive using current attribute settings Some packages provide users combi nation attribute functions attribute parameters output primitive commands With GKS PHIGS standards attribute settings accom plished separate functions update system attribute list Basic attributes straight line segment type width color In graphics packages lines also displayed using selected pen brush options In following sections consider line drawing routines modified accommodate various attribute specifications Line Type Possible selections line type attribute include solid lines dashed lines dotted lines We modify line drawing algorithm generate lines setting length spacing displayed solid sections along line path A dashed line could displayed generating interdash spacing equal length solid sections Both length dashes interdash spacing often specified user options A dotted line displayed generating short dashes spacing equal greater dash Section size Similar methods used produce line type variations Line Attributes To set line type attributes PHIGS application program user invokes function setLinetype 1t parameter assigned positive integer value generate lines respectively solid dashed dotted dash dotted Other values line type parameter 1t could used display variations dot dash patterns Once line type parameter set PHIGS application pro gram al subsequent line drawing commands produce lines line type The following program segment illustrates use linetype command display data plots include stdio h include graphics h define MARGIN_WIDTH 05 WINDOW_WIDTH int readData char inFile float data int fileBrror FALSE FILE fp int month fp fopen inFile r NULL fileError TRUE else month month month fscanf fp f data month fclose fp return fileError void chartData float data pLineType lineType wePt2 pts i2 float monthWidth WINDOW_WIDTH MARGIN_WIDTH int pts x MARGIN_WIDTH monthWidth monthWidth pts data ij pSetLineType lineType pPolyline pts int main int argc char argv long windowID openGraphics argv WINDOW_WIDTH WINDOW_HEIGHT float data setBackground WHITE setcColor BLUE readData data datal960 data chartData data SOLID readData data datal970 data chartData data DASHED readData data datal980 data chartData data DOTTED sleep closeGraphics windowID ees80e b Unequal length dashes displayed number pixels Plotting three data sets three differen line types output chart Data procedure Raster line algorithms display line type attributes plotting pixel spans For various dashed dotted dot dashed patterns line drawing proce dure outputs sections cuntiguous pixels along line path skipping number intervening pixels solid spans Pixel counts span length interspan spacing specified pixel mask string containing digits indicate positions plot along line path The mask instance could used display dashed line dash length four pixels interdash spacing uf three pixels On bilevel system mask gives bit values loaded frame buffer along line path display selected line type Plotting dashes fixed number pixels results unequal length dashes different line orientations illustrated ir Both dashes shown plotted four pixels diagonal dash 1s longer factor V2 For precision drawings dash lengths remain approximately constant line orientation To accomplish adjust pixel counts solid spans interspan spacing according line slope In dis play approximately equal length dashes reducing diagonal dash three pixels Another method maintaining dash length treat dashes individ ual line segments Endpoint coordinates dash located passed line routine calculates pixel positions along dash path Line Width Implementation line width options depends capabilities output device A heavy line video monitor could displaved adjacent parallel lines pen plotter nught require pen changes As PHIGS attrib utes line width command used set current line width value tribute list This value used line drawing algorithms control thickness lines generated subsequent output primitive commands We set line width attribute command setLinew inScaleFactor lw Line width parameter assigned positive number indicate relahve width line displayed A value specifies standard width line On pen plotter instance user could set lw value plot line whose width half standard line Values greater produce lines thicker standard For raster implementation standard width line generated single pixels sample position Bresenham algorithm Other width lines displayed positive integer multiples standard line plotting addi tional pixels along adjacent parallel line paths For lines slope magnitude less modify line drawing routine display thick lines plot ting vertical span pixels x position along line The number pix els span set equal integer magnitude parameter 1w In plot double width line generating parallel line original line path At x sampling position calculate corresponding coordinate plot pixels screen coordinates x x We display lines lw alternately plotting pixels single width line path For lines slope magnitude greater plot thick lines horizontal spans alternately picking pixels right left line path This scheme demonstrated line width plotted horizontal pixel spans Although thick lines generated quickly plotting horizontal vertical pixel spans displayed width line measured perpendicular line path dependent slope A line displayed thinner factor compared horizontal vertical line plotted samelength pixel spans Another problem implementing width options using horizontal vertical pixel spans method produces lines whose ends horizontal vertical regardless slope line This effect noticeable thick lines We adjust shape line ends give better ap pearance adding line caps One kind line cap butt cap ob tained adjusting end positions component parallel lines thick line displayed square ends perpendicular line path If specified line slope square end thick line slope Another line cap round cap obtained adding filled semicircle butt cap The circular arcs centered line endpoints diameter equal line thickness A third type line cap projecting square cap Here simply extend line add butt caps positioned one half line width beyond specified endpoints Other methods producing thick lines include displaying line filled rectangle generating line selected pen brush pattern dis cussed next section To obtain rectangle representation line Double wide raster line slope generated vertical pixel spans Section Line Attributes x r x C oe Raster line slope line width parameter lw plotted horizontal pixel spans boundary calculate position rectangle vertices along perpendicu Jars line path vertex coordinates displaced line end points one half line width The rectangular line appears Fig We could add round caps filled rectangle extend length display projecting square caps Generating thick polylines requires additional considerations In gen eral methods considered displaying single line segment produce smoothly connected series line segments Displaying thick lines using horizontal vertical pixel spans example leaves pixel gaps boundaries lines different slopes shift horizon tal spans vertical spans We generate thick polylines smoothly joined cost additional processing segment endpoints shows three possible methods smoothly joining two line segments A miter join accomplished extending outer boundaries two lines meet A round join produced capping connection two segments circular boundary whose diameter equal line b ic Thick lines drawn butt caps b round caps c projecting square caps b tc Thick line segments connected miter join b round join c bevel join width And bevel join generated displaying line segments butt caps filling triangular gap segments meet If angle tween two connected line segments small miter join generate long spike distorts appearance polyline A graphics package avoid effect switching miter join bevel join say two con secutive segments meet small enough angle Pen Brush Options With packages lines displayed pen brush selections Op tions category include shape size pattern Some possible pen brush shapes given These shapes stored pixel mask identifies array pixel positions set along line path For example rectangular pen implemented mask shown Fig moving center one corner mask along line path To avoid setting pixels frame buffer sim ply accumulate horizontal spans generated position mask keep track beginning ending x positions spans across scan line Lines generated pen brush shapes displayed various widths changing size mask For example rectangular pen line could narrowed rectangular mask widened 4x4 mask Also lines displayed selected patterns superimposing pattern values onto pen brush mask Some examples line patterns shown An additional pattern option provided paint package display simulated brush strokes illustrates patterns displayed modeling different types brush strokes Line Color When system provides color intensity options parameter giving cur rent color index included list system attribute values A polyline rou tine displays line current color setting color value frame buffer pixel locations along line path using set Pixel procedure The number color choices depends number bits available per pixel frame buffer We set line color value PHIGS function setPolylineColourIndex lc Section Line Auributes Custom Document Brushes ae Pen brush shapes line display Nonnegative integer values corresponding allowed color choices assigned line color parameter Lc A line drawn background color invisible user erase previously displayed line respecifying back ground color assuming line overlap one background color area An example use various line attribute commands applica ions program given following sequence statements setLinetype setLinewictnsScaleFactor setPolylinetolourIndex polyline nl wcpointsl setPolylinetclourIndex polyline n wepoints This program segment would display two figures drawn double wide dashed lines The first displayed color corresponding code second color Line Path bi A pixel mask rectangular pen b associated array pixels displayed centering mask specified pixel position X _ Generating line pen shape Curved lines drawn paint program using various shapes patterns From left right brush shapes square round diagonal line dot pattern faded airbrush A daruma doll symbol good fortune Japan drawn computer artist Koichi Kozaki using paintbrush system Daruma dolls actually come without eyes One eye painted wish made painted wish comes true Courtesy Wacom Technology Inc Parameters curve attributes line segments We display curves varying colors widths dot dash patterns available pen brush options Methods adapting curve drawing algorithms accommo date attribute selections similar line drawing The pixel masks discussed implementing line type options also used raster curve algorithms generate dashed dotted patterns For example mask produces dashed circle shown We generate dashes various octants using circle symmetry must shift pixel positions maintain correct sequence dashes spaces move one octant next Also line algorithms pixel masks display dashes interdash spaces vary length according slope curve If want display constant length dashes need adjust num ber pixels plotted dash move around circle circumference In stead applying pixel mask constant spans plot pixels along equal angular arcs produce equal length dashes Raster curves various widths displayed using method hon zontal vertical pixel spans Where magnitude curve slope less plot vertical spans slope magnitude greater plot horizontal spans demonstrates method displaying circular arc width first quadrant Using circle symmetry generate circle path vertical spans octant x x reflect pixel positions theline x obtain remainder curve shown Circle sections quadrants obtained reflecting pixel positions first quadrant coordinate axes The thickness curves displayed Section method function curve slope Circles ellipses curves Curve Attributes appear thinnest slope magnitude Another method displaying thick curves fill area two parallel curve paths whose separation distance equal desired width We could using specified curve path one boundary setting second boundary either inside outside original curve path This ap proach however shifts original curve path either inward outward de pending direction choose second boundary We maintain original curve position setting two boundary curves distance one half width either side specified curve path An example approach shown circle segment radius specified width The boundary arcs set separation distance either side radius To maintain proper dimensions circular arc discussed Section 10 set radii concentric boundary arcs r 14and r Although method accurate generating thick circles general provides approximation true area thick A dashed circular arc displayed dash span pixels interdash spacing pixels Circular width plotted pixel spans A circular arc width radius displayed filling region two concentric ares Circular arc displayed rectangular pen curves For example inner outer boundaries fat ellipse generated method foci Pen brush displays curves generated using techniques discussed straight line segments We replicate pen shape along line path illustrated circular arc first quadrant Here center rectangular pen moved successive curve positions produce curve shape shown Curves displayed rectangular pen manner thicker magnitude curve slope A uniform curve thickness displayed rotating rectangular pen align slope direc tion move around curve using circular pen shape Curves drawn pen brush shapes displayed different sizes superimposed patterns simulated brush strokes Various color intensity level options made available user de pending capabilities design objectives particular system General purpose raster scan systems example usually provide wide range colors random scan monitors typically offer color choices Color options numerically coded values ranging positive integers For CRT monitors color codes converted intensity level settings electron beams With color plotters codes could control ink jet deposits pen selections Ina color raster system number color choices available depends amount storage provided per pixel frame buffer Also color informa tion stored frame buffer two ways We store color codes di rectly frame buffer put color codes separate table use pixel values index table With direct storage scheme ever particular color code specified application program corre sponding binary value placed frame buffer component pixel output primitives displayed color A minimum number colors provided scheme bits storage per pixel shown Table Each three bit positions used control intensity level either corresponding electron gun RGB monitor The leftmost bit controls red gun middle bit controls green gun rightmost bit controls blue gun Adding bits per pixel frame buffer increases number color choices With bits per pixel bits used gun This allows four different intensity settings three color guns total color values available screen pixel With resolution full color bit per pixel RGB system needs megabytes storage frame buffer Color tables alternate means providing ex tended color capabilities user without requiring large frame buffers Lower cost personal computer systems particular often use color tables reduce frame buffer storage requirements Color Tables illustrates possible scheme storing color values color lookup table video lookup table frame buffer values used indices color table In example pixel reference one table positions entry table uses bits specify RGB color For color code combination green blue color displayed pixel location x Systems employing particular lookup table would allow TABLE THE EIGHT COLOR CODES FOR A THREE BIT PER PIXEL FRAME BUFFER Stored Color Values Displa yed Color Frame Buffer Color Code RED GREEN BLUE Black Biue Green Cyan Red Magenta Yellow White WA bw NM H seen Hoo oO o70 Section Color Grayscale Levels Chapter 4a user select colors simultaneous display palette nearly Attributes Output Primitives million colors Compared full color system scheme reduces num ber simultaneous colors displayed also reduces frame buffer storage requirements megabyte Some graphics systems provide bits per pixel frame buffer permitting user select colors could used display A user set color table entries PHIGS applications program function setColourRepresentation ws ci colorptr Parameter ws identifies workstation output device parameter ci specifies color index color table position number exam ple parameter colorptr points trio RGB color values r g b specified range An example possible table entries color monitors given There several advantages storing color codes lookup table Use color table provide reasonable number simultaneous colors without requiring large frame buffers For applications different colors sufficient single picture Also table entries changed time allowing user able experiment easily different color combinations design scene graph without changing attribute settings graph ics data structure Similarly visualization applications store values physical quantity energy frame buffer use lookup table try various color encodings without changing pixel values And visual ization image processing applications color tables convenient means setting color thresholds pixel values specified threshold set color For reasons systems provide capabilities color code storage user elect either use color tables store color codes directly frame buffer To Red Gun Ta Green Gun To Biue Gun A color lookup table bits per entry accessed frame buffer bits per pixel A value stored pixel position x references location table containing value Each bit segment entry controls intensity level one three electron guns RGB monitor ca Coler Ci Color OF Q 03 13 L Workstation color tables Grayscale With monitors color capability color functions used ap plication program set shades gray grayscale displayed primi tives Numeric values range J used specify grayscale levels converted appropriate binary codes storage raster This allows intensity settings easily adapted systems dif tering grayscale capabilities Table lists specifications intensity codes four level gray scale system In example intensity input value near 33 would stored binary value frame buffer pixels value would displayed dark gray If additional bits per pixel available frame buffer value 33 would mapped nearest level With bits per pixel accommodate gray levels bits per pixel would give us shades gray An alternative scheme storing intensity information convert intensity code directly voltage value produces gray scale level output device use When multiple output devices available installation color table interface may used monitors In case color table monochrome monitor set using range RGB values display intensity corresponding given color index ci calculated intensity min r g b max r g b TABLE INTENSITY CODES FOR A FOUR LFVEL GRAYSCALE SYSTEM Intensity Stored Intensity Displayed Codes Values In The Grayscale Frame Buffer Binary Code Black 33 aly Dark gray 67 Light gray qi1 White Section Calor Grayscale Levels Hollow fa Patterned te Figure Polygon fill styles Options filling defined region include choice solid color patterned fill choices particular colors patterns These fill options applied polygon regions areas defined curved boundaries depending capabilities available package In addition areas painted using various brush styles colors transparency parameters Fill Styles Areas displayed three basic fill styles hollow color border filled solid color filled specified pattern design A basic fill style selected PHIGS program function setInteriorStyle fs Values fill style parameter fs include hollow solid pattern Another value fill style hatch used fill area selected hatching patterns parallel lines crossed lines As line tributes selected fill style value recorded list system attributes applied fill interiors subsequently specified areas Fill selections pa rameter fs normally applied polygon areas also imple mented fill regions curved boundaries Hollow areas displayed using boundary outline inte rior color background color A solid fill displayed single color including borders region The color solid interior hollow area outline chosen setInteriorColourIndex fc fill color parameter fc set desired color code A polygon hollow fill generated line drawing routine closed polyline Solid fill gion accomplished scan line procedures discussed Section 11 Other fill options include specifications edge type edge width edge color region These attributes set independently fill style fill color provide options line attribute parameters line type line width line color That display area edges dotted dashed fat thin available color regardless filled interior MN eee EE Diagonal Diagonal Hatch Fill Cross Hatch Fill Polygon fill using hatch patterns Pattern Fill We select fill patterns setInteriorStyleindex pi pattern index parameter pi specifies table position For example fol lowing set statements would fill area defined i11Area command second pattern type stored pattern table setInteriorStyie pattern setInteriorStyleIndex fillArea n points Separate tables set hatch patterns f selected hatch fill interior yle program segment value assigned parameter pi index stored patterns hatch table For fill style pattern table entries created individual output de vices setPatternRepresentation iws p nx ny cp Parameter pi sets pattern index number workstation code ws cp isa two dimensional array color codes nx colunins ny rows The follow ing program segment illustrates function could used set first entry pattern table workstation cpll ep epli cp setPatternRepresentation cp Table shows first two entries color table Color array cp ex ample specifies pattern produces alternate red black diagonal pixel lines eight color system When color array cp applied fill region need specify size area covered element array We setting rectangular coordinate extents pattern setPatternSize dx dy parameters dx dy give coordinate width height array mapping An example coordinate size associated pattern array given If values dx dy figure given screen co ordinates element color array would applied screen grid containing four pixels A reference position starting pattern fill assigned statement setPatrernReferencePoint positicn Parameter posit pointer coordinates xp yp fix lower left comer rectangular pattern From starting position pattern replicated x directions defined area covered nonover TABLE A WORKSTATION PATTERN TABLE WITH TWO ENTRIES USING THE COLOR CODES OF TABLE Index Pattern p1 cp nN co Noh hRo Norns __ _1 T b fer tae ba tap te 4nd Fienre 20 A pattern array columns rows mapped coordinate rectangle Chapter Attributes Output Primitives lapping copies pattern array The process filling area rectangu lar pattern called tiling rectangular fill patterns sometimes referred tiling patterns demonstrates tiling triangular fill area starting pattern reference point To illustrate use pattern commands following program exam ple displays black white pattern interior parallelogram fill area The pattern size program set map array element toa single pixel Start Position Tiling area froma designated start position Nonoverlapping adjacent patterns laid cover sean lines passing defined area define WS void patternFill wePt2 pts int bwPattern pSetPatternRepresentation WS bwPattern pes x pts O pts x pts l pts x pts pts x pts pSetFillAreaInteriorStyle PATTERN pSetFillAreaPatternIndex pSetPatternReferencePoint pFillArea pts Pattern fill implemented modifying scan line procedures dis cussed Chapter Selected pattern superimposed onto scan lines Beginning specified start position pattern fill rectangular patterns would mapped vertically scan lines top bottom fill area horizontally interior pixel positions across scan lines Horizontally pattern array repeated intervals specified value size parameter dx Similarly vertical repeats pattern separated inter vals set parameter dy This scan line pattern procedure applies poly gons areas bounded curves te e A pattern array superimposed parallelogram fill area produce display b Hatch fill applied regions displaying sets parallel lines The fill procedures implemented draw either single hatching cross hatching Spacing slope hatch lines set parameters hatch table On raster systems hatch fill specified pattern array sets color values groups diagonal pixels many systems pattern reference point xp yp 1s assigned sys tem For instance reference point could set automatically polygon ver tex In general fill region reference point chosen lower left corner bounding rectangle bounding box determined coordi nate extents region To simplify selection reference coordi nates packages always use screen coordinate origin pattern start position window systems often set reference point coordinate ori gin window Always setting xp yp coordinate origin also simplifies tiling operations color array clement pattern mapped single pixel For example row positions pattern array refer enced reverse bottom top starting pattern value assigned pixel position x screen window coordinates setPixel x cPpty mod ny x mod nx ny nx specify number rows number columns pat tern array Setting pattern start position coordinate origin however ef fectively attaches pattern fill screen window background rather fill regions Adjacent overlapping areas filled pattern would show apparent boundary areas Also repositioning refilling object pattern result shift assigned pixel values object interior A moving object would appear transparent stationary pattern background instead moving fixed interior pattern It also possible te combine fill pattern background colors includ ing grayscale various ways With bitmap pattern containing digits values could used transparency indicators let back ground show Alternatively digits used fill inte tior two color patterns In general color fill patterns combined several ways background colors The pattern background colors combined using Boolean operations pattern colors simply place background colors demonstrates Boolean place operations fill pattern would set pixel values binary black white system particular background pattern Ymax Bounding Rectangle Bounding rectangle region coordinate extents Xin Xmax x Varun ANG Ya x man directions mio Section Area Fill Attrivutes eo Pattern Background Pixel Values Combining fili pattern backgrouna pattern using Boolean operations xor exclusive using simple replacement Soft Fill Modified boundary fill flood fill procedures applied repaint areas fill color combined background colors referred soft fill tint fill algorithms One use fill methods soften fill colors object borders blurred antialias edges Another allow repainting color area originally filled semitranspar ent brush current color mixture brush color background colors behind area In either case want new fill color variations area current fill color As example type fill linear soft fill algorithm repaints area originally painted merging foreground color F single background color B F B Assuming know values F B determine colors originally combined checking cur rent color contents frame buffer The current RGB color P pixel within area refilled linear combination F B P tF OB transparency factor value pixel For values less background color contributes interior color region fill color Vector Equation holds RGB component colors P Pp Po Pad F Fz Fe Fp B Bz By Bg We thus calculate value parameter using one RGB color com ponents Po By pa eB F By k R G B F B Theoretically parameter value RGB component roundoff integer codes result different values different components We minimize roundoff error se lecting component largest difference F B This value tis used mix new fill color NF background color using either modified flood fill boundary fill procedure Similar soft fill procedures applied area whose foreground color merged multiple background color areas checker board pattern When two background colors B B mixed fore ground color F resulting pixel color P P F B B sum coefficients ty color terms must equal We set two simultaneous equations using two three RGB color components solve two proportionality parameters tg These parameters used mix new fill color two back ground colors obtain new pixel color With three background colors one foreground color two background two foreground colors need three RCB equations obtain relative amounts four colors For foreground background color combinations however system two three RGB equations solved This occurs color val ucs similar proportional The appearance displayed characters controlled attributes font size color orientation Attributes set entire character strings text individual characters defined marker symbols Tex Attributes There great many text options made available graphics pro grammers First choice font typeface set characters particular design style New York Courier Helvetica London Times Roman various special symbol groups The characters selected font also displaved assorted underlining styles solid ted doubie boldface italics outline shadow styles A particular Section Character Attributes Chapter Attributes Output Primitives font associated style selected PHIGS program setting integer code text font parameter f function serTextFou tf Font options mace available predetined sets grid patterns char acter sets designed polylines spline curves Color settings displayed text stored system attribute list used procedures load character definitions frame buffer When character string displayed current color used set pixel values frame buffer corresponding character shapes positions Control text color intensity managed application program setTextCoLourIndex tc text color parameter zc specifies allowable color code We adjust text size scaling overall dimensions height width characters scaling character width Character size specified printers compositors points point 013837 inch approxi mately 72 inch For example text reading point font Point measurements specify size body character dif ferent fonts point specifications different character sizes depending design typeface The distance bottomline topline character body characters particular size typeface body width may vary Proportionally spaced fonts assign smaller body width narrow characters j f compared broad characters W M Character heighi defined distance baseline capline characters Kerned characters f j Fig 25 typically extend beyond character body limits letters descend ers g j p q extend baseline Fach character positioned within character body font designer allow suitable spacing along tween print lines text displayed character bodies touching Text size adjusted without changing width height ratio characters secCharacterHeight ich _ character kern _ character pom body e character height base im __ bottom J kern igure Character body Height Height Height Parameter ch assigned real value greater set coordinate height capital letters distance baseline capline user coordinates This setting also affects character body size width spacing characters adjusted maintain text proportions For instance dou bling height also doubles character width spacing char acters shows character string displayed three different charac ter heights The width text set function The effect different character height settings displayed text setCharacterExpansionFactor cw character width parameter cw set positive real value scales body width characters Text height unaffected attribute setting Examples text displayed different character expansions given Fig 27 Spacing characters controlled separately setCharacterSpacing cs character spacing parameter cs assigned real value The value assigned cs determines spacing betwveen character bodies along print lines Negative values cs overlap character bodies positive values sert space spread displayed characters Assigning value cs causes text displayed space character bodies The amount spacing applied determined multiplying value cs character height distance baseline capline In character string displayed three different settings character spacing para meter The orientation displayed character string set according direc tion character vector setCharacterUpVector upvect Parameter upvect function assigned two values specify x vector components Text displayed orientation characters baseline capline direction vector For example upvect direction vector text would displayed shown A procedure orienting text rotates characters sides character bodies baseline capline aligned vector The rotated character shapes scan converted frame buffer Section Character Attributes widthO width width The effect different character width settings displayed text Spacing Spacing Spacing The effect different character spacings displayed text Chapter TT ee Attributes Output Primitives te UZ Direction vector Up Vector _ controls orientation oh displayed text b It useful many applications able arrange character strings verti cally horizontally An attribute parameter option set statement seuTextPath tp Ax ms cro dpme f A text path parameter tp assigned value right left Examples text displayed four options shown A procedure implementing option must transform character patterns specified orientation transferring frame buffer Character strings also oriented using combination vector text path specifications produce slanted text shows directions character strings generated various text path settings vec tor Examples text generated text path values right ee vector illustrated oe Another handy attribute fer character strings alignment This attribute specifies text positioned respect start coordinates Align Text path attributes set Ment attributes set produce horizontai vertical arrangements setTextAligumert h vi character strings _ HORIZONTAL TEXT parameters h control horizontal vertical alignment respectively Horizontal alignment set assigning h value left centre right Vertical D alignment set assigning v value top cap half base bottom The inter pretation alignment values depends current setting text r path shows position alignment settings text displayed horizontally right vertically Similar interpretations apply text path values left The natural alignment par SNMIres string ticular text path chosen assigning value norma h v parame ters illustrates common alignment positions tor horizontal vertt cal text labels r A precision specification text display given n setTextPree sion tpri K vee text precision parameter tpr assigned one values string char stroke The highest quality text displayed precision parameter set Text displayed four value stroke For precision setting greater detail would used defin text path options ing character shapes processing attribute selections string manipulation procedures would carried highest possible ac curacy The lowest quality precision setting string used faster display character strings At precision many attribute selections text path ignored string manipulation procedures simplified reduce processing time Marker Attributes A marker symbol single character displayed different colors different sizes Marker attributes implemented procedures load chosen character raster defined positions specified color size We select particular character marker symbol setMarkerType mt marker type parameter mt set integer code Typical codes marker type integers specifying respectively dat ver tical cross asterisk circle diagonal cross x Displayed marker types centered marker coordinates We set marker size setMarkerSizeScaleFactor ms parameter marker size ms assigned positive number This scaling parame ter applied nominal size particular marker symbol chosen Values greater produce character enlargement values less reduce marker size STRING left center top cap T w voooo ees Half ese Dase G Bottom left right Alignment attribute values horizontal vertical strings canter Section Charac er Attributes Direction Character Vector oy Lo g Text Path Direction b An vector spec fication controls direction text path b b The vector produces display fora path display b right path RAH OL GNMEN CENTER AUIGNMENT Gn tbe aot ALIG Ligure 35 Character string alignmenss Marker color specified setPolymarkerColourlIndex mc A selected color cade tor parameter mc stored current attribute list used display subsequently specified marker primitives With procedures considered far function references single attribute specifies exactly primitive displayed tribute setting These specifications called individual unbundled attrib utes meant used output device capable dis playing primitives way specified If application program employing individual attributes interfaced several output devices devices may capability display intended attributes A program using individual color attributes example mav modified produce ac ceptable output monochromatic monitor Individual attribute commands provide simple direct method specifying attributes single output device used When several kinds output devices available graphics installation convenient user able say attributes interpreted different de vices This accomplished setting tables output device lists sets attribute values used device display primi tive tvpe A particular set attribute values primitive output de vice chosen specifying appropriate table index Attributes specified manner called bundled attributes The table primitive hat de fines groups attribute values used displaying primitive particular output device 1s called bundle table Attributes may bundled workstation table entries involve courdinate specifications color line type The choice bundled unbundled specification made setting switch called aspect source flag attributes set individsalASF fattributeptr flagptr parameter attic buteptr points list attributes parameter flagptr points corresponding list aspect source flags Each aspect source flag assigned value individual bundled Attributes may bundled listed following sections Bundled lire Attributes Entries bundle lable line attributes specitied workstation set function setPolylinetepresentation ws li lw lc Parameter ws workstation identifier line index parameter 1i defines Section bundle table position Parameters 1t lw 1c bundled Bundled Attributes signed values set line type line width line color specifications respec tively designated table index For example following statements de fine groups line attributes referenced index number two different workstations setPolyiineRepresentation setPclylineRepresentaticn A polyline assigned table index value would displayed using dashed lines half thickness blue color workstation workstation index generates solid standard sized white lines Once bundle tables set group bundled line attributes chosen workstation specifying table index value setPolylineIndex 1i Subsequent polyline commands would generate lines worksta tion according set bundled attribute values defined table position specified value line index parameter Bundled Area Fill Attributes Table entries bundled area fill attributes set setiInteriorRepresentation ws fi fs pi fe defines attribute list corresponding fill index workstation ws Parameters fs pi fc assigned values fill style pattern index fill color respectively designated workstation Similar bundle tables also set edge attributes polygon fill areas A particular attribute bundle selected table func tion setinteriorIndex fi Subsequently defined fill areas displayed active workstation ac cording table entry specified fill index parameter fi Other fill area attributes pattern reference point pattern size independent workstation designation set functions previously described Bundled Text Attributes The function setTextRepresentation ws ti tf tp te ts tc bundles values text font precision expansion factor size color table position workstation ws specified value assigned text index parameter ci Other text attributes including character vector text path character height text alignment set individually A particular text index value chosen function setTextIndex ti Each text function invoked displayed workstation set attributes referenced table position Bundled Marker Attrioutes Table entries bundled marker attributes set setPolymazkerRepresentation ws mi mt ms mc This defines marker type marker scale factor marker color index mi workstation ws Bundle table selections made function setPolymarkerIndex mi Current settings attributes parameters workstation types status system lists retrieved mquiry functions These functions allow current values copied specified parameters saved later reuse used check current state system error occurs We check current attribute values stating name attribute inquiry function For example functions inguirePolvi nelndex lasz1i inguirelInteriorColourIndex lastfc copy current values line index fill color parameters last1i lastfc The following program segment illustrates reusing current line type value set lines drawn new line type inquireLinetype aldlt setLincetype newlt setLinetype oldit Displayed primitives generated raster algorithms discussed Chapter jagged stairstep appearance sampling process digitizes co ordinate points object discrete integer pixel positions This distortion information due low frequency sampling undersampling called aliasing We improve appearance displayed raster lines applying antialias ing methods compensate undersampling process An example effects undersampling shown To avoid losing information periodic objects need set sampling fre quency least twice highest frequency occurring object ferred Nyquist sampling frequency Nyquist sampling rate f f 2fonax Another way state sampling interval larger one half cycle interval called Nyquist sampling interval For x interval sampling Nyquist sampling interval Ax Ax Sats Axjyce fmax In sampling interval one one half times cycle interval sampling interval least three times big If want recover object information example need cut sampling interva one third size shown figure One way increase sampling rate raster systems simply display objects higher resolution But even highest resolution possible cur rent technology jaggies apparent extent There limit big make frame buffer still maintain refresh rate frames per second And represent objects accurately continuous para meters need arbitrarily small sampling intervals Therefore unless hardware technology developed handle arbitrarily large frame buffers increased screen resolution complete solution aliasing problem NVVMA Sampling Positions ta Sampling periodic shape marked positions produces aliased lower frequency b representation b Section Antialiasing I Chapter Attributes Output Primitives No With raster systems capable displaying two intensity levels color gray scale apply antialiasing methods modify pixel tensities By appropriately varying intensities pixels along boundaries primitives sinooth edges lessen jagged appearance A straightforward antialiasing method increase sampling rate treat ing screen covered finer grid actually available We use multiple sample points across finer grid determine appro priate intensity level screen pixel This technique sampling object characteristics high resolution displaying results lower resolu tion called supersampling postfiltering since general method involves computing intensities subpixe grid positions combining results obtain pixel intensities Displayed pixel positions spots light covering finite area screen infinitesimal mathematical points Yet line fill area algorithms discussed intensity pixel de termined location single point object boundary By supersam pling obtain intensity information multiple points contribute overall intensity pixel An alternative supersampling determine pixel intensity calculat ing areas overlap pixe objects displayed Antialias ing computing overlap areas referred area sampling prefiltering since intensity pixel whole determined without calculating sub pixel intensities Pixel overlap areas obtained determining object boundaries intersect individual pixel boundaries Raster objects also antialiased shifting display location pixel areas This technique calied pixel phasing applied microposition ing electron beam relation object geometry Supersampling Straight Line Segments Supersamp ing straight lines performed several ways For gray scale display straight line segment divide pixel number subpixels count number subpixels along line path The intensity level pixel set value proportional sub pixel count An example method given Fig 37 Each square pixel area divided rine equal sized square subpixels shaded regions show subpixels would selected Bresenham algorithm This scheme provides three intensity settings zero since maximum nuinber subpixels selected within pixel three For exam ple pixel position set maximum ntensity evel pixels set next highest intensity level pix els set lowest intensity zero evel Thus line intensity 1s spread greater number pixels stairstep effect smoothed displaying somewhat blurred line path vicinity stair steps horizontal runs want use inten sity levels antialiase line methad increase number sam pling positions across pixel Sixteen subpixels gives us four intensity levels zero twenty five subpixels gives us five levels In supersampling example considered pixel areas ot fi nite size treated line mathematical entity zero width Actu ally displayed lines width approximately equal tha pixel If take finite width line account perform supersampling setting pixel intensity proportional number subpixels inside Supersampling subpixel positions along straight line segment whose left endpoint screen coordinates polygon representing line area A subpixel considered inside line lower left corner inside polygon boundaries An advantage supersampling procedure number possible intensity levels pixel equal total number subpixels within pixel area For ex ample represent line finite width positioning polygon boundaries parallel line path And pixel set one nine possible brightness levels zero Another advantage supersampling finite width line total line intensity distributed pixels In pixel grid position turned intensity level also pick contributions pixels immediately immediately left posi tion Also color display extend method take background colors account A particular line might cross several different color areas average subpixel intensities obtain pixel color settings For instance five subpixels within particular pixel area determined inside boundaries red line remaining four pixels fall within blue background area calculate color pixel Pixel gior red blue The trade gains supersampling finite width line identifying interior subpixels requires calculations simply determining subpixels along line path These calculations also complicated positioning line boundaries relation line path This posi Supersampling subpixel positions relation interior line finite width Section Antialiasing Chapter Attributes Output Primitives Relative weights grid subpixels tioning depends slope line For line line path centered polygon area tor either horizontal vertical line want line path one polygon boundaries For instance horizontal line passing grid coordinates would represented polygon bounded horizontal grid lines Similarly polygon representing vertical line would vertical boundaries along grid lines x x For lines slope mt mathematical line path posi tioned propertionately closer lower polygon boundary lines slope line path placed closer upper polygon boundary Pixel Weighting Masks Supersampling algorithms often implemented giving weight sub pixels near center pixel area since would expect subpixels important determining overall intensity pixel For pixel subdivisions considered far weighting scheme could used The center subpixel weighted four times corner subpixels twice remaining subpixels intensities calculated grid nine subpixels would averaged center subpixel weighted factor top bottom side subpixels weighted factor corner subpixels weighted fac tor 16 An atray values specifying relative importance subpixels sometimes referred mask subpixel weights Similar masks set larger subpixel grids Also masks often extended include con tributions subpixels belonging neighboring pixels su intensities averaged adjacent pixels Area Sampling Straight Line Segments We perform area sampling straight line setting pixel intensity pro portional area overlap pixel finite width line The line treated rectangle section line area two adja cent vertical two adjacent horizontal screen grid lines trapezoid Overlap areas pixels calculated determining much trape zoid overlaps pixel vertical column horizontal row In pixel screen grid coordinates percent coverec line area intensity would set percent maximum ir tensity Similarly pixel 21 would set intensity percent maximum A method estimating pixel overlap areas illustrated su persampling example The total number subpixels within line boundaries approximately equal overlap area estimation im proved using finer subpixel grids With color displays areas pixel lap different color regions calculated final pixel color taken average color various overlap areas Filtering Techniques A accurate method antialiasing lines use filtering techniques The method similar applying weighted pixel mask imagine con tinuous weighting surface filter function covering pixel shows examples rectangular conical Gaussian filter functions Methods ap plying filter function similar applying weighting mask integrate pixel surface obtain weighted average intensity lo duce computation table lookups commonly used evaluate integrals Pixel Phasing On raster systems address subpixel positions within screen grid pixel phasing used antialias objects Stairsteps along line path ob ject boundary smoothed moving micropositioning electron beam nearly approximate positions specified object geometry Systems incorporating technique designed individual pixel positions shifted fraction pixel diameter The electron beam typically shifted pixel diameter plot points closer true path line object edge Some systems also allow size individual pixels ad justed additional means distributing intensities illustrates antialiasing effects pixel phasing variety line paths Compensating Line intensity Differences Antialiasing line soften stairstep effect also compensates another raster effect illustrated Both lines plotted number pixels yet diagonal line longer horizontal line factor V2 The visual effect diagonal line appears less bright hori zontal line diagonal line displayed lower intensity per unit length A line drawing algorithm could adapted compensate effect adjusting intensity line according slope Horizontal verti cal lines would displayed lowest intensity lines would given highest intensity But antialiasing techniques applied display Common filter functions used antialias line paths The volume filter normalized I height gives relative weight subpixel position Section Antialiasing saussian Filter c intensities automatically compensated When finite width lines taken account pixel intensities adjusted lines display total intensity proportional length Antialiasing Area Boundaries The antialiasing concepts discussed lines also applied boundaries areas remove jagged appearance We incorporate procedures scan line algorithm smooth area outline area generated If system capabilities permit repositioning pixels area boundaries smoothed adjusting boundary pixel positions along line defining area boundary Other methods adjust pixel intensity bound ary position according percent pixel area inside boundary In pixel position x half area inside polygon boundary Therefore intensity position would adjusted one half assigned value At next position x along boundary tensity adjusted one third assigned value point Similar adjustments based percent pixel area coverage applied intensity values aronnd boundary ad abi Jagged lines plotted Merlin system smoothed b antialiasing technique called pixel phasing This technique increases number addressable points system X X Courtesy Megatek Corp Unequal length lines displayed number pixels line Supersampling methods applied subdividing total area determining number subpixels inside area boundary A pixel partition ing four subareas shown The original grid pixels turned grid process eight scan lines across grid instead four shows one pixel areas grid overlaps object boundary Along two scan lines determine three sub pixel areas inside boundary So set pixel intensity percent maximum value Another method determining percent pixel area within bound ary developed Pitteway Watkinson based midpoint line algo tithm This algorithm selects next pixel along line determining two pixels closer line testing location midposition two pixels As Bresenham algorithm set decision parameter p whose sign tells us next two candidate pixels closer line By slightly modifying form p obtain quantity also gives percent current pixel area covered object We first consider method line slope range In straight line path shown pixel grid Assuming pixel position x plotted next pixel nearest line x x either pixel one We determine pixel nearer calculation Ymnia ry b Y This gives vertical distance actual coordinate line halfway point pixels position If difference calcula tion negative pixel closer line If difference positive vee Adjusting pixel intensities along x lael area boundary Section Antialiasing T I I T Sqr qr ara ras A pixel section raster display subdivided inta grid Sean Line Scan Line Subdivided Pixel Area A subdivided pixel area three subdivisions inside object boundary line Boundary edge area passing pixel grid section pixel closer We adjust calculation produces posi tive number range adding quantity p Imy bd A mm Now pixel nearer p pixel nearer p il Parameter p also measures amount current pixel lapped area For pixel x interior part pixel area calculated area mx b This expression overlap area pixel x parameter p Eq Therefore evaluating p determine next pixel po sition along polygon boundary also determine percent area cover age current pixel We generalize algorithm accommodate lines negative slopes lines slopes greater This calculation parameter p could incorporated midpoint line algorithm locate pixel positions object edge concurrently adjust pixel intensities along boundary lines Also adjust calculations reference pixel coordinates lower left coordinates maintain area proportions discussed Section 10 At polygon vertices skinny polygons shown one boundary edge passing pixel area For cases need modify Pitteway Watkinson algorithm processing edges passing pixel determining correct interior area Filtering techniques discussed line antialiasing also applied area edges Also various antialiasing methods applied polygon areas regions curved boundaries Boundary equations used esti mate area overlap pixel regions area displayed And coherence techniques used along scan lines simplify calculations SUMMARY In chapter explored various attributes control appear ance displayed primitives Procedures displaying primitives use attribute settings adjust output algorithms line generation area filling text string displays The basic line attributes line type line color line width Specifica tions line type include solid dashed dotted lines Line color specifica tions given terms RGB components control intensity three electron guns RGB monitor Specifications line width given terms multiples standard one pixel wide line These attributes applied straight lines curves To reduce size frame buffer raster systems use separate color lookup table This limits number colors displayed size lookup table Full color systems provide bits per pixel separate color lookup table pounder Sy mix Overlap area pixel rectangle centered position x interior polygon area Fill area attributes include fill style mil color fill pattern When fill style solid fill color specifies color solid fill polygon interior A hollow fill style produces interior background color border fill color The third type fill patterned In case selected array pattern used fill polygon interior An additional fill option provided packages soft fill This fill applications antialiasing painting packages Soft fill procedures provide new fill color region variations previous fill color One example approach linear soft fill algorithm assumes previous fill linear combination foreground background colors This linear relationship determined frame buffer settings used repaint area new color Characters defined pixel grid patterns outline fonts dis played different colors sizes orientations To set orientation char acter string select direction character vector direction text path In addition set alignment text string relation start coordinate position Marker symbols displayed using selected characters various sizes colors Graphics packages devised handle unbundled bundled attribute specifications Unbundled attributes defined one type output device Bundled attribute specifications allow different sets attributes used different devices accessed index num ber bundle table Bundle tables may installation defined user defined Functions set bundle table values specify workstation type attribute list given attribute index To determine current settings attributes parameters invoke inquiry functions In addition retrieving color attribute infor mation obtain workstation codes status values inquiry func tions Because scan conversion digitizing process raster systems displayed primitives jagged appearance This due undersampling infor mation rounds coordinate values pixel positions We improve appearance raster primitives applying antialiasing procedures adjust pixel intensities One method supersample That con sider pixel composed subpixels calculate intensity Polygons one boundary line passing individual pixel regions Chapter Attributes Output Primitives subpixels average values subpixels Alternatively perform area sampling determine percentage area coverage screen pixel set pixel intensity proportional percentage We also weight subpixel contributions according fo position giving higher weights central subpixels Another method antialiasing build special hardware configurations shift pixel positions Table lists attributes discussed chapter output primi tive classifications line fill area text marker The attribute functions used graphics packages listed category TABLE SUMMARY OF ATTRIBUTES Output Bundled Primitive Associated Attribute Setting Attribute Type Attributes Functions Functions Line Type setLinetype setFolylineIndex Width setLineWidthScaleFactor setPolylineRepresentation Color setPolylineColourIndex Fiil Area Fill Style setInteriorStyle setInteriorIndex Fill Color setInteriorColorIndex setInteriorRepresentation Pattern setInteriorStyleIndex setPatternRepresentation setPatternSize setPatternReferencePoint Text Font setTextFont setText Index Color setTextColourIndex setTextRepresentation Size setCharacterHeight setCharacterExpansionFactor Orientation setCharacterUpVector setText Path setTextAlignment Marker Type setMarkerType set PolymarkerIndex Size setMarkerSizeScaleFactor set PolymarkerRepresentation Color set PolymarkerColour Index REFERENCES Calor grayscale considerations discussed Crow Heckbert Soft fill techniques given Fishkin Barsky Antialiasing techniques discussed Pitteway Watkinson Crow Turkowski Korein Badler Kirk Avro Schilling Wu Attribute functions PHIGS discussed Howard et al Hopgood Duce Gaskins Blake For information GKS workstations attrib utes see Hapgood et al Enderle Kansy Pfaff EXERCISES Implement line type function modifying Bresenham line drawing algorithm display either solid dashed dotted lines 18 20 21 Implemeni line type function midporn line algcrithm display either solid dashed dotted lines Devise parallel method implementing line type function Devise parallel method implementing line width function A tine specified two endpoints width converted rectangular poly gon four vertices displayed using scan line method Develop effi cient algorithm computing four vertices needed define rectangle using line endpoints line width Implement line width function line drawing arogram one three line widths displayed Write program output line graph three data sets defined x coor dinate range Input program include three sets data values labeling axes coordinates display area screen The data sets scaled iit specified area plotted line displayed differert line type solid dashed dotted axes labeled Instead changing line type three data sets piotted different colors Set algorithm displaying thick tines either butt caps round caps oF pro jecting square caps These options provided option menu Devise algorithm displaying thick polylines either miter join round join bevel join These options provided option menu Implement pen brush menu options line drawing procedure including leasi two options round square shapes Madity line drawing algorithm intensity ourput line set according slope That adjusting pixel intensities according value slope Ines displayed intensity per unit length Define tmplement function controlling line type tsolid dashed dotted displayed ellipses Define implement function setting width displayed ellipses Write routine display bar graph anv spec fied screen area Input include data set labeling coordinate axes ths coordinates screen area The data set scaled fit designated screen area bars dis played designated colors patterns Write procedure display two data sets defined cver x coordinate range data values scaled ft specified region display screen The bars one data sets displaced horizontally produce overlapping bar pattern foc easy Comparison two sets data iJse different color different fill pattern two sets bars Devise algorithm implementing color lookup table set ColourRep resentation operation Suppose system inch inch video screen display pixels per inch If cclor lookup table positions used system smallest possible size bytes frame buffer Consider RGB raster system frame buffer bits per pixel color lookup table bits per pixe How many distinct gray lev els displayed system b How many distinct colors including gray levels displayed c How many colors cai displayed one time What total memory size e Explain two methods reducing memory size maintain ng color capabilities Modify scan line algorithm apply specified rectangular fill pattern poly gon interior starting designated pattern position Write procedure fill interior given ellipse specified pattern Write procedure implement set Pat terrRepresentat ion function Exercises Chapler Atuributes Output Primitives 22 23 24 27 28 23 32 33 34 35 Define implement procedure changing size existing rectangular till pattern Write procedure implement soft fill algorithm Carefully define soft fill algorithm accomplish colors combined Devise algorithm adjusting height width haracters defined rectan gular grid patterns Implement routines setting character vector text path controlling display character strings Write program align text specified input values alignment parame ters Develop procedures jor implementing marker attribute functions Compare attribute implementation procedures needed systems employ bun dled attributes needed systems using unbundicd attributes Develop procedures storing accessing attributes unbundled system attribute tables The procedures designed store designated attribute values system tables pass attributes appropriate output routines pass attrrb utes memory locations specified inquiry Commands Set procedures described previous exercise bundled system tribute tables Implement antialiasing procedure extending Bresenham line algorithm ad pixel intensities vicinity line path Implement antialiasing procedure far midpoint line algorithm Develop algorithm antialiasing elliptical boundaries Modify scan line algorithm area fill ta incorporate antialiasing Use coherence techniques reduce calculations successive scan lines Write program implement Pitteway Watkinson artialiasing algorithm scan line procedure fill polygon interior Use routine setPixel x intensity load intensity value frame buffer location x CHAPTER Two Dimensional Geometric Transformations Final Position ew rf ra ee W ith procedures displaying output primitives attributes create variety pictures graphs In many applications also need altering manipulating displays Design applications facility layouts created arranging orientations sizes component parts scene And animations produced moving camera objects scene along animation paths Changes orientation size shape accomplished geometric transformations alter coordinate descriptions objects The basic geometric transformations trans lation rotation scaling Other transformations often applied ob jects include reflection shear We first discuss methods performing geo metric transformations consider transformation functions incorporated graphics packages Here first discuss general procedures applying translation rotation scaling parameters reposition resize two dimensional objects Then Section consider transformation equations expressed convenient matrix formulation allows efficient combination object transformations Translation A translation applied object repositioning aiong straight line path one coordinate location another We translate two dimensional point adding translation distances original coordinate position x move point new position x xo axtt v ytt The translation distance pair called translation vector shift vector We express translation equations single matrix equation using column vectors tc represent coordinate positions translation vec tor p p et T xX Xx ty This allows us write two dimensional translation equations matrix form P P T Sometimes matrix transformation equations expressed terms coordinate row vectors instead column vectors In case would write matrix representations P x T Since column vector representa tion point standard mathematical notation since many graphics packages example GKS PHIGS also use column vector representa tion follow convention Translation rigid body transformation inoves objects without defor mation That every point object translated amount A straight line segment translated applying transformation equation line endpoints redrawing line new endpoint po sitions Polygons translated adding translation vector coordinate position vertex regenerating polygon using new set vertex coordinates current attribute settings illustrates applica tion specified translation vector move object one position Similar methods used translate curved objects To change position circle ellipse translate center coordinates redraw figure new location We translate curves example splines displacing coordinate positions defining objects reconstruct curve paths using translated coordinate points Ve yo att H H Moving polygon position 10 20 position b translation ib vector 50 75 Translating point position P position P translation vector T Rotation object angle pivot point x Rotation point position x position x angle telative coordinate origin The original angular displacement point x axis Rotation A two dimensional rotation applied object repositioning along cir cular path xy plane To generate rotation specify rotation angle position x rotation point pivot point ob ject rotated Positive values rotation angle define coun terclockwise rotations pivot point negative values rotate objects clockwise direction This transformation alsa de scribed rotation rotation axis perpendicular xy plane passes pivot point We first determine transformation equations rotation point posi tion P pivot point coordinate origin The angular coordi nate relationships original transformed point positions shown In figure r constant distance point origin angle original angular position point horizontal ro tation angle Using standard trigonometric identities express trans formed coordinates terms angles x rcos rcos cos rsindsin rsin rcos sin rsin dos The original coordinates point polar coordinates x rcos versing Substituting expressions obtain transformation equations rotating point position x angle origin x xcos ysin xsind ycos With column vector representations coordinate positions write rotation equations matrix form P R P rotation matrix cos sin sin cos When coordinate positions represented row vectors instead af col umn vectors matrix product rotation equation transposed go transformed row coordinate vector x calculated PT R P T pr R P x transpose R matrix R obtained interchanging rows columns For rotation matrix transpose obtained simply changing sign sine terms Rotation point arbitrary pivot position illustrated Using trigonometric relationships figure generalize Eqs obtain transformation equations rotation point specified ro tation position x x x v x cos sin wiry G v sin yy cos These general rotation equations differ Eqs inclusion additive terms well multiplicative factors coordinate values Thus matrix expression could modified include pivot coordinates matrix addition column vector whose elements contain additive translational terms Eqs There better ways however formulate matrix equa tions discuss Section consistent scheme representing transformation equations As translations rotations rigid body transformations move objects without deformation Every point object rotated angle A straight line segment rotated applying rotation equations line endpuints redrawing line new end point positions Polygons rotated displacing vertex speci fied rotation angle regenerating polygon using new vertices Curved lines rotated repositioning defining points redrawing curves A circle cllipse instance rotated noncentral axis mov ing center position subtenas specified rotation angle An ellipse rotated center coordinates rotating major minor axes Sealing A scaling transformation alters size object This operation car ried polygons multiplying coordinate values x vertex scaling factors produce transformed coordinates x NOS xX S yorysy 10 Scaling factor scales objects x direction scales direction The transformation equations 10 also written matrix form iy e 11 P S P 12 S scaling matrix Eq 11 Any positive numeric values assigned scaling factors Values less reduce size objects values greater produce en largement Specifying value leaves size objects un changed When assigned value uniform scaling pro Section Basic Transformations S igure Rotating point position x position ix angle rotation point x Chapter Two Dimensional Geometric Transformations b Turning square rectangle b scaling factors 2ands A line scaled Eq 12 using reduced size moved closer coordinate ongin Pp Scaling relative chosen fixed point Distances polygon vertex fixed point scaled transformation equations 13 duced maintains relative object proportions Unequai values sult differential scaling often used design applications pic tures constructed fram basic shapes adjusted scaling positioning transformetions Objects transformed Eq 11 scaled repositioned Scaling factors values less move objects closer ta coordinate origin values greater move coordinate positions farther origin Figure illustrates scaling line assigning value toa sy Eq 11 Both line length distance origin reduced factor We control location scaled object choosing position called fixed point remain unchanged scaling transformation Co ordinates fixed point x chosen one vertices object centroid position A polygon scaled relative fixed point scaling distance vertex fixed point For ver tex coordinates x scaled coordinates x calculated xi say x xpsy yy ly ups 13 We rewrite scaling transformations separate multiplicative additive terms xo x a1 14 yo yes yl sy additive terms x constant points object including coordinates fixed point scaliny equations similar including coordinates pivot point rotation equations We set column vector whose elements constant terms Eqs 14 add column vector product S P Eq 12 In next section discuss matrix formulation transformation equations involves matrix multiplication Polygons scaled applying transformations 14 vertex regenerating polygon using transformed vertices Other objects scaled applying scaling transformation equations parameters defin ing objects An ellipse standard position resized scaling semima jor semiminor axes redrawing ellipse designated center co ordinates Uniform scaling circle done simply adjusting radius Then redisplay circle center coordinates using transformed radius COORDINATES Many graphics applications involve sequences geometric transformations An animation example might require object translated rotated increment motion In design picture construction applications perform translations rotations scalings fit picture components proper posihons Here consider matrix representations dis cussed previous sections reformulated transformation sequences efficiently processed We seen Section basic transformations ex pressed general matrix form P M P M 15 coordinate positions P P represented column vectors Matrix M isa array containing multiplicative factors M two element column Matrix containing translational terms For translation Mj identity matrix For rotation scaling M contains translational terms associated pivot point sealing fixed point To produce sequence transformations equations scaling followed rotation translation must calculate transformed coordinates one step time First coordinate posi tions scaled scaled coordinates rotated finally rotated coordinates translated A efficient approach would combine transformations final coordinate positions obtained directly initial coordinates thereby eliminating calculation intermediate coordi nate values To able need reformulate Eq 15 eliminate matrix addition associated translation terms Mp We combine multiplicative translational terms two dimen sional geometric transformations sing e matrix representation expand ing matrix representations matrices This allows us express transformation equations matrix multiplications providing also ex pand matrix representations coordinate positions To express two di mensional transformation matrix multiplication represent Cartesian coordinate position Gr homogeneous coordinate triple x yy fi yooh ya hus gencral homogeneous coordinate representation also written h x Ay h For two dimensional geometric transformations choose ho mogeneous parameter h nonzero value Thus infinite num ber equivalent homogeneous representations coordinate point x A convenient choice simply set h Each two dimensional position represented homogeneous coordinates x Other values parameter needed example matrix formulations three dimensioral viewing transformations The term omogeneous courdmatrs used mathematics refer ef tect representation Cartesian equations When Cartesian point x converted homogeneous representation x yy equations containing x ffx become homogeneous equations three parame lers x h This means three parameters replaced value v times parameter value factored equa tions Expressing positions homogeneous coordinates allows us represent geometric transformation equations matrix multiplications Coordinates Section Matrix Representations 4omageneous Coordinates Chapter Two Dimensional Geometric Transformations represented three element column vectors transformation operations written matrices For translation x f x yypaTo 17 00 write abbreviated form P TCt P 18 T translation matrix Eq 17 The inverse trans lation matrix obtained replacing translation parameters negatives Similarly rotation transformation equations coordinate origin written x cos sind x J sing cos Of 19 1yqi P R P 20 The rotation transformation operator R 1s matrix Eq 19 rotation parameter We get inverse rotation matrix replaced Finally scaling transformation relative coordinate ongin ex pressed matrix multiplication x 90 yi O O 21 oc P Sis P 22 S matrix Eq 21 parameters Replac ing parameters multiplicative inverses yields inverse scaling matrix Matrix representations slandard methods implementing transforma tions graphics systems In many systems rotation scaling functions pro duce transformations respect coordinate origin Eqs 19 21 Rotations scalings relative reference positions handled succession transformation operations An alternate approach graphics package provide parameters transformation functions scaling fixed point coordinates pivot point coordinates General rotation scaling matrices include pivot fixed point set directly without need invoke succession transformation functions With matrix representations previous section set matrix sequence transformations composite transformation matrix calculating matrix product individual transformations Forming prod ucts transformation matrices often referred concatenation compo sition matrices For column matrix representation coordinate positions form composite transformations multiplying matrices order right left That successive transformation matrix premultiplies product preceding transformation matrices Translations If two successive translation vectors f ty applied coordi nate position P final transformed location P calculated Phe Tila ta ATC ty PI AT ty ta Tay tat P P P represented homogeneous coordinate column vectors We verify resuJt calculating matrix product two associative groupings Also composite transformation matrix sequence trans lations te ty 00 ty te ty Of ty f fO tatty C0 OT T x ty Tet fed Thy te fi fy 25 demonstrates two successive translations additive Rotations Two successive rotations applied point P produce transformed position P R R P R ROBE P 20 By multiplying two rotation matrices verify two successive rota tions additive R A R G RCA ey 275 final rotated coordinates calculated composite rotation matrix P R P 28 Section Composite Transformations Chapter Two Dimensional Geometric Transformations x Scalings Concatenating transformation matrices two successive scaling operations pro duces following composite scaling matrix s2 O Sx Sx sg Of sy O Sy Sp 29 ee S2 Sy2 Sey Sp S Sx1 Sens Sy1 Sya 30 The resulting matrix case indicates successive scaling operations multiplicative That triple size object twice succes sion fina size would nine times original General Pivot Point Rotation With graphics package provides rotate function revolving objects coordinate origin generate rotations selected pivot point x performing following sequence translate rotate translate operations Translate object pivot point position moved coordi nate origin Rotate object coordinate origin Translate object pivot point returned original posi tion This transformation sequence illustrated The composite transforma ate Yel fb c id Original Powinwn Tranelateon Rotaton Transition Object Object Object Pivot Point Pivot Point Origin Pivot Point Ox b ts Retumed Origin Position x A transformation sequence rotating object specified pivot point using rotation matrix R transformation 19 tion matrix tlus sequence obtained concatenation Section Composite Transformations x cos sin 0O x yy sine cos OFF CO 90 1 06 l cosf sin x1 cos sin sind cos vil cos x sin 3h expressed form Tix uy RCO T x RG 32 T x T x In general rotate function set ac cept parameters pivot point coordinates well rotation angle generate automatically rotation matrix Eq 31 General Fixed Point Scaling illustrates transformation sequence tc produce scaling respect ta selected fixed position using scaling function scale rela ive coordinate origin Translate object fixed point coincides coordinate origin Seale object respect coordinate origin Use inverse translation step return object original posi tion Concatenating matrices three operations produces required scal ing matrix x O x O x ool Sy Q Y Sy yl sy 331 1 oc 1 Thy p Sls Tx Yy SC Up Sy This transiormation automatically generated systems provide scale function accepts coordinates fixed point General Scaling Directions Parameters scale objects along x directions We scale ob ject directions rotating object align desired scaling direc tions coordinate axes applying scaling transformation Suppose want apply scaling factors values specified parame ters directions shown Ta accomplish scaling ix vy tat ibe 1c ids Ongmal Poston Transiate Object Scale Object Translate Object Object Fixed Point Respect thot Fixed Point Fixed Point x te Origin Origin ta Returned Pasition x A transformation sequence scaling object respect specified fixed position using scaling matrix S transformation 21 Scaling parameters applied orthogonal directions defined angular displacement changing orientation object first perform rotation directions coincide x axes respectively Then scal ing transformation applied followed opposite rotation return points original orientations The composite matrix resulting product three transformations R S RCA cos sin cos 6sin Ss cos sin sin cos 35 As example scaling transformation turn unit square parallelogram stretching along diagonal D We rotate diagonal onto axis double length transforma tion parameters In Eq 35 assumed scaling performed relative ori gin We could take scaling operation one step concatenate matrix translation operators composite matrix would include parameters specification scaling fixed position Concatenation Properties Matrix multiplication associative For three matrices A B C trix product A B C performed first multiplying A B first multiplying B C A B C A B C A B 36 Therefore evaluate matrix products using either left right right left associative grouping On hand transformation products may commutative The matrix product A B equal B A general This means want Wu e ool fal tbl A square converted parallelogram b using composite transformation matrix 35 translate rotate object must careful order composite matrix evaluated For special cases se quence transformations kind multiplication transforma tion matrices commutative As example two successive rotations could performed either order final position would This commu tative property holds also two successive translations two successive scal ings Another commutative pair operations rotation uniform scaling General Composite Transformations Computational Efficiency A general two dimensional transformation representing combination trans lations rotations scalings expressed x 1S TSyy ETS x T nn Sy ts 37 1 The four elements rs multiplicative rotation scaling terms transfor mation involve rotation angles scaling factors Elements frs irs translational terms containing combinations translation distances pivot point fixed point coordinates rotation angles scaling parame ters For example object scaled rotated centroid coordi nates x translated values elements composite transformation matrix Tey fy ROC Yor SOG Yer Ser Sy cos6 sin x cos ys sin sin sycos cos x sin O ty 38 Although matrix equation 37 requires nine multiplications six addi tions explicit calculations transformed coordinates Section Composite Transformations Chapter Two Dimensional Geometric Transformations cA Se v Final Final Position Position oN oN res cy oo poet tii4 eee b Reversing order sequence transformations 1s performed may affect transformed position object In object first translated rotated In b object rctated first translated XS XS AW PS yt ETSY YoFXy TY TS Ersy iS Thus actually need perform four multiplications four additions transform coordinate positions This maximum uumber computations required transformation sequence individual matrices concatenated elements composite matrix evaluated Without concatenation indiv dual transformations would applied one time number calculations could significantly increased An efficent im plementation transformation operations therefore tv formulate trans formation matrices concatenate transformation sequence calculate transformed coordinates using Eq 39 On parallel systems direct matrix multr plications w th composite transformation matrix Ec 37 equally ef ficient A general rigid body transformation matrix involving translations rotations expressed form Pe Vy ir 4EN aly thy Oo four elements r multiplicative rotation terms elements tr tr translational terms A rigid body change coordinate position also sometimes referred rigid motion transformation All angles dis tances coordinate positions unchanged transformation In ad dition matrix 40 property upper left bv submatrix thogonal matrix This means consider row submatrix vector two vectors ry form orthogonal set unit vectors Each vector unit length Boa pk pk ra try eri tea u Hy te vectors perpendicular dot product Kalyx Taylry G Therefore unit vectors transformed rotation submatrix r Psy converted unit vector along x axis r ry transformed unit vector along axis coordinate system Te Ty Nyy Ty ty Of try 43 1 hy Ty Ty yz tw Ol ry Pall 44 1 As example following rigid body transformation first rotates object angle pivot point x translates T Rex cos sin x cos sin ty sin cos cos6 x sin ty 45 Here orthogonal unit vectors upper left submatrix cos sin sin cos cos sin cos sin cos O sn 46 1 Similarly unit vector sin cos converted transformation matrix Eq 46 unit vector direction The orthogonal property rotation matrices useful constructing ro tation matrix know final orientation object rather amount angular rotation necessary put object position Direc tions desired orientation object could determined align ment certain objects scene selected positions scene shows object aligned unit direction vectors u v As suming original object orientation shown aligned coordinate axes construct desired transformation assigning elements u first row rotation matrix elements v second row This convenient method obtaining transforma tion matrix rotation within local object coordinate system know final orientation vectors A similar transformation conversion object descriptions one coordinate system another Section consider set transformations accomplish coordinate conversion Since rotation calculations require trignometric evaluations several multiplications transformed point computational efficiency become important consideration rotation transformations In animations applications involve many repeated transformations small rotation gles use approximations iterative calculations reduce computa Section Composite Transformations Chapter Two Dimensional Geometric Transformations The rotation matrix revolving object position ta position b constructed values cf unit orientation vectors u v relative original orientation tions composite transformation equations When rotation angle small trigonometric functions replaced approximation values based first terms power series expansions For small enough angles less cos approximately sin value close value radians f rotating small angular steps ori gin instance set cos reduce transformation calculations step two multiplications two additions set coordinates rotated xo x ysing xsin 47 sin evaluated steps assuming rotation angle nat change The error introduced approximation step decreases rotation angle decreases But even small rotation angles accumulated error many steps become quite large We control accumulated error estimating error x step resetting object posi tions error accumulation becomes great Composite transformations often involve inverse matrix calculations Trans formation sequences general scaling directions reflections shears Section example described inverse rotation components As noted inverse matrix representations basic geometric frans formations generated simple procedures An inverse translation trix obtained changing signs translation distances inverse rotation matrix obtained performing matrix transpose changing sign sine terms These operations much simpler direct inverse matrix calculations An implementation composite transformations given following procedure Matrix M initialized identity matrix As individual transformation specified concatenated total transformation trix M When transformations specified composite transforma tion applied given object For example polygon scaled rotated given reference point Then object translated shows original final positions polygon transformed sequence Section Composite Transformations 100 200 x 100 200 x oj polygon transformed b composite operations following procedure include math h include graphics h typedef float Matrix3x3 Matrix3x3 theMatrix void matrix3x3SetIdentity Matrix3x3 int j J j il j Gi Multiplies matrix times b putting result b void matrix3x3PreMultiply Matrix3x3 Matrix3x3 b int r c Matrix3x3 tmp ry r r c c c Ht tmp r ic afr O bl O c afr bll fic alr bl2 fel r x r c c b rife tmp r cl void translate2 int tx int ty Matrix3x3 matrix3x3Settdentity Oj tx mf1 ty Matrix3x3PreMultiply theMatrix void scale2 loat sx oat sy wePt refpt Matrix3x3 matrix3x3SecIdentity O sx O sx refpt x l sy sy refpt Matrix3x3PreMultiply theMatrix void rotate2 float wcePt2 refPr Matrix3x3 matrix3x3SetIdentity pToRadians Q O01 cosf sint refPpt x cosf refPt sinf sinf cost z refpt cosf refPt x sinf Matrix3x3PreMu tiply theMatrix void transfurmPoints2 int npts wePt2 pts int k float tmp k k npts k tmp cthoeMatrix pts k x theMatrix pts k theMatrix prs k theMatrix pts x x theMatrix pts k UheMatrix pts k x tmp void main int arge char argv C wePt2 pts wePt2 refPt long windowIN openGraphics azgv setBacxground WHITE setColor BLUE pFillArea pts Matrix3x3SetIidentity theMatrix scalez refPt rotate2 refPt translate2 transformPoints2 pts pFillaArea pts sleep CloseGraphics windowID Basic transformations translation rotation scaling included graphics packages Some packages provide additional transforma tions useful certain applications Two transformations reflec tion shear Reflection A reflection transformation produces mirror image object The mirror image two dimensional reflection generated relative axis reflection rotating object reflection axis We choose axis reflection xy plane perpendicular xy plane When flection axis line xy plane rotation path axis plane perpendicular xy plane For reflection axes perpendicular xy plane rotation path xy plane Following examples com mon reflections Reflection line x axis accomplished transfor mation matrix 0 48 This transformation keeps x values flips values coordi nate positions The resulting orientation object reflected x axis shown To envision rotation transformation path reflection think flat object moving xy plane rotating three dimensional space x axis back xy plane side x axis A reflection axis flips x coordinates keeping coordinates The matrix transformation 01 49 illustrates change position object reflected line x The equivalent rotation case three di mensional space axis We flip x coordinates point reflecting relative axis perpendicular xy plane passes coordinate origin This transformation referred reflection relative coordinate origin matrix representation 50 Section Other Transformations Original Position Reflected Position Reflection object x axis Original Reflected Position Pasition Py Reflection object axis Reflected Position v ed x XN Md Original Position Reflection object relative axis perpendicular ry plane passing coordinate origin Original Position ro PY Sea Reflected Pos tion f Reflection object respect line x Pra aa ween eee o71 JZ Ve e ee Xap x Reflection object relative axis perpendicular xy plane passing point P An example reflection origin shown The reflection trix 50 rotation matrix R We simply rotating ob ject ry plane half revolution origin Reflection 50 generalized reflection point xy plane This reflection rotation xy plane using reflection point pivot point If chase reflection axis diagonal line x flection matrix ors eou oO ey We derive matrix concatenating sequence rotation coordi nate axis reflection matrices One possible sequence shown Here first perform clockwise rotation angle rotates line x onto x axis Next perform reflection respect x axis The final step rotate line x back original position counter clockwise rotation An equivalent sequence transformations first reflect object x axis rotate counterclockwise To obtain transformation matrix reflection diagonal x could concatenate matrices transformation sequence clockwise ro tation reflection axis counterclockwise rotation The resulting transformation matrix Qo 0 32 shows original final positions object transformed Section reflection matrix Other Transformations Reflections line mx xy plane accomplished combination translate rotate reflect transformations In general first translate line passes origin Then rotate line ne onto one coordinate axes reflect axis Finally restore line original position inverse rotation translation transforma tions We implement reflections respect coordinate axes coordi nate origin scaling transformations negative scaling factors Also ele ments reflection matrix set values Values whose magnitudes greater shift mirror image farther reflection fa axis values magnitudes less bring mirror image closer reflection axis Shear I A transformation distorts shape object transformed __ shape appears object composed internal layers caused slide called shear Two common shearing transfor Gg mations shift coordinate x values shift values An x direction shear relative x axis produced transforma tion matrix 10 53 ov transforms coordinate positions x x sh yay 54 c Any real number assigned shear parameter sh A coordinate posi poe tion x shifted horizontally amount proportional distance Sequence transformations value x axis Setting sh example changes square produce reflection parallelogram Negative values sh shift coordinate positions line x cleckwise left rotation b reflection We generate x direction shears relative reference lines x axisrand c counterclockwise rotation sh Shy Yet 55 60 coordinate positions transformed x x SHY Yres yoy 56 An example shearing transformation given shear para meter value relative line Reflected Position Original Position Reflection respect line x bd OF A unit square converted parallelogram b using x direction shear matrix 53 sh A direction shear relative line x formation matrix Xi generated trans sh shy Xyep 57 generates transformed coordinate positions wos x yl sh kx Xe 58 This transformation shifts coordinate position vertically amount propor tional distance reference line x x illustrates conversion square parallelogram sh x Shearing operations expressed sequences basic transformations The x direction shear matrix 53 example written composite transformation involving series rotation scaling matrices would scale unit square along diagonal maintaining origi nal lengths orientations edges parallel x axis Shifts positions objects relative shearing reference lines equivalent translations D Yar Yer b A unit square transformed toa shifted parallelogram b sh q 1in shear matrix 55 a1 xy x Ng ea x b A unit square turned shifted parallelogram b parameter values sh x direction using shearing transformation 57 Graphics applications often require transformation object descriptions one coordinate system another Sometimes objects described non Cartesian reference frames take advantage object symmetries Coordinate descriptions systems must converted Cartesian device coordi nates display Some examples two dimensional non Cartesian systems polar coordinates elliptical coordinates parabolic coordinates In cases need transform two Cartesian systems For modeling design applications individual objects may defined local Carte sian references local coordinates must transformed position objects within overall scene coordinate system A facility management program tor office layouts instance individual coordinate reference de scriptions chairs tables furniture placed floor plan multiple copies chairs iterns different positions In applications may simply want reorient coordinate reference displaying scene Relationships Cartesian reference systems eSmmon non Cartesian systems given Appendix A Here consider transformations two Cartesian frames reference shows two Cartesian systems coordinate origins xo yo orientation angle x x axes To trans form object descriptions xy coordinates x coordinates need set transformation superimposes x axes onto xy axes This done two steps Translate origin p yg x system moved origin xy system Rotate x axis onto x axis Translation coordinate origin expressed matrix operation QO X T Yo 59 061 Section Transformations Coordinate Systems Chapter Two Dimensional Geometric Transformations A Cartesian x system positioned xp yp orientation xy Cartesian system orientation two systems translation operation would ap pear To get axes two systems coincidence perform clockwise rotation cos sin R sin cos 60 Concatinating two transformations matrices gives us complete compos ite matrix transforming object descriptions ry system x sys tem Myyry R T Xo Yo 61 An alternate method giving orientation second coordinate sys tem specify vector V indicates direction positive axis shown Vector V specified point xy reference frame rela tive origin xy system A unit vector direction obtained al v Uy en A Ny And obtain unit vector u along x axis rotating v clockwise u yy v u My 63 Position reference frames shown translating origin x system coordinate origin xy system x axis Cartesian system x origin Py xa Yo axis parallel vector V In Section noted elements rotation matrix could ex pressed elements set orthogonal unit vectors Therefore matrix rotate xy system coincidence xy system written uy uy O R vy 64 As example suppose choose orientation axis V x axis positive direction rotation transformation trix oro oo Equivalently obtain rotation matrix 60 setting orienta tion angle In interactive application may convenient choose direc tion V relative position Py specifv relative ry coordi nate origin Unit vectors u v would oriented shown The components v calculated Pi Po v lp Pol 65 u obtained perpendicular v forms right handed Cartesian system axis A Cartesian x system defined two coordinate positions Py P within sy reference frame Section Transformations Coordinate Systems Chapter Two Dimensional Geometric Transformations A coordinate transformation form x ax ayy b ay x ayy 66 called two dimensional affine transformation Each transformed coor dinates x linear function original coordinates x para meters constants determined transformation type Affine transformations general properties parallel lines transformed parallel lines finite points map finite points Translation rotation scaling reflection shear examples two di mensional affine transformations Any general two dimensional affine transfor mation always expressed composition five transformations Another affine transformation conversion coordinate descriptions one reference system another described combination translation rotation An affine transformation involving rotation trans lation reflection preserves angles lengths well parallel lines For three transformations lengths angle two lines remains transformation Graphics packages structured separate commands provided user basic transformation operations procedure trans formObject A composite transformation set referencing individ ual functions order required transformation sequence An alternate formulation provide users single transformation function cludes parameters basic transformations The output func tion composite transformation matrix specified parameter values Both options useful Separate functions convenient simple transforma tion operations composite function provide expedient method specifying complex transformatian sequences The PHIGS library provides users options Individual commands generating basic transformation matrices translate trans ateVector matrixTrans ate rotate theta matrixRotate scale scaleVector matrixScale Hach functions produces transformation matrix used transform coordinate positions expressed homogeneous column vec tors Parameter translateVector pointer pair translation dis tances Similarly parameter scaleVector specifies pair scaling values Rotate scale matrices matrixTranslate matrix Scale transform respect coordinate origin We concatenate transformation matrices previously set function composeMatrix matrix2 matrixl matrixOut elements composite output matrix calculated postmultiply ing matrix2 matrix A composite transformation matrix perform com bination scaling rotation translation produced function buildfransformationMatrix referencePoint translateVector theta scaleVector matrix Rotation scaling carried respect coordinate position speci fied parameter referencePoint The order transformation sequence assumed scale rotate translate elements composite transformation stored parameter matrix We use function generate single transformation matrix composite matrix two three transformations order stated We could generate translation matrix setting scaleVector theta assigning x shift values parameter translatevector Any coordinate values could assigned pa rameter referencePoint since transformation calculations unaffected parameter scaling rotation takes place But want set translation matrix use function translate simply specify translation vector A rotation scaling transformation matrix specified setting translatevector assigning appropriate values parame ters referencePoint theta scaleVector To obtain rotation matrix set scalevector scaling set theta If want rotate scale respect coordinate origin simpler set matrix using either rotate scale function Since function buildTransformationMatrix always generates transformation sequence order scale rotate translate fol lowing function provided allow specification sequences composeTransformationMatrix matrixIn referencePoint translateVector theta scaleVector matrixOut We use function combination buildTransformationMa trix function matrix construction functions compose transformation sequence For example could set scale matrix fixed point bui ldTransformat ionMatrix function could use composeTransformationMatrix function concatenate scale matrix rotation specified pivot point The composite rotate scale sequence stored matrixOut After set transformation matrix apply matrix individual coordinate positions object function transformPoint inPoint matrix outPoint parameter inPoint gives initial xy coordinate position object point parameter Point contains corresponding transformed coordi nates Additional functions discussed Chapter available performing two dimensional modeling transformations Section Transformation Functions Chapter Two Dimensional Geometric Transformations Translating object screen position position b moving rectangular block pixel values Coordinate positions P P specify limits rectangular block moved P destination reference posiion The particular capabilities raster systems suggest alternate method transforming objects Raster systems store picture information pixel patterns frame buffer Therefore simple transformations carried rapidly simply moving rectangular arrays stored pixel values one lo cation another within frame buffer Few arithmetic operations needed pixel transformations particularly efficient Raster functions manipulate rectangular pixel arrays generally ferred raster ops Moving block pixels one location another also called block transfer pixel values On bilevel svstem operation called bitBlt bit block transfer particularly function hardware implemented The term pixBit sometimes used block transfers multi level systems multiple bits per pixel illustrates translation performed block transfer raster area All bit settings rectangular area shown copied block part raster We accomplish translation bv first reading pixel tensities specified rectangular area raster array copy array back raster new location The original object could erased filling rectangular area background intensity assuming object overlap objects scene Typical raster functions often provided graphics packages copy movea pixel block one raster area another read save pixel block designated array write transfer pixel array position frame buffer Some implementations provide options combining pixel values In replace made pixel values simply transfered destination positions Other op tions combining pixel values include Boolean operations aid exclte sive binary arithmetic operations With exclusive mode two succes sive copies block raster area restores values originally present area This technique used move object across scene without destroying background Another option adjusting pixel values combine source pixels specified mask This allows selected positions within block transferred shaded patterns defined mask 12014 3 93 7 6 1 10 b c Rotating array pixel values The original array orientation 1s shown array orientation counterclockwise rotation shown b array orientation rotation shown __ Destination Rotated Pixel Areas Pixel Array Destination Pixel Array A raster rotation rectangular block pixels accomplished mapping destination pixel areas onto rotated block Rotations degree increments easily accomplished black trans fers We rotate object counterclockwise first reversing pixel val ues row array interchange rows columns A rota tion obtained reversing order elements row array reversing order rows demonstrates array manipu lations necessary rotate pixel block For array rotations multiples must perform computations The general procedure illustrated Each destination pixel area mapped onto rotated array amount overlap rotated pixel areas calculated An intensity destination pixel computed averaging intensities overlapped source pixels weighted percentage area overlap Raster scaling block pixels analogous cell array mapping discussed Section 13 We scale pixel areas original block using specified values map scaled rectangle onto set destina tion pixels The intensity destination pixel assigned according area overlap scaled pixel areas POTEET I Ty 1 b 4___ Destination Pixel Array b JU 74 bbb trot ETT I Scaled Array eta I x Mapping destination pixel areas onto scaled array pixel values Scaling factors applied relative fixed point x Section Raster Methods Transformations Chapter Two Dimensional Geometric Transformations SUMMARY The basic geometric transformations translation rotation scaling Trans lation moves object straight line path one position another Rota tion moves object one position another circular path around specified pivot paint ratation point Scaling changes dimensions object relative toa specified fixed point We express two dimensional geometric transformations trix operators sequences transformations concatenated single composite matrix This efficient formulation since allows us duce computations applying composite matrix initial coordinate po sitions object obtain final transformed positions To also need express two dimensional coordinate positions three element column row matrices We choose column matrix representation coordinate points standard mathematical convention many graph ics packages also follow convention For two dimensional transformations coordinate positions represented three element nomogeneous coor dinates third homogeneous coordinate assigned value Composite transformations formed multiplications combina tion translation rotation scaling matrices We use combinations translation rotation animation applications use combinations rotation scaling scale objects specified direction In general trix multiplications commutative We obtain different results exam ple change order translate rotate sequence A transformation se quence involving translations rotations rigid body transformation since angles distances unchanged Also upper left submatrix rigid body transformation orthogonal matrix Thus rotation matrices formed setting upper left submatrix equal elements two orthogonal unit vectors Computations rotationg transformations duced using approximations sine cosine functions rata tion angle small Over many rotational steps however approximation error accumulate significant value Other transformations include reflections shears Reflections trans formations rotate object reflection axis This produces mir ror image object respect axis When reflection axis per pendicular xy plane reflection obtained rotation xy plane When reflection axis xy plane reflection obtained rotation ina plane perpendicular xy plane Shear transformations distort shape object shifting x coordinate values amount proportional coordinate distance shear reference line Transformations Cartesian coordinate systems accomplished sequence translate rotate transformations One way specify new co ordinate reference frame give position new coordinate origin direction new axis The direction new x axis obtained rotating direction vector clockwise Coordinate descriptions objects old reference frame transferred new reference transforma tion matrix superimposes new coordinate axes onto old coordinate axes This transformation matrix calculated concatentation translation moves new origin old coordinate origin rotation align two sets axes The rotation matrix obtained unit vectors x directions new system Two dimensional geometric transformations affine transformations That expressed linear function coordinates x Affine transformations transform parallel lines parallel lines transform finite points finite points Geometric transformations involve scaling shear also preserve angles lengths Transformation functions graphics packages usually provided translation rotation scaling These functions include individual proce dures creating translate rotate scale matrix functions generating composite matrix given parameters transformation sequence Fast raster transformations performed moving blocks pixels This avoids calculating transformed coordinates object applying scan conversion routines display object new position Three common raster operations bitBlts pixBlts copy read write When block pixels moved new position frame buffer simply replace old pixel values combine pixel values using Boolean arithmetic operations Raster translations carried copying pixel block new location frame buffer Raster rotations multiples obtained manipulating row column positions pixel values block Other rotations performed first mapping rotated pixel areas onto destination po sitions frame buffer calculating overlap areas Scaling raster trans formations also accomplished mapping transformed pixel areas frame buffer destination positions REFERENCES For additional information homogeneous coordinates computer graphics see Blinn Transformation functions PHIGS discussed Hopgood Duce oward et al Gaskins Blake For information GKS transformation func tions see Hopgood et al Enderle Kansy Pfaff EXERCISES Write program continuously rotate object pivot point Small angles used successive rotation approximations sine cosine functions used speed calculations The rotation angle step chosen object makes one complete revolution less sec onds To avoid accumulation coordinate errors reset original coordinate values object start new revolution Show composition two retations additive concatinating matrix representations R R obtain R R G RG Write set procedures implement buildTrans format ionMatrix composeTransformationMatrix functions produce composite transforma tion matrix set input transformation parameters Write program applies specified sequence transformations displayed object The program designed user selects transformation se quence associated parameters displayed menus composite transfor Exercises Chapter Two Dimensional Geometric Transforma ons NI oo Oo I Eva mation calculated used transform object Display original object transformed object different colars different fill patterns Modily transformation matrix 35 scaling arbitrary direction clude coordinates specified scaling fixed point x Prove multiplication transformation matrices tor following se quence operations commutative Two successive rotations b Two successive trans ations c Two successive scatings Prove uniform scaling rotatior form commutative pair opera tions general scaling rotation commutative operations Multiply individual scale rotate translate matrices Eq 38 verify el ements composite transformation matrix Show transformation matrix 51 fora reflection line x equiva lent reflection relative x axis followed counterclockwise rotation Show transformation matrix 52 reflection line x equivalent reflection relative axis followed counterclockwise rotation Show two successive reflections either coordinate axes equivalent single rotation caordinate origin Determine form transformation matrix reflection arbitrary line equation mx b Show two successive reflections line passing coordinate origin 1s equivalent single rotation origin Determine sequence basic transformations equivalent x direction shearing matrix 53 Determine sequence basic transformations equivalent direction shearing matrix 571 Set shearing procedure display italic characters given vector font definitior That afl character shapes font defined straight line segments italic characters formed shearing transformations Determine appropriate value shear parameter comparing italics plain text available font Define simple vectar fon input routine Derive following equations transforming coordinate point P x yi one Cartesian system ta coordinate values x yin another Cartesian system thal ro tated angle Project point P onto four axes analyse resulting right triangles x xcos ysin xsin vcos Write procedure compute elements matrix transforming object de scriptions one Cartesian coordinate system another The second coordinate system defined origin point Py vectar V gives directian positive axis system Set procedures implementing block transfer rectangular area frame buffer using onc function read area array another function cop array designated transfer area Determine results performing two successive block transfers area frame buffer using various Boolean operations What results performing two successive block transfers area frame buffer using binary arithmetic operations Implement routine perform block transfers trame bulier using specified Boolean operation replacement copy operation 23 Write routine implement rotations increments frame buffer block transfers Exercises 24 Write routine implement rotations specified angle frame buffer block transier 25 Write routine implement scaling raster transformation pixel block CHAPTER Two Dimensional Viewing Viewing Coordinate Window Normalized Space Viewport L ws2 A NY Window Zt A IN ws ws1 Viewport Window ws2 Viewport Monitor Monitor W e consider formal mechanism displaying views picture output device Typically graphics package allows user specify part defined picture displayed part placed display device Any convenient Cartesian coordinate system referred world coordinate reference frame used define pic ture For two dimensional picture view selected specifying subarea total picture area A user select single area display several areas could selected simultaneous display animated panning sequence across scene The picture parts within selected areas mapped onto specified areas device coordinates When multiple view areas selected areas placed separate display locations areas could serted larger display areas Transformations world device co ordinates involve translation rotation scaling operations well proce dures deleting parts picture outside limits selected display area A world coordinate area selected display called window An area ona display device window mapped called viewport The window defines viewed viewport defines displayed Often windows viewports rectangles standard position rec tangle edges parallel coordinate axes Other window viewport geome tries general polygon shapes circles used applications shapes take longer process In general mapping part world coordinate scene device coordinates referred viewing transfor mation Sometimes two dimensional viewing transformation simply ferred window viewport transformation windowing transformation But general viewing involves transformation win dow viewport illustrates mapping picture section falls within rectangular window onto designated rectangular viewport In computer graphics terminology term window originally referred area picture selected viewing defined beginning section Unfortunately term used window manager systems refer rectangular screen area moved resized made active inactive In chapter use term window Window YWinas r Viewpoint Yinax L XW erin aw max Venues XVnax World Coordinates Device Coordinates A viewing transformation using standard rectangies window viewport refer area world coordinate scene selected displav When consider graphical user interfaces Chapter discuss screen windows window manager systems Some graphics packages provide window viewport operations allow standard rectangles general approach allow rec tangular window orientation In case carry viewing transformation several steps indicated First construct scene world coordinates using output primitives attributes discussed Chapters Nest obtain particular orientation window set two dimensional viewing coordinate system world coordi nate plane define window viewing coordinate system The viewing coordinate reference frame used provide method setting arbitrary orientations rectangular windows Once viewing reference frame estab lished transform desenptions world coordinates viewing coordi nates We define viewport normalized coordinates range map viewing coordinate description scene normalized co ordinates At final step parts picture outside viewport clipped contents viewport transferred device coordi nates illustrates rotated viewing coordinate reference frame mapping normalized coordinates By changing position viewport view objects different positions display area output device Also varying size viewports change size proportions displayed objects We achieve zooming effects successively mapping different sized windows Construct Convert Map Viewing Map Normalized World Coordinate World Coordinates Viewport MC Scene Using wc Coordinates VC Normalized NVC Device Modaling Coordinate Viewing Coordinates Coordinates Transformations Viewing using Window Viewport Coordinates Specifications The two dimensional viewing transformation pipeline Device Coordinates Setting rotated world window viewing coordinates corresponding normalized coordinate viewport fixed size viewport As windows made smaller zoom part scene view details shown larger windows Similarly overview obtained zooming section scene succes sively larger windows Panning effects produced moving fixed size win dow across various objects scene Viewports typically defined within unit square normalized coordi nates This provides means separating viewing transforma tions specific output device requirements graphics package largely device independent Once scene transferred normalized coordinates unit square simply mapped display area particu lar output device use time Different output devices used pro viding appropriate device drivers When coordinate transformations completed viewport clipping performed normalized coordinates device coordinates This allows us reduce computations concatenating various transformation matrices Clipping procedures fundamental importance computer graphics They used viewing transformations also window manager sys tems painting drawing packages eliminate parts picture inside outside designated screen area many applications This coordinate system provides reference frame specifying world coordinate window We set viewing coordinate system using proce dures discussed Section First viewing coordinate origin selected world position Po xo Yo Then need establish orientation rotation reference frame One way specify world vector V defines viewing direction Vector V called view vector Given V calculate components unit vectors v v vy u u u viewing x axes respectively These unit vectors used form first second rows rotation matrix R aligns viewing x axes world axes Section Viewing Coordinate Reference Frame x world ys ey b A viewing coordinate frame moved coincidence world frame two steps translate viewing origin world origin b rotate align axes two systems We obtain matrix converting world coordinate positions viewing coordinates two step composite transformation First translate view ing origin world origin rotate align two coordinate refer ence frames The composite two dimensional transformation convert world coordinates viewing coordinates T translation matrix takes viewing origin point P world origin R rotation matrix aligns axes two reference frames illustrates steps coordinate transformation Once object descriptions transferred viewing reference frame choose window extents viewing coordinates select viewport limits normalized coordinates Object descriptions trans ferred normalized device coordinates We using transformation maintains relative placement objects normalized space viewing coordinates If coordinate position center viewing window instance displayed center viewport illustrates window viewport mapping A point position xw yw window 1s mapped position xv yv associated view port To maintain relative placement viewport window require XU HVeup XW XWyn Weax XUmin XWax XWoyn YO Yun _ YW YW Ymax YU min YO max YRoin A point position rw yw designated window mapped viewport coordinates xv yu relative positions two areas Solving expressions viewport position xv yv XV AVeug KW XW SX yO Ymin yw Ym SY scaling factors x Vmax XUnun XWmax Wn ay Pes Hain YO max YWmin Equations also derived set transformtions converts window area viewport area This conversion performed fol lowing sequence transformations Perform scaling transformation using fixed point position xu pin YWymin scales window area size viewport Translate scaled window area position viewport Relative proportions objects maintained scaling factors sx sy Otherwise world objects stretched contracted either x direction displayed output device Character strings handled two ways mapped viewport The simplest mapping maintains constant character size even though viewport area may enlarged reduced relative window This method would employed text formed standard character fonts changed In systems allow changes character size string definitions windowed primitives For characters formed line segments mapping viewport carried sequence line transformations From normalized coordinates object descriptions mapped vari ous display devices Any number output devices open part cular application another window viewport transformation performed open output device This mapping called workstation transforma Section Window ta Viewpart Coordinate Transiormation Chapter Two Dimensional Viewing Viewing Coordinate Window Normalized Space T Viewpon ws2 Windowws Window Monitor Monitor Mapping selected parts scene normalized coordinates different video monitors workstation transformations tion accomplished selecting window area normalized space viewport area coordinates display device With workstation transformation gain additional control positioning parts scene individual output devices As illustrated use work station transformations partition view different parts normalized space displayed different output devices We define viewing reference system PHIGS application program following function evaluateViewOrientationMatrix xv yO xv yV error viewMatrix parameters x0 y0 coordinates viewing origin para meters xV yV world coordinate positions view vector An integer error code generated input parameters error otherwise viewMat rix world viewing transformation calculated Any number viewing transformation matrices defined application To set elements window viewport mapping matrix voke function avaluateViewMappingMatrix xwmin xwmax ywmin ymax xvmin xvmax yvmin yvmax error viewMappingMatrix Here window limits viewing coordinates chosen parameters xwmin xwmax ywmin ywmax viewport limits set malized coordinate positions xvmin xvmax yvmin yvmax As viewing transformation matrix construct several window viewport pairs use projecting various parts scene different areas unit square Next store combinations viewing window viewport map pings various workstations viewing table setViewRepresentation ws viewIndex viewMatrix viewMappingMatrix xclipmin xclipmax yclipmin yclipmax clipxy parameter ws designates output device workstation parameter viewIndex sets integer identifier particular window viewport pair The matrices viewMatrix viewMappingMatrix concatenated referenced viewIndex Additional clipping limits also specified usually set cvincide viewport boundaries And pa rameter cl ipxy assigned either value moclip value clip This allows us turn clipping want view parts scene outside view port We also select noclip speed processing know scene included within viewport limits The function setvViewiIndex viewIndex selects particular set options viewing table This view index selec tion applied subsequently specified output primitives associated attributes generates display active workstations At final stage apply workstation transformation selecting workstation window viewport pair setWorkstationWindow ws xwsWindmir xwsWindmax ywsWindmin ywsWindmax setWorkstationViewport ws xwsVPortmin xwsVPortmax ywsVPortmin ywsVPortmax parameter ws gives workstation number Window coordinate extents specified range normalized space viewport limits integer device coordinates Ifa workstation viewport specified unit square normalized reference frame mapped onto largest square area possible output de vice The coordinate origin normalized space mapped origin device coordinates aspect ratio retained transforming unit square onto square area output device Example Two Dimensional Viewing Example As example use viewing functions following sequence state ments sets rotated window world coordinates maps contents upper right corner workstation We keep viewing coordinate origin world origin choose view direction window This gives us viewing coordinate system rotated clockwise world coordinate reference frame The view index set value Section Two Dimensional Viewing Functions Chapter Two Dimensional Viewing evaluateViewOrlentationMatrix viewError viewMat evaluateViewMappingMatrix 24 75 C viewMapError viewMapMat setViewRepresentation viewMat viewMapMat clip setViewIndex Similarly could set additiona transformation view index would map specified window viewport lower left screen Two graphs example could displayed opposite screen comers following statements setViewIndex polyline axes polyline datal setVviewIndex polyline axes polyline data2 View index selects viewport upper right screen display view index selects viewport lower left corner The function polyline axes produces horizontal vertical coordinate reference data plot graph Generally procedure identifies portions picture either inside outside specified region space referred clipping algo rithm simply clipping The region object clipped called clip window Applications clipping include extracting part defined scene view ing identifying visible surfaces three dimensional views antialiasing line seg ments object boundaries creating objects using sclid modeling procedures displaying multiwindow environment drawing painting operations allow paris picture selected copying moving erasing duphi cating Depending application clip window general polygon even curved boundaries We first consider clipping methods using rectangular clip regions discuss methods clip region shapes For viewing transformation want display picture parts within window area assuming clipping flags set noclip Everything outside window discarded Clipping algorithms applied world coordinates contents window terior mapped device coordinates Alternatively complete world coor dinate picture mapped first device coordinates normalized device coordinates clipped viewport boundaries World coordinate clipping removes primitives outside window considera tion thus eliminating processing necessary transform primitives device space Viewport clipping hand reduce calculations al lowing concatenation viewing geometric transformation matrices But viewport clipping require transformation device coordinates Section performed objects including outside window area On raster _ Line Clipping systems clipping algorithms often combined scan conversion In following sections consider algorithms dipping following primitive types Point Clipping Line Clipping straight line segments Area Clipping polygons Curve Clipping Text Clipping Line polygon clipping routines standard components graphics pack ages many packages accommodate curved objects particularly spline curves conics circles ellipses Another way handle curved objects approximate straight line segments apply line polygon clipping procedure Assuming clip window rectangle standard position save point P x display following inequalities satisfied XWeyin XFS AWersy Yin YS YUrx edges clip window pin XWmax Lmine Wmax CaN either world coordinate window boundaries viewport boundaries If one four inequalities satisfied point clipped saved display Although point clipping applied Jess often line polygon clipping applications may require point lipping procedure For example point clipping applied scenes involving explosions sea foam mod eled particles points distributed region scene illustrates possible relationships line positions standard rectangular clipping region A line clipping procedure involves several parts First test given line segment determine whether lies completely side clipping window If try determine whether lies com pletely outside window Finally identify line completely side completely outside must perform intersection calculations one clipping boundaries We process lines inside outside tests checking line endpoints A line endpoints inside clipping boundaries line P P saved A line endpoints outside one clip boundaries line P P outside win Window Before Clipping After Clipping tb Line clipping rectangular clip window dow All lines cross one clipping boundaries may require cal culation multiple intersection points To minimize calculations try de vise clipping algorithms efficiently identify outside lines reduce tersection calculations For line segment endpoints x yy one end points outside clipping rectangle parametric representation aeox Fey XD wey tuys yh Peusl could used determine values parameter intersections chp ping boundary coordinates If value u intersection rectangle boundary edge outside range line enter interiar window boundary If value u within range line segment dues indeed cross clipping area This method ap phed chpping boundary edge turn determine whether part line segment displayed Line segments parallel window edges handled special cases Clipping line segments parametric tesis requires good deal computation faster approaches clipping possible A number effi cient Jine clippers developed survey major algorithms next sections Some algorithms designed explicitly two dimensional pictures easily adapted three dimensional applications Cohen Sutherland Line CHpping This one oldest popular kne clipping procedures Generally method speeds processing Hne segments performing initial tests reduce number intersections must calculated Every line end point picture assigned four digit binary code called region code identifies location point relative boundaries clipping rec tangle Regions set reference boundaries shown Each bit position region code used indicate one four relative co ordinate positions point respect clip window left right top bottom By numbering bit positions region code right left coordinate regions correlated bit posi tions bit left bit nght bit bit A value bit position indicates point relative position otherwise bit position set If point within clipping rectangle region code A point left rectangle region code Bit values region code determined comparing endpoint coordi nate values x clip boundaries Bit set x xWgin The three bit values determined using similar comparisons For languages bit manipulation possible region code bit values determined following two steps Calculate differences endpoint coordi nates clipping boundaries Use resultant sign bit difference calculation set corresponding value region code Bit sign bit Of X XW pin Dit sign bit xw x bit sign bit ywain bit sign bit yn Y Once established region codes line endpoints quickly determine lines completely inside clip window clearly outside Any lines completely contained within window boundaries region code endpoints trivially accept lines Any lines bit position region codes endpoint completely outside clipping rectangle trivially ject lines We would discard line region code one endpoint code endpoint Both endpoints line left clipping rectangle indicated first bit position region code A method used test lines total clipping perform logical operation region codes If result line completely outside clipping region Lines identified completely inside completely outside clip window tests checked intersection window bound aries As shown lines may may cross window terior We begin clipping process line comparing outside endpoint clipping boundary determine much line discarded Then remaining part line checked boundaries continue either line totally discarded section found inside window We set algorithm check line endpoints clipping boundaries order left right bottom top To illustrate specific steps clipping lines rectangular bound aries using Cohen Sutherland algorithm show lines could processed Starting bottom endpoint line P P2 Section Line Clipping 1000 0000 oo1c ___ LWinctow _ 0100 O11c Binary region codes assigned line endpoints according relative position respect clipping rectangle define ROUND Py Window Lines extending one Pp coordinate region another may Py pass clip window p P may intersect clipping boundaries without entering window check P left right bottom boundaries turn find point clipping rectangle We find intersection point P bottom boundary discard line section P P The line reduced section P P2 Since P outside clip window check endpoint boundaries find left window Intersection point P calculated point window So final intersection calculation yields P line P P saved This completes processing line save part go next line Point P next line left clipping rectangle determine intersection P eliminate line section P3 P By checking region codes line section P P find remain der line clip window discarded also Intersection points clipping boundary calculated using slope intercept form line equation For line endpoint coordinates x Xx coordinate intersection point vertical boundary obtained calculation tm x x value set either xWypin OF XWmax slope line cal culated x Similarly looking intersection horizontal boundary x coordinate calculated x x set either yw OF tO YWrax The following procedure demonstrates Cohen Sutherland line clipping algorithm Codes endpoint stored bytes processed using bit manipulations ifint as0 Bat masks encode point position relative clip edges A point status encoded OR ing together appropriate bit masks Fdefine LEFT_EDGE Oxl caefne RIGHT EDGE 0x2 gdefine BUTTOM_EDGE 0x4 define TOP EDGE Ox8 Points encoded completely Inside clip rectangle others ere outside least one edge If CR ing two codes FALSE mo bits set either code ine Accepted If AND operation two codes TRUE line defined endpoints completely outside clip region Rejected ys define INSIDE define REJECT b akb define ACCEPT b alb unsigned char encode wePt2 pt dcPt winMin dePt winMax unsigned char code 0x60 ipt x winMin x code code LEFT_EDGE pt x winMax x code code RIGHT_EDGE pt winMin code code BOTTOM_EDGE pc winMax code code TOP_ENGE return code void SwapPts wePt2 pl weoPt2 p2 worte tmp imp pl pl p2 p2 tmp vo swapCodes junsigned char cl unsigne char unsigned char tmp tmp cl cl c2 c2 tmp r void clipbLine dcPt winMin UcPt winMax weFt2 pl wePtz2 p2 unsigned char codel code2 int done FALSE draw FALSE float done codel encode pi winMin winMax code2 encode p2 winMin winmax ACCEPT codel code2 done TRUE draw TRUE else REJECT codel code2 done TRUE else Ensure pl outside window INSIDE codei swapPts pl p2 sWapCodes codel code2 Use slope find line clipEdge intersections p2 x pl x p2 pl p2 x pl x codel LEFT_EDGE pl winMin x pl x pl x winMin x else codel RIGHT_EDGE pl winMax x pl x pl x winMax x else codel BOTTOM_EDGE Need update pl x non vertical lines tp2 x pl x pl x winMin pl m1 pl winMin else codel TOP_EDGE p2 x x pl x pl x winMax pl pl winMax draw lineDDA ROUND p1 x ROUND pl ROUND p2 x ROUND p2 Liang Barsky Line Clipping Faster line clippers developed based analysis para metric equation line segment write form x X udx udy Qsu sl Ax x x Ay Using parametric equations Cyrus Beck developed algorithm generally efficient Cohen Sutherland algorithm Later Liang Barsky independently devised even faster parametric line clipping algorithm Following Liang Barsky ap proach first write point clipping conditions parametric form XWin X UAx xw max 10 YW min WAY YWmax Each four inequalities expressed k 4 11 parameters p q defined po Ax X AW Pz Ax XWmar oe 12 P Ay YT Wein Ps Ay VW Any line parallel one clipping boundaries p value k corresponding boundary k correspond left right bottom top boundaries respectively If value k also find q line completely outside boundary elimi nated consideration If q line inside parallel clipping boundary When p infinite extension line proceeds outside inside infinite extension particular clipping boundary If p line proceeds inside outside For nonzero value p calculate value corresponds point infinitely ex tended line intersects extension boundary k ht 13 Pa For line calculate values parameters u u define part line lies within clip rectangle The value u deter mined looking rectangle edges line proceeds side inside p For edges calculate r q p The value u taken largest set consisting various values r Con versely value determined examining boundaries line proceeds inside outside p A value calculated boundaries value u minimum set consisting calculated r values If u tu line completely outside clip win dow rejected Otherwise end points clipped line calcu lated two values parameter This algorithm presented following procedure Line intersection parameters initialized values v anc wy For clipping boundary appropriate values p q calculated used func tion clipTest determine whether line rejected whether intersec tion parameters adjusted When p parameter r used update p parameter r used update ff updating u uy results u Uy reject line Otherwise update appropriate u parameter new value results shortening hne When p q discard line since parallel outside boundary If line rejected four values p g tested endpoints clipped line determined values tp finclude graphics define ROUND 1int at9 int clipTest float p float q float ul fleat Section Line Clipping float r int retval TRUE p Oo req p r u2s retVal FALSE else iv ul Sul er else p r qg pPp ry ul retVal FALSE else r u2 u2 else p line parallel clipping edge q Line outside clipping edge retVal FALSE return retVal void clipLine dePe winMin dcPt winMax weFiZ pl wePt2 p2 float ul u2 dx p2 x pl x dy clipTest dx pl x winMin x ul u2 clipTest dx winMax x pl x ul u2 dy p2 pl clipTest dy pl winMin ul clipTest dy winMax pl Sui u2 u2 p2 x pl x u2 dx p2 pl u2 dy ful pl x ul dx pl ul dy lineDDA ROUND pl x ROUND pl ROUND p2 x ROUND p2 In general Liang Barsky algorithm efficient Cohen Sutherland algorithm since intersection calculations reduced Each update parameters u u requires one division window intersec tions line computed final values u u computed In contrast Cohen Sutherland algorithm repeatedly cal culate intersections along line path even though line may completely outside clip window And intersection calculation requires divi sion multiplication Both Cohen Sutherland Liang Barsky al gorithms extended three dimensional clipping Chapter Nicholl Lee Nicholl Line Clipping By creating regions around clip window Nicholl Lee Nicholl NLN algorithm avoids multiple clipping individual line segment In Cohen Sutherland method example multiple intersections may calcu lated along path single Line intersection clipping rectan gle located line completely rejected These extra intersection calcula tions eliminated NLN algorithm carrying region testing intersection positions calculated Compared Cohen Suther land Liang Barsky algorithms Nicholl Lee Nicholl algorithm per forms fewer comparisons divisions The trade NLN algorithm applied two dimensional clipping whereas Liang Barsky Cohen Sutherland methods easily extended three dimensional scenes For line endpoints P P3 first determine position point P nine possible regions relative clipping rectangle Only three regions shown need considered If P lies one six regions move one three regions using sym metry transformation For example region directly clip window transformed region left clip window using reflection line x could use counterclockwise rotation Next determine position P relative P To create new regions plane depending location P Boundaries new regions half infinite line segments start position P pass window corners If P inside clip window P side set four regions shown The intersection ap propriate window boundary carried depending one four regions L T R B contains P Of course P P inside clipping rectangle simply save entire line If P region left window set four regions L LT LR LB shown These four regions determine unique bound ary line segment For instance P region L clip line left boundary save line segment intersection point P But P region LT save line segment left window boundary top boundary If P four regions L LT LR LB entire line clipped P Window P Edge Region ta b Section Line Clipping F Corner Region Ic Three possibfe positions line endpoint P NLN line clipping algorithm The four clipping regions used NLN algorithm P inside clip window Pj outside The jour chipping regions used NLN algorithm P directly left clip window For third case P left clip window use clipping regions In case two possibilites shown depending position P relative top left corner window If P one regions T L TR TB LR LB determines unique clip window edge intersection calculations Otherwise entire line jected To determine region P located compare slope line slopes boundaries clip regions For example P left clipping rectangle P region LT slope P Prp slope P P slope P P 14 Wow BOW 15 Xpo Xp Myo Ky MOY And clip entire line Y YO x Or x yn Wd To The coordinate difference product calculations used slope tests saved also used intersection calculations From parametric equations X x x xu yit G2 ypu x intersection position left window boundary x x x x x intersection position The two possible sets clipping regions used NLN algonthin P 1s co left clip window Line Chaping Using Nonrectangular Clip Windows In applications often necessary clip lines arbitrarily shaped polygons Algorithms based parametric line equations Liang Barsky method earlier Cyrus Beck approach extended eas ily convex polygon windows We modifying algorithm clude parametric equations boundaries clip region Preliminary screening line segments accomplished processing lines coordinate extents clipping polygon For concave polygon clipping gions still apply parametric clipping procedures first split concave polygon set convex polygons Circles curved boundary clipping regions also possible less commonly used Clipping algorithms areas slower intersec tion calculations involve nonlinear curve equations At first step lines clipped bounding rectangle coordinate extents curved clip ping region lines identified completely outside bounding rec tangle discarded To identify inside lines calculate distance line endpoints circle center If square distance endpoints line less equal radius squared save entire line The remaining lines processed intersection calculations must solve simultaneous circle line equations Splitting Conc ave Polygons We identify concave polygon calculating cross products succes sive edge vectors order around polygon perimeter If z component Chapter Two Dimensional Viewing Splitting concave polygon using vector method Identifying concave polygon calculating cross products successive pairs edge vectors cross products positive others negative z component concave polygon Otherwise polygon convex This assuming series three successive vertices collinear case cross product two edge vectors vertices zero If vertices collinear degenerate polygon straight line illustrates edge vector cross product method identifying concave polygons A vector method splitting concave polygon xy plane calculate edge vector cross products counterclockwise order note sign z component cross products If z component tums neg ative polygon concave split along line first edge vector cross praduct pair The following example illustrates method splitting concave polygon Example Vector Method far Splitting Concave Polygons shows concave polygon six edges Edge vectors poly gon expressed E E E Ey E BE z component since edges xy plane The cross product E x E two successive edge vectors vector perpendicular xy plane z component equal E Ey EE jy E x E D E x E E x E E x E E x E E x E Since cross product E x E negative z component split polygon along line vector E The line equation edge slope intercept We determine intersection line Splitting concave polygon using rotational method After rotating V3 onto x axis find V x axis So split polygon along line Vy polygon edges split polygon two pieces No edge cross products negative two new polygons convex We also split concave polygon using rotational method Proceeding counterclockwise around polygon edges translate polygon vertex V turn coordinate origin We rotate clockwise direction next vertex V x axis If next vertex V x axis polygon concave We split polygon two new polygons along x axis repeat concave test two new polygons Otherwise continue rotate vertices x axis test negative vertex values illustrates rotational method splitting concave polygon To clip polygons need modify line clipping procedures discussed previous section A polygon boundary processed line clipper may displayed scries unconnected line segments depending orientation polygon clipping window What really want dis play bounded area clipping For polygon clipping quire algorithm generate one closed areas scan converted appropriate area fill The output polygon clipper sequence vertices defines clipped polygon boundaries Lo eee Display polygon processed Balore Clipping After Clipping line clipping algorithm Section Polygon Clipping Chapter Two Dimensional Viewing Original Polygon wr Display correctly clipped Before Clipping After Clipping polygon Sutherland Hadgeman Polygon Clipping We correctly clip polygon processing polygon bound ry whole window edge This could accomplished processing poly gon vertices clip rectangle boundary turn Beginning ini tial set polygon vertices could first clip polygon left rectan gle boundary produce new sequence vertices The new set vertices could successively passed right boundary clipper bottom bound ary clipper top boundary clipper At step new se quence output vertices generated passed next window boundary clipper There four possible cases processing vertices sequence around perimeter polygon As pair adjacent polygon vertices passed window boundary clipper make following tests If first vertex outside window boundary second vertex inside intersec tion point polygon edge window boundary second vertex added output vertex list If input vertices inside win dow boundary second vertex added output vertex list If first vertex inside window boundary second vertex outside edge intersection window boundary added tu output vertex list If input vertices outside window houndary nothing added output list These four cases illustrated successive pairs polygon vertices Once vertices processed one clip window boundary output hst vertices clipped next window bound ary Clip Left Clip Top Clipping polygon successive window boundaries yDaras XeWM 4dOP UTNM Jdop q eBbpga z3domM eptsut qut bv Ode N sugep ebpa woqjog 4ySta ajeT umus zapaddAy Arepunog Mopurm SIY 10J ISI XOWIA Jndyno ayy ur spnod ayy jaqry pasn o78 siaquinu pout xayaa yim Sunieys Mopulm eyo Arepumog 1a au surese uoSAjod e Buiddy aand14 MODULAR Arepunog yea ysuteZe paddy syutod yse pue ysiy ayy Aq pauyap seury sdip autynor Busop e passadoid uaaq aaey saotien uo8Ajod Tle tay Arepunog yey ysuteSe paddy yurod ys1y ayy Arepunog MOPUIM Yea JO saloys JUTOg Aszy Aeue ayy syutod jo Aerie jndyno ay owl pasayua uay st sare punog Mopul je ysuteze Butddips saatains yey yutod Auy a8vys Buiddy jxau ay passed st yl MopulM ayy apisut st J adeys Sutiddyp yxau ay passed pue payepngyes st uolpasiaqul ay Arepunog MOpuUIA sty sassop Azepunog pue syuiodpua kq pauyap aul ay jj Arepunog mMopulM jsiy ay ysurese Butddips JO AUN JUTOdAT TO ay Xayiaa yea sassed autos urew ayy Arepunoq MopulM dip yses 10j paddija sem yey yurod yuaoas jsou ay sprosar Aeue uy yoeoidde Zutddip aurjadid ay sayexjsuowap ounpasoid ZuIMOT OS ay ssaddya Arepunog jo auyedid e ySnoryy Ul Santen UOsATOd ayy Jo UCIssarZoid ay esnyyI 2m SLY U MOpPULM dip e YM squtod UOKQDeSJa UI SyI pure UOsATOd ev smoys amsi4z auyadid ayy ur anuguoo jou saop yurod ay asimsayyQ sueddyo Are punog moj Te 4q Arepunog MopulM ud Jo apIsul aq peuluLiajap uaaq uaaq sey U saye Afuo 3st xaqea Ndno ayy pappe st Quod uoTdessayUI payeMs eo 10 xoyed jndur ue saya yutod sauynos Zutddip yo auryjedid e pue sossaz0id afsuis e siossadoid jayjered yum auop aq ues siqy aeddro Arepunog yxau ayy uO saoquea paddy ay Butssed pure days yora ye saoysaa enplarpul Buid dyp Ajduns Aq syst xayaa yndyno ayerpaunaqut ayy ayeutums ued aay Arepunoqg MOpUIM Yea ysuTeZe paddy st uoBAjod e se saotyre Jo yst yndyno ue Joy aBeI0 dn 8unjas samnbar paquosap jsnl aaey se wyyo08je ay Suyuewarduiy Azepuncg mopulm 4xau ay oy ssadoid ayy yead a1 pinom sjutod panes aay ayy Butsy julod uoysasJajUI ayy aAeS pur puy OS APIS NO ST Xa IaA PUY PUL Y XIS al paaes osje Aay pue aprsul aq pauluLiajap pue p saorplaa XaPAA puke yuod uoTpasJayUl ayy YO aves pue VoSasiayt ay ayeNz e aM ApIsUT st YONYM Xayaa Sucre Suraocpy Are punog ayy Jo apisyno ay UO aq pumoy ale Zz pur saotwan Arepunog MopuIM Ye ay ysulese BLY ul eare ayy Bunssadoid Aq poyyaur sy ayeaysnyy ay Arepunog mopumm yet ay ysureSe saoysaa u08Ajod jo sited Jo Sutssazoid aatssa2ons 24n314 audu BARS A OARS Ta oape ALA 2aes 1nd ul ul ul ur ino A polygon overlapping rectangular clip window eS Top ee Clipper vy v1 vi v5 Vy Mg I GN _ Vs Vy _ V5 Vv Processing vertices polygon boundary clipping pipeline After vertices processed pipeline vertex list clipped polygon V3 Vz Vx Vi case Left p x wMin x return FALSE break case Right p x wMax x return FALSE break case Bottom p wMin return FALSE break case Top p wMax return FALSE break return TRUE int cross wcPt2 pl wcPt2 p2 Edge b dcPt wMin dcPt wMax inside pl b wMin wMax inside p2 b wMin wMax return FALSE else return TRUE wePt2 intersect wcPt2 pl wecPt2 p2 Edge b dcPt wMin dcPt wMax weoPt2 iPt float pl x p2 x pl p2 pl x p2 x gwitch b case Left iPt wMin x iPt p2 wMin x p2 x break case Right iPt x WMax x iPt p2 wMax x p2 x break case Bottom iPt wMin pl x p2 x iPt x p2 x wMin p2 else iPt x p2 x break case Top iPt wMax pl x p2 x iPt x p2 x wMax p2 else iPt x p2 x break vt return iPt void clipPoint wcPt2 p Edge b dePt wMin dcPt wMax wePt2 pOut int cnt wePt2 first weoPt2 wePt2 iPt If previous point exists edge save point first b first b p else Previous point exists If p previous point cross edge find intersection Clip next boundary If edges add intersection output list cross p b b wMin wMax iPt intersect p b b wMin wMax b Top clipPoint iPt b wMin wMax pout ent first else pout ent iPt ent b p Save p recent point edge For point inside proceed next clip edge inside p b wMin wMax b Top clipPoint p b wMin wMax pOut cnt first else pout cnt p ent void closeClip dcPt wMin dcPt wMax wePt2 pout int cnt wePt2 first woPt2 wePt2 Edge b b Left b Top bre cross b first b b wMin wMax intersect b first b b wMin wMax b Top clipPoint b l wMin wMax pOut cnt first else pout ent ent int clipPolygon dcPt wMin dcPt wMax int n wcPt2 pIn wePt2 pout first holds pointer toa first point processed clip edge holds recent point processed edge wePt2 first N_EDGE int ert Q i1 n elipPoint pIn N_EDGE Left wMin wMax pOur cnt first closeClip wMin wMax pOut cnt first return cnt Convex polygons correctly clipped Sutherland Hodgeman algo rithm concave polygons may displayed extraneous lines demon strated This occurs clipped polygon two separate sections But since one output vertex list last ver tex list always joined first vertex There several things could correctly display concave polygons For one could split con cave polygon two convex polygons process convex poly gon separately Another possibility modify Sutherland Hodgeman ap proach check final vertex list multiple vertex points along chp window baundary correctly join pairs vertices Finally could use general polygon clipper either Weiler Atherton algorithm Weiler algorithm described next section Weiler Atherton Polygen Clipping Here vertex processing procedures window boundaries modified concave polygons displayed correctly This clipping procedure de veloped method identifying visible surfaces apphed arbitrary polygon clipping regions The basic idea algorithm instead always proceeding around polygon edges vertices processed sometimes want follow window boundaries Which path follow depends polygon processing direction clockwise counterclockwise whether pair polygon ver tices currently processed represents outside inside pair inside Window PO Tee I I J Clipping concave polygon Sutherland Hodgeman Tees n clipper produces two connevted b areas b v stop Ve b Clipping concave polygon Weiler Atherton algorithm generates two separate polygon areas b outside pair For clockwise processing polygon vertices use follow ing rules For outside inside pair vertices follow polygon boundary For inside outside pair vertices follow window boundary clockwise direction In processing direction Weiler Atherton algorithm sulting clipped polygon shown rectangular clipping window An improvement Weiler Atherton algorithm Weiler algorithm applies constructive solid geometry ideas clip arbitrary polygon polygon clipping region illustrates general idea approach For two polygons figure correctly dipped polygon calculated intersection clipping polygon polygon object Other Polygon Clipping Algorithms Various parametric line clipping methods also adapted polygon clipping And particularly well suited clipping convex poly gon clipping windows The Liang Barsky Line Clipper example ex tended polygon clipping general approach similar Suther land Hodgeman method Parametric line representations used process polygon edges order around polygon perimeter using region testing proce dures similar used line clipping polygon tipping abject clipping pelygon Clipping polygon determining _ clipped intersection two polygon area areas Section Polygon Clipping Before Chipping After Clipping Chipping filled carcle STRING Before Clipt Clipping __ STRING After Clipy Ci ipping Text clipping using bounding rectang e entire string Areas curved boundaries clipped methods similar dis cussed previous sections Curve clipping procedures involve nonlin ear equations however requires processing objects linear boundaries The bounding rectangle circle curved object used first test overlap rectangular clip window If bounding rectangle object completely inside window save object If rectangle determined completely outside window discard object In either case computation necessary But bounding rectangle test fails look computation saving approaches For circle use coordinate extents individual quadrants octants prelimi nary testing calculating curve window intersections For ellipse test coordinate extents individual quadrants illustrates circle clipping rectangular window Similar procedures applied clipping curved object general polygon clip region On first pass clip bounding rectangle object bounding rectangle clip region If two regions overlap need solve simultaneous line curve equations obtain clipping intersection points There several techniques used provide text clipping graph ics package The clipping technique used depend methods used generate characters requirements particular application The simplest method processing character strings relative window boundary use none string clipping strategy shown If string inside clip window keep Otherwise string dis carded This procedure implemented considering bounding rectangle around text pattern The boundary positions rectangle com pared window boundaries string rejected overlap This method produces fastest text clipping An alternative rejecting entire character string overlaps window boundary use aff none character clipping strategy Here discard characters completely inside window In case boundary limits individual characters compared window Any character either overlaps outside window boundary clipped A final method handling text clipping clip components indi vidual characters We treat characters much way thal treated lines If individual character overlaps clip window boundary clip parts character outside window Outline character fonts formed line segments processed way using line clipping algorithm Characters defined bit maps would clipped com paring relative position individual pixels character grid patterns clipping boundaries So far considered procedures clipping picture interior region eliminating everything outside clipping region What saved procedures inside region In cases want reverse want clip picture exterior specified region The picture parts saved outside region This referred exte rior clipping A typical example application exterior clipping multiple window systems To correctly display screen windows often need apply internal external clipping illustrates multiple window display Objects within window clipped interior win dow When higher priority windows overlap objects objects also clipped exterior overlapping windows Exterior clipping used also applications require overlapping pictures Examples include design page layouts advertising pub lishing applications adding labels design patterns picture The tech nique also used combining graphs maps schematics For ap plications use exterior clipping provide space insert larger picture Procedures clipping objects interior concave polygon windows also make use external clipping shows line P P clipped interior concave window vertices V V V V Vs Line P P clipped two passes First P P clipped interior convex polygon V V V3V yield clipped segment P P b Then external clip P P performed convex polygon V V V yield final clipped line segment P P SUMMARY In chapter seen map two dimensional world coordinate scene display device The viewing transformation pipeline A multiple window screen display showing examples interior exterior clipping Courtesy Sun Microsystems Summary STRING oh STRING STRING Before Clipping NG oi TRING STRING After Clipping Ligure 29 Text clipping using bounding rectangle individual characters TRING oe Before Clipping TRING S After Clipping Text clipping performed components individual characters Interior Clip tb Exterior Clip c Clipping line P P interior concave polygon vertices V V V4V4Vs using convex polygons V V V V hb V_V V c produce clipped line P P cludes constructing werld coordinate scene using modeling transformations transferring world cocrdinates viewing coordinates mapping viewing coordinate descriptions f objects normalized device coordinates finally mapping device coordinates Normalized coord nates specified range thev used make viewing packages independent ot particular output devices Viewing coordinates specified giving werld coordinate position viewing origin view vector defines directior viewing axis These parameters used construct tne viewing transforma tion matrix maps world coordinate object descriptions viewing coordi nates A window set viewing coordinates viewport specified normalized device coordinates Typically window viewport rec tangles standard position rectangle boundaries parallel coordinate axes The mapping viewing coordinates normal zed device coordinates carried relative positions window maintained viewport Viewing functions graphics programming package used create one sets viewing parameters One function typically provided tu calculate elements matrix transforming world coordinates view ing coordinates Another function used set window viewport transformation matrix third function used specify combinations viewing transforma ions window mapping viewing table We select different viewing combinations spo ifving particular view indices listed viewing table When objects displayed output device parts scene side window viewport clipped oft unless set clip parameters turn clipping In many packages clipping Is Gone normalized device co ordinates transformations concatenated single transfor mation operation applying clipping alponthms The clipping region commonly referred clipping window clisping rectangle window viewport standard rectangles Several algorithms developed clipping objects clip windew boundaries Line clipping algorithms include Cohen Sutherland method Liang Barsky method Nicholl Lee Nicholl method The Cohen Suther land method widely used since one first line clipping algorithms developed Region codes used identify position line endpoints Telative rectangular clipping window boundaries Lines im mediately identified completely ins de window completely outside chpped window boundaries Liang Barsky use parametric line representation similar earlier Cyrus Beck algorithm set efficient line clipping procedure reduces intersectian calculations The Nicholl Lee Nicholl algorithm uses region testing xy plane reduce intersection calculations even Parametric liie clipping easily extended convex clipping windows three dimensional clipping windows Line clipping also carried concave polygon clipping win dows chpping windows curved boundaries With concave poly gons use either vector method revational method split con cave polygon number convex polygons With curved clipping windows calculate line intersections using curve equations Polygon clipping algorithms include Sutherland Hodgeman method Liang Barsky method Weiler Atherton method In Suther land Hodgeman clipper vertices convex polygon processed order four rectangular window boundaries produce output vertex list clipped polygon Liang Barsky use parametric line equations repre sent convex polygon edges use similur testing performed n line clipping produce outpul vertex list clipped polygon Both Weiler Atherland method Weiler method correctly clip convex concave polygons polygon clippers also allow clipping window ov general polygon The Weiler Atherland algorithm processes polygon ver tices order produce one lists output polygon vertices The Weiler method performs clipping finding intersection region two polygons Objects curved boundaries processed rectangular clipping windows calculating intersections using curve equations These clipping procedures slower line clippers polygon clippers curve equations nonlinear The fastest text clipping method completely clip string part string outside window boundary Another method text clipping use none approach individual characters string A third method apply either point line polygon curve clipping individual characters string depending whether characters defined point prids outline fonts In applications creating picture insets managing multi ple screen windows exterior clipping performed In case parts scene inside window clipped exterior parts saved summary Chapter Two Dimensional Viewing REFERENCES Line clipping algorithms discussed Sproul Sutherland Cyrus Beck Liang Barsky Methods improving speed Cohen Sutherland fine clipping algorithm given Duvanenko Polygon clipping methods presented Sutherland Hodgeman Liang Barsky General techniques clipping arbitrarily shaped polygons given Weiler Atherton Weiler Two dimensional viewing operations PHIGS discussed Howard et al Gask ins Hopgood Duce Blake For information GKS viewing operatians see Hopgood et al Enderle et al Write procedure implement evaluateViewOrientationMatrix func tion calculates elements matrix transforming world coordinates viewing coordinates given viewing coordinate origin Py view vector V Derive window viewport transformation equations first scaling win dow size viewport translating scaled window view port position Write procedure mplement evaluateViewMappingMatrix function calculates elements matrix performing window viewport transforma tion Write procedure implement set ViewRepresentat ion function concate nate viewMatrix viewMappingMatrix store result referenced spetitied view index viewing table Write set procedures implement viewing pipeline without clipping without workstation transformation Your program allow scene ta con structed modeling coordinate transformations specified viewing system specified window v ewport pair As option viewing table implemented store different sets viewing transformation parameters Derive matrix representation workstation transformation Write set procedures implement viewing pipeline without clipping cluding workstation transformation Your program allow scene con structed modeling coordinate transformations specified viewing system specified window viewport pair workstation transformation parameters For given world coordinate scene composite viewing transformation matrix transform scene output device display tmplement Cohen Sutherland line clipping algorithm Carefully discuss rationale behind various tests methods calculating intersection parametets u u Liang Barsky line clipping algorithm Compare number arithmetic operations performed Cohen Sutherland Liang Barsky line clipping algorithms several different line orientations rel ative clipping window Write procedure implement Liang Barsky line c ipping algorithm Devise symmetry transformations mapping intersection calculations three regions six reg ons xy plane Set detailed algorithm Nicholl Lee Nicholl approach line clipping input pair line endpoints Compare number arithmetic operations performeo NLN algorithm Cohen Sutherland Liang Barsky line clipping algorithms several different line orientations relative clipping window Write routine identify concave polygons calculating cross products pairs edge vectors Write routine split concave polygon using vector method Write routine split concave polygon using rotational method Adapt Liang Barsky line clipping algorithm polygon clipping Set detailed algorithm Weiler Atherton polygon clipping assuming clipping window js rectangle standard position Devise algorithm Weiler Atherton polygon clipping clipping win dow specified polygon Write routine clip ellipse rectangular window Assuming characters text string width develop text clip ping algorithm clips string according ta none character clipping strategy Develop text clipping algorithm clips individual characters assuming characters defined pixel grid specified ze Write routine implement exterior clipping part defined picture using specified window Write routine perform interior exterior clipping given particular win dow system display Input routine set window positions screen objects displayed window window priorities The individuat objects clipped fit respective windows clipped remove parts overlapping windows higher display priority Exercises CHAPTER Structures Hierarchical Modeling F great many applications convenient able create nipulate individual parts picture without affecting picture parts Most graphics packages provide capability one form another With ability define object ina picture separate module make modi fications picture easily In cesign applications try differ ent positions orientations component picture without disturbing parts picture Or take parts picture easily put parts back display later time Similarly modeling applications separately create position subparts complex ob ject system overall hierarchy And animations apply trans formations individual parts scene one object animated one type motion objects scene move differently main stationary A labeled set output primitives associated attributes PHIGS called structure Other commonly used names labeled collection primitives segments GKS olyects Graphics Library Silicon Graphics systems In section consider basic structure managing functions PHIGS Similar operations available packages handling labeled groups primi tives picture Basic Structure Functions When create structure coordinate positions attribute values spec fied structure stored labeled group ina system structure list called central structure store We create structure function openStructure id The label segment positive integer assigned parameter id In PHIGS use character strings label structures instead using inte ger names This makes easier remember structure identifiers After primitives attributes listed end structure signaled clogeStructure statement For example following program Chapter Structures Hierarchical Modeling statements define structure line sequence specified polyline designated line type color openStructure ic setLinetype 1t setPolylineColourIndex lc polyline nr pts cleseStructure Any number structures created picture one structure open creation process time Any open structure must closed fore new structure created This requirement eliminates need structure identification number closeStructure statement Once structure created displayed ona selected output device function postStructure ws id priority parameter ws workstation identifier ic structure name priority assigned rea value range Parameter pr ority sets display priority relative structures When two structures overlap onan output display device structure higher priority visible For example structures posted workstation following priorities postStructure postStructure parts structure overlap structure hidden since struc ture higher prioritv If two structures assigned priority value last structure posted given display precedence When structure posted active workstation primitives structure scanned interpreted display selected output device video monitor laser printer etc Scanning structure list sending graphical output workstation called traversal A list current attribute values primitives stored data structure called traversal state list As changes made posted structures system structure list tra versal state list updated This automatically modifies display posted structures workstation Ta remove display structure part cular output device voke function unpostStructure iws id This deletes structure active list structures designated put device system structure list affected On raster system structure removed display redrawing primitives back ground color This process however may also affect display primitives fram structures overlap structure want erase To remedy use coordinate extents various structures scene deter mine ones overlap structure erasing Then simply draw overlapping structures erased structure unposted All structures removed selected output device unpostAllStructures ws If want remove particular structure system structure list accomplish function deleteStructure id Of course also removes display structure posted output devices Once structure deleted name reused another set primitives The entire system structure list cleared deleteAllStructures It sometimes useful able relabel structure This accomplished changeStructureldentifier oldID newID One reason changing structure label consolidate numbering structures several structures deleted Another cycle set structure labels displaying structure multiple locations test structure positioning Setting Structure Attributes We set certain display characteristics structures workstation filters The three properties set filters visibility highlighting ca pability structure selected interactive input device Visibility invisibility settings structures particular workstation selected device specified function setInvisibilityFilter ws devCode invisSet visSet parameter invisSet contains names structures invisi ble parameter visSet contains names visible With invisibility filter turn display structures selected workstations without actually deleting workstation lists This al lows us example view outline building without interior de tails reset visibility view building ternal features included Additional parameters specify number structures two sets Structures made invisible raster monitor using procedures discussed unposting deleting structure The difference however remove structure active structure list device simply making invisible Highlighting another convenient structure characteristic In map dis play could highlight cities populations certain value fora Section Structure Concepts Chapter Structures Hierarchica Modeling landscape layout could highlight certain varieties shrubbery circuit diagram could highlight components within specific voltage range This done function setHighlightingFilter ws devCode highlightSet nohighlightSet Parameter highlightSet contains names structures highlighted parameter nohighlightSet contains names highlighted The kind highlighting used accent structures de pends type capabilities graphics system For color video mon itor highlighted structures could displayed brighter intensity color reserved highlighting Another common highlighting implementation turn visibility rapidly blinking structures displayed Blinking also accomplished rapidly alternating intensity highlighted structures low value high value The third display characteristic set structures pickability This refers capability structure selected pointing position ing screen cursor If want sure certain structures dis play never selected declare nonpickable pick ability filter In next chapter take topic input methods detail Often would like modify structure created closed Structure modification needed design applications try different graph ical arrangements change design configuration response new test data If additional primitives added structure done simply reopening structure openStructure nclon append ing required statements As example simple appending following program segment first creates structure single fil area adds second fill area structure openStructure shape setiInteriorStyle solid setInteriorColouriIndex fillArea ni vertsl closeStructure openStructure shape setintericrStyle hollow fillArea nz verts2 closeStructure This sequence operations equivalent initially creating structure fill areas openStructure shape setinteriorStyle solid setInteriorColourIndex fillArea nl vertsl setInteriorStyle hollow fillArea n2 verts2 closeStructure In addition appending may also want sometimes delete certain items structure change primitives attribute settings insert items selected positions within structure General editing operations carried accessing sequence numbers individual components structure setting edit mode Structure Lists Element Pointer Individual items structure output primitives attribute values referred structure elements simply elements Each element signed reference position value 1s entered structure shows storage structure elements associated position numbers created following program segment openStructure gizmo setLinetype ltl setPolylineColourIndex 1cl1 polyline nl ptsl setLinetype 1t2 setPolylineColcurIndex 1c2 polyline n2 pts2 closeStructure Structure elements numbered consecutively integer values starting value indicates position first element When structure opened element pointer set assigned position value used edit structure If opened structure new already existing system structure list element pointer set If opened structure already exist system list element pointer set po sition value last element structure As elements added struc ture element painter incremented We set value element pointer position within struc ture function setElementPointer k gizmo structure setLinetype 1tL setPolylineColcurindex 1c1 setPolylineColourIndex wp element Element position values pointer polyline n2 pts2 structure gizmo Section Uditing Structures Chapter Structures Hierarchical Modeling parameter k assigned integer vajue maximum number elements structure It also possible position element pointer using following offset function moves pointer relative current position offsetElementPo nter dk dk assigned positive negative integer offset present position pointer Once positioned element pointer edit struc ture position Setting Edit Mode Structures modified one two possible modes This referred edit mode structure We set value edit mode setEd tMode moce parameter mode assigned either value fsert value replace Inserting Structure Elements When edit mode set msert next item entered structure placed position immediately following element pointer Elements structure list tollowing inserted item automatically renumbered To illustrate insertion operation let change standard line width currently structure g zmo value We serting line width statement anywhere first polyline command openStructure gizmo setEditMode insert setElemertPointer setLinewidth lw closeStructure shows modified element list gizmo created previous sett operation After insert element pointer assigned value position new line width attribute Also elements line width statement renumbered starting value gizmo structure element pointer getLinewidth lw getLinetype t1 setPolylinefolourIndex lcl Modified element list position clement pointer inserting line width attribute structure gizmo polyline nl pts1 setLinetype 1t2 setPolylineColourIndex 1c2 swoon ewnad polyline n2 pts2 When new structure created edit mode automatically et value insert Assuming edit mode changed iefault value reopen structure append items end ele ment list without setting values either edit mode element pointer demonstrated beginning Section This edit mode mains value insert element pointer reopened structure points last element list Replacing Structure Elements When edit mode set value replace next item entered struc ture placed position element pointer The element originally position deleted value element pointer remains unchanged As example replace operation suppose want change color second polyline structure gizmo We sequence openStructure gizmc setEditMode replace setElementPointer setPolylineColourIndex lc2New closeStructure shows element list gizmo new color second polyline After replace operation element pointer remains position position new line color attribute Deleting Structure Elements We delete element current position element pointer function deleteEiement This removes element structure sets value element pointer immediately preceding element As example element deletion suppose decide poly lines structure gizmo displayed color We accom plish deleting second color attribute gizmo structure setLinetype Modified element list position element pointer changing color second polyline structure gizmo setPolylineColourIndex 1c1 setLinetype 1t2 slement pointer get PolylineColourindex 1c2New polyline nl ptsl polyline n2 pts2 Section Editing Structures No Chapter Structures Hierarchical Modeling openStructure gizmo setElementFointer deleteElement closeStructure The element pointer reset value following elements renumbered shown A contiguous group structure elements deleted function deleteElementRange kl k2 integer parameter k1 gives beginning position number k2 speci fies ending position number For example delete second polyline associated attributes structure gizmo deleteElementRange And elements structure deleted function emptyStructure iid Labeling Structure Flements Once made number modifications structure could easily lose track element positions Deleting inserting elements shift ele ment position numbers To avoid keep track new position numbers modifications made simply label different elements struc ture function label k parameter k integer position identifier Labels inserted within structure list aid locating structure elements without ferring position number The label function creates structure elements effect structure traversal process We simply use labels stored structure editing references rather using individual element po sitions Also labeling structure elements need unique Sometimes convenient give two elements label value particularly editing operations likely applied several positions structure gizmo structure setLinetype 1t1 eetPolylinecolourindex ae Modified element Jist position polyline ni ptsl j element oortinee ie element pointer deleting pointer Bet iinetype color attribute statement polyline n2 pts2 second polyline structure gizmo To illustrate use labeling create structure labeledGizmo following routine elements position numbers shown openStructure labeledGizmo label objectlLinetype setLinetype 1t1 label objectlcolor setPolylineColouriIndex 1cl1 label objectl polyline nl pts1 label object2Linetype setLinetype 1t2 label object2color setPolylineColourIndex 1c2 label object2 polyline n2 pts2 closeStructure Now want change primitives attributes structure referencing labels Although labeled every item structure labeling schemes could used depending type much editing anticipated For example attributes could lumped one label color attributes could given label identifier A label referenced function setElementPointerAtLabel k sets element pointer value parameter k The search label begins current element pointer position proceeds forward element list This means may reset pointer reopening structure since pointer always positioned last element reopened structure label searching done backward ele ment list If instance want change color second object structure labeledGizmo could reposition pointer start ele ment list reopening structure search appropriate calor tribute statement label iabeledGizme structure label objectiLinetype setLinetype 1tl label abjeccicolor setPolylineColourIndex 1c1 label objectl polyline nl ptsi label object2Linetype getLinatype 1t2 label object2Color setPolylineColourindex label object2 element __ pointer A set labeled objects associated position numbers stored structure labeledGizmo polyline n2 pts2 Section Editing Structures Chapter Steuctures Hierarchical Modeling openStructure iabeledGizmo setElementPointer setEditMode replace setElementPointerAtLabel object2Color offsetElementPointer setPolylineColourIndex 1c2New closeftructure Deleting item referenced label similar replacement opera tion illustrated last openStructure routine We first locate appropri ate label offset pointer For example color attribute sec ond polyline structure labeledGizmo deleted sequence openStructure labeledGizmo setElementPointer setEditMode replace setElementPointeraAtLabel object2Color offsetElementPointer deleteElement closeStructure We also delete group structure elements specified labels function deleteElementsBetweenLabels k1 k2 After set elements deleted element pointer set position k1 Copying Elements One Structure Another We copy entries specified structure open structure copyAllLElementsFromStructure id The elements structure id inserted open structure starting position immediately following element pointer regardless setting edit mode When copy operation complete element pointer set position last item inserted open structure An important use structures design representation different types systems Architectural engineering systems building lay outs electronic circuit schematics commonly put together using com puter aided design methods Graphical methods used also representing economic financial organizational scientific social environmental systems Representations systems often constructed simulate behavior system various conditions The outcome simulation serve instructional tool basis making decisions system To ef fective various applications graphics package must possess efficient methods constructing manipulating graphical system representations The creation manipulation system representation termed model ing Any single representation called model system Models sys tem defined graphically purely descriptive set equations defines relationships system parameters Graphical models often referred geometric models component parts system represented geometric entities lines polygons cir cles We concerned graphics applications use term model mean computer generated geometric representation system Model Representations shows representation logic circuit illustrating features com mon many system models Component parts system displayed geometric structures called symbols relationships symbols represented example network connecting lines Three standard symbols used represent logic gates Boolean operations The connecting lines define relationships terms input output flow left right system parts One symbol gate dis played two different positions within logic circuit Repeated positioning basic symbols common method building complex models Each occurrence symbol within model called instance symbol We one instance symbols Fig two instances symbol In many cases particular graphical symbols chosen represent parts system dictated system description For circuit models stan dard electrical logic symbols used With models representing abstract con cepts political financial economic systems symbols may con venient geometric pattern Information describing model usually provided combination geometric nongeometric data Geometric information includes coordinate positions locating component parts output primitives attribute func tions define structure parts data constructing connections parts Nongeometric information includes text labels algorithms de scribing operating characteristics model rules determining relationships connections component parts specified geometric data Model logic circuit Section Basic Modeling Concepts Chapter Structures Hierarchical Madeling There two methods specifying information needed construct manipulate model One method store infomation data struc ture table linked list The method specify information procedures In general model specification contain data structures procedures although models defined completely data struc tures others use procedural specifications An application perform solid modeling objects might use mostly information taken data structure define coordinate positions procedures A weather model hand may need mostly procedures calculate plots tem perature pressure variations As example combinations data strictures procedures used consider alternative model specifications logic circuit One method define logic components data table Table processing procedures used specify network connections made circuit operates Geometric data table include coor dinates parameters necessary drawing pasitioning gates These symbols could drawn polygon shapes could formed com binations straight line segments elliptical arcs Labels com ponent parts also included table aithough labels could omitted symbols displayed commonly recognized shapes Proce dures would used display gates construct connecting lines based coordinate positions gates specified order connect ing An additional procedure used produce circuit output binary values given input This procedure could set display final output could designed display intermediate vutput values il lustrate internal functioning circuit Alternatively might specify graphical information circuit model data structures The connecting lines well gates could de fined data table explicitly lists endpoints lines cir cuit A single procedure might display circuit calculate output At extreme could completely define model procedures using external data structures Symbol Hierarchies Many models organized hierarchy symbols The basic building blocks model defined simple geometric shapes appropriate type model consideration These basic symbols used form composite objects called modules grouped form higher level modules various components model In TABLE A DATA TABLE DEFINING THE STRUCTURE AND POSITION OF EACH GATE IN THE CIRCUIT OF FIG Symbol Geometric Identitying Code Description Label Gate Coordinates paramete Gate Gate Gate simplest case describe model one level hierarchy component parts For circuit exarnple assume gates posi tioned connected straight lines according connection rules specified gate description The basic symbols hier archical description logic gates Although gates could described hierarchies formed straight lines elliptical arcs text sort description would convenient one constructing logic cir cuits simplest building blocks gates For application interested designing different geometric shapes basic symbols could defined straight line segments arcs An example two level symbol hierarchy appears Here fa cility layout planned arrangement work areas Each work area fitted collection furniture The basic symbols furniture items worktable chair shelves file cabinet forth Higher order objects work areas put together different furniture organizations An stance basic symbol defined specifying size position orientation within work area For facility layout package fixed sizes objects position orientation need specified user Positions given coordinate locations work areas orientations specified rotations determine way symbols facing At second level hi erarchy work area defined specifying size position orientation within facility layout The boundary work area might fitted divider encloses work area provides aisles within facility More complex symbol hierarchies formed repeated grouping sym bol clusters higher level The facility layout could extended include symbol clusters form different rooms different floors build ing different buildings within complex different complexes widely sep arated physical locations Modeling Packages Some general purpose graphics systems GKS example designed accommodate extensive modeling applications Routines necessary handle modeling procedures data structures often set separate modeling packages graphics packages adapted interface mod eling package The purpose graphics routines provide methods gener A two level hierarchical description facility layout ating manipulating final output displays Modeling routines contrast provide means defining rearranging model representations terms symbol hierarchies processed graphics routines dis play Systems PHIGS Graphics Library GL Silicon Graphics equipment designed modeling graphics functions integrated one package Symbols available application modeling package defined structured according type application package designed handle Modeling packages designed either two dimensional three dimensional displays illustrates two dimensional layout used cir cuit design An example three dimensional molecular modeling shown three dimensional facility layout given Such three dimensional displays give designer better appreciation appearance layout In following sections explore characteristic features model ing packages methods interfacing integrating modeling functions graphics routines Two dimensional modeling layout used circuit design Courtesy Summagraphics One half stereoscopic image pair showing three dimensional molecular model DNA Data supplied Tamar Schlick NYU Wilma K Olson Rutgers University visualization Jerry Greenberg SDSC Courtesy Stephanie Sides San Diego Supercomputer Center A three dimensional view office layout Courtesy Intergraph Corporation A hierarchical model system created structures nesting structures one another form tree organization As structure placed hierarchy assigned appropriate transformation fit properly overall model One think setting office facil ity furniture placed various offices work areas turn placed departments forth hierarchy Local Coordinates Modeling Transformations In many design applications models constructed instances transformed copies geometric shapes defined basic symbol set Instances created positioning basic symbols within world coordinate refer ence model The various graphical symbols used application defined independent coordinate reference called modeling coordi nate system Modeling coordinates also referred local coordinates sometimes master coordinates illustrates local coordinate definitions Section Hierarchical Modeling Structures Chapter Structures Hierarchical Arrays Chair Coordi nates Modeling x Chair Chair Now Ww wowww two symbols could used two dimensional facility layout applica tion To construct component parts graphical model apply transfor mations local coordinate definitions symbols produce instances symbols world coordinates Transformations applied modeling coordi nate definitions symbols referred modeling transformations Typi cally modeling transformations involve translation rotation scaling posi tion symbol world coordinates transformations might also used applications Modeling Transformations We obtain particular modeling transformation matrix using geometric transformation functions discussed Chapter That set indi vidual transformation matrices accomplish modeling transformation input transformation parameters allow system build matrices In either case modeling package concatenates individual trans formations construct homogeneous coordinate modeling transformation trix MT An instance symbol world coordinates produced ap plying MT modeling coordinate positions P generate corresponding world coord inate positions P P MT Px D Structure Hierarchies As seen modeling applications typically require composition basic symbols groups called modules modules may combined Arrays tor Worktable Coordinates Worktable yWernsbn J Chair Coisuis Ler tipyiiticins 10 Workable fb Objects defined local coordinates higher level modules Such symbol hierarchies created em bedding structures within structures successive level tree We first define module structure list symbol instances transfor mation parameters At next level define higher level module list lower module instances transformation parameters This process continued root tree represents total picture world coordinates A structure placed within another structure function executeStruccure id Jo properly orient structure first assign appropriate local transforma tion structure id This done setLocalTransformation mlt type parameter mlt specifies transformation matrix Parameter type signed one following three values pre post replace indicate type matrix composition performed current modeling transformation matrix If simply want replace current transformation matrix Imt set parameter type value replace If want current matrix premultipled local matrix specifying function choose pre similarly value post The following code section illustrates se quence modeling statements set first instance object hier archy root node createStructure id0Q setLocalTransformation lmt type execureStructure idl closeStructure The procedure used instance objects within structure id0 set nodes level hierarchy Then create next level tree instancing objects within structure idl structures idO We repeat process tree complete The entire tree displayed posting root node structure id0 previ ous example In following pracedure illustrate hierarchical struc ture used model object void main enum Frame Wheel Bicycle int nPcs wePt2 pts pMatrix3 Routines generate geometry I extern void getWheelVertices int nPts wePt2 prs extern voic getframeVertices int npts wcPt2 pts Make wheel structure Section Hierarchical Modeling Structures getWheelVertices nPts prsi epenStructure Wreeli setLineWidth polyline nPts f ts closeStructure Make frame structure getFramevertices npts pts openStructure iFrame setLinewidth polyline inFts ts closeStructure Make bic openStructure Bic nclude frame executeStructure iFrame Position include rear wheel matrixSetIdenti mi L setLocalTransformationMatrix REPLACE executeStructure wheel Position iaclude front wheel mfl O setLocalTransformationmatrix REPLACE executeStructure Wheel closeStructure We delete hierarchy function deleteStructureNetwork 1d parameter id rererences root structure tree This deletes root node hierarchy structures placed root using executeStyucture function assuming thet hierarchy orga nized tree SUMMARY A structure also called segment object systems labeled group output statements associated attributes Bv designing pictures sets structures easily add delete manipwate picture components independently another As structures created entcred central structure store Structures displayed posting various output devices assigned priorities When two structures overlap struc ture higher pnority displayed structt lower prior itv We use workstation filters set attributes visibility high lighting structures With visibility filter turn display structure retaining structure list The highlighting filter used emphasize displayed structure blinking color high intensity patterns Various editing operations applied structures We reopen structures carry append insert delete operations Locations struc ture referenced element pointer In addition mdividually label primitives attributes structure The term model graphics applications refers graphical representa tion system Components system represented symbols de Exercises fined loca modeling coordinate reference frames Many models elec trical circuits constructed placing instances symbols selected locations Many medels constructed symbol hierarchies A bicycle instance constructed bicycle frame wheels The frame include parts handlebars pedals And wheels contain spokes rims tires We construct hierarchial model nesting structures For example set bike structure contains frame structure wheel structure Both frame wheel structures contain primitives additional structures We continue nesting structures con tain output primitives attributes As structure nested within another structure associated model ing transformation set nested structure This transformation de scribes operations necessary properly orient scale structure fit hierarchy REFERENCES Structure operations hierarchical modeling PHIGS discussed Hopgoed Duce Howard et al Gaskins Blake For information GKS segment operations see Hopgood Enderle et ai EXERCISES Write procedure creating manipulating intormation central structure store This procedure invoked functians openStructure deleteStructure changeStructurelIdent ifier Write routine tor storing information traversal state fist KR Write routine erasing specified structure raster system given coordi nate extents displayed structures scene Wrile procedure implement unsost Structure function raster system Write procedure implement deleteStructure function rasler system Write procedure implement highlighting blinking operation Write set routines editing structures Your routines provide ror fol lowing types editing appending insening replacing deleting structure ele ments Discuss model representations would appropriate far several distinctly difter ent kinds systems Also discuss graphical representations might imple mented tor system Fora logi circuit modeling applicatior give detailed graph tcal description standard logic symbols used constructing display Circuit 10 Develop modeling package electrical design allow user position elecrical symbols within circuit network Only translations reed applied place instance one electrical menu shapes network Once component placed network connected specified components straight line segments 11 Devwse two dimensional facility layout package A nenu furniture shapes Chapter Structures Hierarchical Modeling 12 pravided des gner place objects ary location within single room one level hierarchy Instance transformations limited translatiors reta tions Devise two dimensional facility layout package presents menu furniture shapes A two leve hierarchy used furniture items placed various work areas work areas arranged within larger area Instance transformations may limited translations rotations scaling could used furniture items different sizes available CHAPTER oe Graphical User Interfaces Interactive Input Methods T human computer interface systems invalves extensive graph ics regardless ot application Typically general systems consist windows pull pop menus icons pomting devices mouse spaceball positioning screen cursor Popular graphical user terfaces include X Windows Windows Macintosh OpenLook Motif These interfaces used variety applications including word processing spreadsheets databases file management systems presentation systems page layout systems In graphics packages specialized interactive dialogues designed individual applications engineering design architectural design data visualization drafting business graphs artist paintbrush pro grams For general graphics packages interfaces usually provided standard system An example X Window System interface PHIGS In chapter take look basic elements graphical user interfaces techniques interactive dialogues We also consider dialogues graphics packages particular allow us construct manipulate pic ture components select menu options assign parameter values select position text strings A variety input devices exists general graphics packages designed interface various devices provide exten sive dialogue capabilities For particular application user mioael serves basis design dialogue The user model describes system designed accom plish graph cs operations available states type objects displayed objects manipulated For example graphics system ta used tool architectural design model de scribes package used construct display views buildings positioning walls doors windows building components Similarly facilitv layout system objects could defined set furniture items tables chairs etc available operations would include posi tioning removing different pieces furniture within facility layout And circuit design prograni might use electrical logic elements objects positioning operations available adding deletirg elements within circuit design All information user dialogue presented language Section application In architectural design package means interactions The User Dialogue described architectural terms without reference particular data structures concepts may unfamiliar architect In follow ing sections discuss general considerations structuring user dialogue Windows Icons shows examples common window icon graphital interfaces Vi sual representations used objects manipulated application actions performed application objects A window system provides window manager interface user functions handling display manipulation windows Common functions window system opening closing windows reposition ing windows resizing windows display routines provide interior exterior clipping graphics functions Typically windows displayed sliders buttons menu icons selecting various window options Some general systems X Windows NeWS capable supporting multiple window managers different window styles accommo dated window manager The window managers designed particular applications In cases window system designed one specific application window style Icons representing objects furniture items circuit elements often referred application icons The icons representing actions ro tate magnify scale clip paste called control icons command icons Accommodating Multiple Skill Levels Usually interactive graphical interfaces provide several methods selecting ac tions For example options could selected pointing icon clicking different mouse buttons accessing pull pop menus typ ing keyboard commands This allows package accommodate users different skill levels For less experienced user interface easily understood oper ations detailed prompting effective one large compre c Examples screen layouts using window systems icons Courtesy Intergraph Corporation b Visual Numerics Inc c Sun Microsystems NM Caples Graphical ser lilertaces aac Interac e faput Methods hensive operation set A simplifies setot menus options easy learn remember user concentrate application uistead de tails intertace Sim ple point click operations arv often easiest experienced user applications package Therefore mterfaces typically pro vide means maskirg complexity package beginners use system without overwhelmed wrth much deta Experienced users hand typically want speed This means fewer prompts input trom kevboard sith multiple mouse ton clicks Actions selected function keys simultaneous combina tions keyboard keys ince experienced users remember shortcuts commonly used actions Similarly help tacuities designed several levels beginners carry detailed dialogue experienced neers reduce eliminate prompts messages Help facilities also include one tu torial applications provide users introduction capabilities use svstem Corns stencs An important design consideration interface consistenev For example particular icon shape always single mear ing rather serving represent different actions objects depending context Some ex amples consistency always placing menus relative positions user hunt particular option always using particu lar combination keyboard keys action always color coding sa color docs different meanings vifferent situations Generally complicated inconsistent model difficult user stand work effective way The objects operations provided designed farm minimum consistent set svstent easy learn os ersimplified point ditficult apply Minimizing Memarngaitien Operations interface also structured hat thev easy un derstand remem er Obscure complicated incorsistent abbreviated command formats lead confusion reduction effeetiveness ol use package One key button used ail delete operations example easier remember number different keys different tvpes delete Operations Icons window systems also aid minimizing memorization Different kinds information separated different windows nat rely memorization different information displays overlap We simply retain multiple information screen different windows switch back forth window areas cons used reduce mem orizing displaying casily recognizable shapes various objects actions To select particular action simply select icon resembles action Bas kup Brot andi oe A mechanism tor backing aborting sequence operations common teature cl interface Often operation canceled execution completed system restored state operation started With ability back point confi dently explore capabilities system knowing effects mis take erased Backup provided many forms A standard undo key command used cancel single operation Sometimes system backed several operations allowing us reset system specified point In system extensive backup capabilities inputs could saved back replay part session Sometimes operations undone Once deleted trash desktop wastebasket instance recover deleted files In case interface would ask us verify delete operation proceeding Good diagnostics error messages designed help determine cause error Additionally interfaces attempt minimize error possibilities anticipating certain actions could lead error Examples allowing us transform object position delete object ob ject selected allowing us select line attribute selected ob ject line allowing us select paste operation nothing clipboard Feedback Interfaces designed carry continual interactive dialogue informed uf actions progress step This particularly important response time high Without feedback might begin wonder system whether input given As input received system normally provides type sponse An object highlighted icon appears message displayed This informs us input received also tells us system If processing completed within seconds several feedback messages might displayed keep us informed progress system In cases could flashing message indicating system still working input request It may also possible system dis play partial results completed final display built piece time The system might also allow us input commands data one instruction processed Feedback messages normally given clearly enough lit tle chance overlooked overpowering concentration interrupted With function keys feedback given audible click lighting key pressed Audio feedback advantage use screen space need take attention work area receive message When messages displayed screen fixed message area used always know look mes sages In cases may advantageous place feedback messages work area near cursor Feedback also displayed different colors distinguish displayed objects To speed system response feedback techniques chosen take ad vantage operating characteristics type devices use A typical raster feedback technique invert pixel intensities particularly making menu selections Other feedback methods include highlighting blinking color changes Section The User Dialogue No Chapter Graphical User Interfaces Interactive Input Methods Special symbols designed different types feedback For example cross frowning face thumbs symbol often used indicate error blinking work sign used indicate processing progress This type feedback effect experienced user beginner may need detailed feedback clearly dicates system also user input next With types input echo feedback desirable Typed characters displayed screen input detect correct er rors immediately Button dial input echoed way Scalar values selected dials displayed scales usually echoed screen let us check input values accuracy Selection coordinate points echoed cursor symbol appears selected position For precise echoing selected positions coordinate values dis played screen Graphics programs use several kinds input data Picture specifications need values coordinate positions values character string parameters scalar values transformation parameters values specifying menu options values identification picture parts Any input devices discussed Chapter used input various graphical data types de vices better suited fur certain data types others To make graphics pack ages independent particular hardware devices used input functions structured according data description handjed function This approach provides logical input device classification terms kind data input device Logical Classitication Input Dey ices The various kinds input data summarized following six logical de vice classifications used PH GS GKS LOCATOR device specifying coordinate position x STROKE device specifying series coordinate positions STRING device specifying text input VALUATOR device specifying scalar value CHOICE device selecting menu options PICK device ter selecting picture components In packages single logical device used tur locator stroke operations Some mechanism switch used indicate whether one coordinate position stream positions input Each six logical input device classifications van implemented hardware devices hardware devices convenient certain kinds data others A device pointed screen posi tion convenient entering coordinate data kevboard exam ple In following sections discuss vanous physical devices used provide input ithin logical classifications Locator Devices A standard method interactive selection coordinate point position ing screen cursor We mouse joystick trackball spaceball thumbwheels dials digitizer stylus hand cursor cursor posi tioning device When screen cursor desired location button acti vated store coordinates screen point Keyboards used locator input several ways A general purpose keyboard usually four cursor control keys move screen cursor left right With additional four keys move cursor diag onally well Rapid cursor movement accomplished holding se lected cursor key Alternatively joystick joydisk trackball thumbwheels mounted keyboard relative cursor movement As last resort could actually type coordinate values slower process also quires us know exact coordinate values Light pens also used input coordinate positions spe cial implementation considerations necessary Since light pens operate de tecting light emitted screen phosphors nonzero intensity level must present coordinate position selected With raster system paint color background onto screen As long black areas present light pen used select screen position When pos sible eliminate black areas display vector system ex ample light pen used locator creating small light pattern pen detect The pattern moved around screen finds light pen Stroke Devices This class logical devices used mput sequence coordinate positions Stroke device input equivalent multiple calls locator device The set input points often used display line sections Many physical devices used generating locator input used stroke devices Continuous movement mouse trackball joystick tablet hand cursor translated series input coordinate values The graphics tablet one common stroke devices Button activation used place tablet continuous mode As cursor moved across tablet surface stream coordinate values generated This process used pain brush systems allow artists draw scenes screen engineering systems layouts traced digitized storage String Devices The primary physical device used string input keyboard Input charac ter strings typically used picture graph labels Other physical devices used generating character patterns text writing mode For input individual characters drawn screen stroke locator type device A pattern recognition program interprets characters using stored dicticnary predefined patterns Valuator Devices This logical class devices employed graphics systems input scalar val ues Valuators used setting various graphics parameters rotation Section B Input Graphical Data Chapter Graphical User Interfaces interactive Input Methods angle scale factors setting physical parameters associated par ticular application temperature settings voltage levels stress factors etc A typical physical device used provide valuator input set control dials Floating point numbers within predefined range input rotating dials Dial rotations one direction increase numeric input value opposite rotations decrease numeric value Rotary potentiometers convert dial rotation corresponding voltage This voltage translated real ridinber within defined scalar range Instead dials slide potentiometers sometimes used convert linear movements scalar values Any keyboard set numeric keys used valuator device A user siriply types numbers directly floating point format although slower iriethod using dials slide potentiometers Joysticks trackballs tablets interactive devices adapted valuator input interpreting pressure movement device relative scalar range For one direction movement say left right increasing scalar values input Movement opposite direction decreases scalar input value Another technique providing valuator input display sliders tons rotating scales menus video monitor illustrates possibilities scale representations Locator input mouse joystick spaceball device used select coordinate position display screen coordinate position converted numeric input value As feedback mechanism yser selected position scale marked symbol Numeric values may also echoed somewhere screen confirm selections Scales displayed video monitor interactive selection parameter values In display sliders provided selecting scalar values superellipse parameters s1 s2 individual R G B color values In addition small circle positioned color wheel selection combined RGB color buttons activated make small changes color values Choice Devices Graphics packages use menus select programming options parameter values object shapes used constructing picture A choice device defined one enters selection list menu alternatives Com monly used choice devices set buttons cursor positioning device mouse trackball keyboard cursor keys touch panel A function keyboard button box designed stand alone unit often used enter menu selections Usually button programmable function altered suit different applications Single purpose tons fixed predefined functions Programmable function keys fixed function buttons often included standard keys keyboard For screen selection listed menu options use cursor control de vices When coordinate position x selected compared coordi nate extents listed menu item A menu item vertical horizontal boundaries coordinate values Xpin Xmax Yminv ANd Ymax selected input coordinates x satisfy inequalities Xmin X S Xmaxs Ymin Ymax For larger menus options displayed time touch panel commonly used As cursor control device mouse selected screen position compared area occupied menu choice Alternate methods choice input include keyboard voice entry A standard keyboard used type commands menu options For method choice input abbreviated format useful Menu listings numbered given short identifying names Similar codings used voice input systems Voice input particularly useful number op tions small less Pick Devices Graphical object selection function logical class devices Pick de vices used select parts scene transformed edited way Typical devices used object selection menu se lection cursor positioning devices With mouse joystick position cursor primitives displayed structure press selection button The position cursor recorded several levels search may necessary locate particular object selected First cursor position compared coordinate extents various structures scene If bounding rectangle structure contains cur sor coordinates picked structure identified But two structure areas contain cursor coordinates checks necessary The coordinate extents individual lines structure checked next If cursor coordinates determined inside coordinate extents one line example identified picked object Otherwise need addi tional checks determine closest line cursor position One way find closest line cursor position calculate dis tance squared cursor coordinates x line segment whose bounding rectangle contains cursor position For line end points x x y2 distance squared x line calculated Section Input Graphical Data Distances line segments pick position _ Axy Aye P Ax Ay Ax x x Ay Various approximations used speed distance calculation identification schemes used Another method finding closest line cursor position spec ify size pick window The cursor coordinates centered win dow candidate lines dipped window shown By making pick window small enough ensure single line cross window The method selecting size pick window de scribed Section consider parameters associated various input functions A methed avoiding calculation pick distances window clipping intersections highlight candidate structures allow user resolve pick ambiguity One way highlight structures overlap cursor position one one The user signals desired structure highlighted An alternative cursor positioning use button input highlight suc cessive structures A second button used stop process desired structure highlighted If many structures searched way process speeded additional button used help identify structure The first button initiate rapid successive highlighting struc tures A second button used stop process third button used back slowly desired structure passed op erator pressed stop button Finally could use keyboard tu type structure names This straightforward less interactive pick selection method Descriptive names used help user pick process method several drawbacks It generally slower interactive picking screen user probably need prompts remember various structure names In addition picking structure subparts keyboard difficult picking subparts screen w e p A pick window centered pick Tyra coordinates x used resolve w _ pick object overlaps Graphical input functions set allow users specify following options Which physical devices provide input within particular logical clas sification example tablet used stroke device How graphics program devices interact input mode Either program devices initiate dat entry operate si multaneously When data input device used time deliver particular input type specified data variables Input Modes Functions provide input structured operate various input modes specify program input devices interact Input could initi ated program program input devices could operating simultaneously data input could initiated devices These three input modes referred request mode sample mode event mode In request mode application program initiates data entry Input values requested processing suspended required values received This input mode corresponds typical input operation general program ming language The program input devices operate alternately Devices put wait state input request made program waits data delivered In sample mode application program input devices operate inde pendently Input devices may operating time program processing data New input values input devices stored placing previously input data values When program requires new data samples current values input devices In event mode input devices initiate data input application pro gram The program input devices operate concurrently input devices deliver data input queue All input data saved When program requires new data goes data queue Any number devices operating time sample event modes Some operating sample mode others operating event mode But one device time providing input request mode An input mode within logical class particular physical device operat ing specified workstation declared one six input class functions form set Moce ws deviceCode inputMode echoFlaq deviceCode positive integer inputMode assigned one val ues request sampl2 event parameter echoFlag assigned either value echo value noecho How input data echoed display de vice deterrained parameters set othex input functions described later section Section Input Functions Chapter TABLE Graphical User Interfaces ASSIGNMENT OF INPUT DEVICE Interactive Input Methods CODES Device Code Physical Device Type Keyboard Graphics Tablet Mouse lovstick Trackball Button Tu e wn Device code assignment installation dependent One possible assignment device codes shown Table Using assignments table could make following declarations setLocatorMode sample noecho setTextMode request echo setPickMode event echo Thus graphics tablet declared locator device sample mode workstation input data feedback echo keyboard text device request mode workstation input echo mouse declared pick device event mode workstation input echo Request Mode Input commands used mode correspond standard input functions high level programming language When ask input request mode processing suspended input received After device assigned request mode discussed preceding section input requests made device using one six logical class functions represented following request ws deviceCode status Values input function workstation code device code Re turned values assigned parameter status data parameters cor responding requested logical class A value ok none returned parameter status according va lidity input data A value none indicates input device acti vated produce invalid data For locator input could mean coordinates range For pick input device could acti vated pointing structure Or break button input device could pressed A returned value none used end data signal terminate programming sequence Locator Stroke Input Request Mode The request functions two logical input classes requestLocator ws devCode status viewIndgex ot regquestStroke ws devCcce nMax status viewlIndex prs For locator input pt world coordinate position selected For stroke input pts list n coordinate positions parameter nMax gives maxi mum number points go input list Parameter viewIndex signed two dimensional view index number Determination world coordinate position two step process The physical device selects point device coordinates usually video dis play screen inverse workstation transformation performed obtain corresponding point normalized device coordinates Then inverse window viewport mapping carried get viewing co ordinates world coordinates Since two cr views may overlap device correct viewing transformation identified according view transformation input priority number By default view index number lower number higher priority View index highest priority We change view priority relative another reference viewing transformation setViewTransformationInputPriority ws viewIndex refViewIndex prior ty viewIndex identifies viewing transformation whose priority changed refViewIndex identifies reference viewing transformation parameter priority assigned either value lower value higher For example alter priority first four viewing transformations workstation shown sequence functions setViewTransformationInputPriority higher set ViewTransformationInputPriority lower String Input Request Mode Here request input function reguestString ws devCode status nChars str Parameter str function assigned input string The number charac ters string given parameter nChars Original Final Priority Ordering Priority Ordering Rearranging viewing priorities Section input Functions Chapter Graphical User Interfaces Inleractive Input Methods Valuator Input Request Mode A numerical value input request mode requestValuator ws devCode status value Parameter value cai assigned real number value Choice Input Request Mode We make menu selection following request function requestChoice ws devCode status itemNum Parameter itemNum assigned positive integer value corresponding menu item selected Pick Input Request Mode For mode obtain structure identifier number function requestPick ws devCode maxPathDepth status pathDepth pickPath Parameter pickPath list information identifying primitive selected This list contains structure name pick identifier primitive ele ment sequence number Parameter pickDepth number levels returned pickPath maxPathDepth specified maximum path depth included pickPath Subparts structure labeled pick input following function setPickIdentifier pickID An example sublabeling structure creation given following programming sequence openStructure 1d k k n k setPickIdentifier k closeStructure Picking structures subparts structures also controlled work station filters Section Objects picked invisible Also set ability pick objects independently visibility This accom plished pick filter setPickFilter ws devCode pickables nonp ckabes set pickabies contains names objects structures primi tives may want select specified pick device Similarly set nonpickables contains names objects want avail able picking input device Sample Mode Once sample mode set one physical devices data input zins without waiting program direction If joystick designated ocator device sample mode coordinate values current position activated joystick immediately stored As activated stick position changes stored values continually replaced coordinates current stick position Sampling current values physical device mode begins sample command encountered application program A locator device sampled one six logical class functions represented following sample ws deviceCode Some device classes status parameter sample mode Other input parameters request mode As example sample input suppose want translate rotate selected object A final translation position object obtained locator rotation angle supplied valuator device demon strated following statements sampleLocator wsl devl viewindex pr sampleValuator ws2 dev2 angle Event Mode When input device placed event mode program device operate simultaneously Data input device accumulated event queue input queue All input devices active event mode enter data referred events single event queue device entering data values generated At one time event queue contain mixture data types order input Data entered queue identi tied according logical class workstation number physical device code An application program directed check event queue input function awaitEvent time ws deviceClass dev ceCode Parameter time used set maximum waiting time application pro gram lf queue happens empty processing suspended either number seconds specified time elapsed input arrives Should waiting time run data values input parameter aeviceClass assigned value none When time given value program checks queue immediately returns processing queue empty Section Input Functions Chapter Graphical User Interfaces Interactive Input Methods If processing directed event queue awaitEvent function queue empty first event queue transferred current event record The particular logical device class locator stroke made input stored parameter deviceClass Codes identifying particular workstation physical device made input stored pa rameters ws deviceCode respectively To retrieve data input current event record event mode input function used The functions event mode similar request sample modes However workstation device code parameters neces sary commands since values parameters stored data record A user retrieves data get For example ask locator input invoke function getLocator viewIndex pt In following program section give example use awaitEvent get functions A set points tablet device code workstation input plot series straight line segments connecting input coordinates setStrokeMode event noecho awaitEvent ws deviceClass deviceCode deviceClass stroke getStroke nMax viewIndex n pts polyline n pts The repeat loop bypasses data devices might queue If tablet active input device event mode loop necessary A number devices used time event mode rapid interactive processing displays The following statements plot input lines tablet attributes specified button box setPolylineIndex set tablet stroke device event mode setStrokeMode evenz noecho set buttons choice device event mode setChoiceMode event noecho awaitEvent ws deviceClass deviceCode deviceClass choice getChoice status option setPolylineIndex option else deviceClass stroke getStroke nMax viewIndex n pts polyline n pts deviceClass none Some additional housekeeping functions used event mode Func tions clearing event queue useful process terminated new application begin These functions set clear entire queue clear data associated specified input devices workstations Concurrent Use Input Modes An example simultaneous use input devices different modes given following procedure An object dragged around screen mouse When final position selected button pressed terminate movement sbject The mouse positions obtained sample mode button input sent event queue drags object response mouse input terminate processing button press setLocatorMode sample echo setChoiceMode event noecho sampleLocator viewIndex pt trarslate object centroid position pt draw awaitEvent ws class code class choice Quite number parameters set input devices using nitial ize function logical class initialize ws deviceCode ps coordExt dataRec Parameter pe prompt echo type parameter coordExt assigned set four coordinate values parameter dataRec record various con trol parameters For locator input values assigned prompt echo parameter pe installation defined pe crosshair cursor centered current position pe line initial position current position pe rectangle defined current initial points Several options also available For structure picking following options pe highlight picked primitives pe highlight primitives value pick id pe highlight entire structure well several others Section initial Valves Input Device Parameters Chapter Graphical User Interfaces Interactive Input Methods When echo input data requested displayed within bounding rectangle specified four coordinates parameter coordExt Additional options also set parameter dataRec For example set following size pick window minimum pick distance type size cursor display type structure highlighting pick op rations range min max valuator input resolution scale valuator input plus number options There several techniques incorporated graphics packages aid interactive construction pictures Various input options provided coordinate information entered locator stroke devices ad justed interpreted according selected option For example restrict lines either horizontal vertical Input coordinates establish po sition boundaries objects drawn used rearrange pre viously displayed objects Basic Positioning Methods Coordinate values supplied locator input often used positioning methods specify location displaying object character string We teractively select coordinate positions pointing device usually posi tioning screen cursor Just object text string positioning pe formed depends selected options With text string example scTeen point could taken center string position start end posi tion string string positioning options discussed Chapter For tines straight line segments displayed two se lected screen positions As aid positioning objects numeric values selected positions echoed screen Using echoed coordinate values guide make adjustments selected location obtain accurate positioning Constraints With applications certain types prescribed orientations object align ments useful A constraint rule altering input coordinate values produce specified orientation alignment displayed coordinates There many kinds constraint functions specified com mon constraint horizontal vertical alignment straight lines This type constraint shown Figs useful forming network layouts With constraint create horizontal vertical lines without worrying precise specification endpoint coordinates Section interactive Picture Construction Techniques 3E Select First Select Endpoint Position Second Endpoint Position Along Approximate Horizontal Path Horizontal line constraint I _ Select First Select Endpoint Position Second Endpoint Position Along Approximate Vartical Path Vertical line constraint A horizontal vertical constraint implemented determining whether two input coordinate endpoints nearly horizontal nearly vertical If difference values two endpoints smaller difference x values horizontal line displayed Otherwise vertical line drawn Other kinds constraints applied input coordinates produce variety alignments Lines could constrained particular slant input coordinates could constrained lie along predefined paths circular arcs Grids Another kind constraint grid rectangular lines displayed part screen area When grid used input coordinate position rounded nearest intersecton two grid lines illustrates line drawing grid Each two cursor positions shifted nearest grid intersection point line drawn grid points Grids facilitate object con structions new line joined easily previously drawn line selecting position near endpoint grid intersection one end dis played line Seiect First Endpoint Position Near Grid Intersection Select Position Near Second Grid Intersection Line drawing using grid Chapter Graphical User Interfaces Interactive Input Methods Gravity field around line Any selected point shaded area shifted position line Spacing grid lines often option set user Similarly grids turned sometimes possible use par tial grids grids different sizes different screen areas Gravity Field In construction figures sometimes need connect lines positions tween endpoints Since exact positioning screen cursor connecting point difficult graphics packages designed convert input position near line position line This conversion input position accomplished creating gravity field area around line Any selected position within gravity field line moved gravitated nearest position line A gravity field area around line illustrated shaded boundary shown Areas around endpoints enlarged make easier us connect lines endpoints Selected positions one circular areas gravity field attracted endpoint area The size gravity fields chosen large enough aid positioning small enough reduce chances overlap lines If many lines displayed gravity areas overlap may difficult specify points correctly Normally boundary gravity field displayed Rubber Band Methads Straight lines constructed positioned using rubber band methods stretch line starting position screen cursor moved demonstrates rubber band method We first select screen posi tion one endpoint line Then cursor moves around line displayed start position current position cursor When finally select second screen position line endpoint set Rubber band methods used construct position objects sides straight lines demonstrates rubber band construction rec tangle shows rubber band circle construction ao ee f Qo SN ee Ne Select As Cursor Line Follows First Moves A Line Cursor Position Line Stretches Second Endpoint Initial Endpoint Is Point Selected Rubber band method drawing positioning straight line segment Select Rectangle Select Final Pasition Stretches Out Position One Corner As Cursor Moves Opposite Corner Rectangle Ractangle Rubber band method constructing rectangle Dragging A technique often used interactive picture construction move ob jects position dragging screen cursor We first select ob ject move cursor direction want object move se lected object follows cursor path Dragging objects various positions scene useful applications might want explore different possibil ities selecting final location Painting Drawing Options sketching drawing painting come variety forms Straight lines polygons circles generated methods discussed pre vious sections Curve drawing options provided using standard curve shapes circular arcs splines freehand sketching procedures Splines interactively constructed specifying set discrete screen points give general shape curve Then system fits set points polynomial curve In freehand drawing curves generated follow ing path stylus graphics tablet path screen cursor video monitor Once curve displayed designer alter curve shape adjusting positions selected points along curve path JOO Select Position Circle Stretches Select Circle Out Final Radius Center Cursor Moves Circle Constructing circle using rubber band method Chapter Graphical User Interfaces Interactive Input Ss os ET il cal nl A screen layout showing one type interface artist painting package Courtesy Thomson Digital Image Line widths line styles attribute options also commonly found painting drawing packages These options implemented methods discussed Chapter Various brush styles brush patterns color combinations object shapes surface texture patterns also available many systems particularly designed artist workstations Some paint systems vary line width brush strokes according pressure artist hand stylus shows window menu system used painting package allows artist select variations specified ob ject shape different surface textures variety lighting conditions scene A typical virtual reality environment illustrated Interactive input accomplished environment data glove Section ca pable grasping moving objects displayed virtual scene The computer generated scene displayed head mounted viewing system Section stereoscopic projection Tracking devices compute pasition ori entation headset data glove relative object positions scene With system user move scene rearrange object posi tions data glove Another method generating virtual scenes display stereoscopic pro jections raster monitor two stereoscopic views displayed alter nate refresh cycles The scene viewed stereoscopic glasses Inter active object manipulations accomplished data glove tracking device monitor glove position orientation relative posi tion objects scene Using head tracking stereo display called BOOM Fake Space Labs Inc Dataglove VPL Inc researcher interactively manipulates exploratory probes unsteady flow around Harrier jet airplane Software developed Steve Bryson data Harrier Courtesy Sam Uselton NASA Ames Research Center SUMMARY A dialogue applications package designed user model describes furictions applications package All elements di alogue presented language applications Examples electrical architectural design packages Graphical interfaces typically designed using windows icons A window system provides window manager interface menus icons allows users open close reposition resize windows The window system contains routines carry operations well various graphics operations General window systems designed support multiple window managers Icons graphical symbols designed quick iden tification application processes control processes Considerations user dialogue design ease use clarity flexibil ity Specifically graphical interfaces designed maintain consistency user interaction provide different user skill levels In addition interfaces designed minimize user memorization provide sufficient feedback provide adequate backup error handling capabilities Input graphics programs come many different hardware de vices one device providing general class input data Graphics input functions designed independent particular input hardware use adopting logical classification input devices That devices classified according type graphics input rather Summary Chapter Graphical User interfaces Interactive Input Methods hardware designation mouse tablet The six logical devices com mon use locator stroke string valuator choice pick Locator devices devices used program inpul single coordinate position Stroke de vices input stream coordinates String devices used input text Valuator devices input devices used enter scalar value Choice devices enter menu selections And pick devices input structure name Input functions available graphics package defined three input modes Request mode places input control application program Sample mode allows input devices program operate concur rently Event mode allows input devices initiate data entry control pro cessing data Once mode chosen logical device class particular physical device used enter class data input functions program used enter data values program An application pro gram make simultaneous use several physical input devices operating different modes Interaclive picture construction methods commonly used variety applications including design painting packages These methods provide users capability position objects constrain figures predefined orientations alignments sketch figures drag objects around screen Grids gravity fields rubber band methods used aid posi tioning picture construction operations REFERENCES Guidelines user interface design presented Apple Bleser Digital OSF MOTIF For information X Window Svstem see Young Cutler Gilly Reilly Additional discussions interface design found Phillips Goodman Spence Locdding Swezey Davis Carroll arrithers Foley Wallace Chan Good et al The evolution concept logical virtual input devices discussed Wallace Rosenthal et al An early discussion input device classifications found Newman Input operations PHIGS found Hopgood buce Howard et al Gaskins Blake For iniormation GKS input functions see Hopgood et al ana Enderle ansy Pratt EXERCISES Select graphics application witn familiar set user model serve basis design user interface tor yraphics applications area List possible help facilines provided user interface discuss types help would appropriate different levels ef users Summarize possible ways handling backup errors State approaches Suitable foy beginner better suited experienced user List possible iormats presenting menus user ard explain whal cir cumstances might appropriate Discuss alternatives feedback terms various Jevels users List functions must performed window manager handling screen layouts multiple ovedapping windows 10 11 12 21 22 23 24 25 26 27 Set design ior window manager package Mesign user interface painting program Design user interface two level hierarchical modeling package For area familiar design ac umplete user interface graph ics package providing capabilities users area Develop program allows objects positioned screen using locator device An object menu geometric shapes presented user se lect object placement position The program allow number ob jects positioned terminate signal ts given Extend program previous exercise selected objects scaled rotated positioning The transformation chcices transformation parameters presented user menu options Write program allows user interactively sketch pictures using stroke de vice Discuss methods could employed pattern recognition procedure match input characters stored library shapes Write routine displays linear scale slider screen allows nu meric values selected positioning slider along scale line The number value selected echoed box displayed near linear scale Write routine displays circular scale pointer slider moved around circle select angles degrees The angular value selected ta echoed box displayed near circular scale Write drawing program allows users create picture set line segments drawn specified endpoints The coordinates individual line segments selected locator device Write drawing package allows pictures created straight line segments drawn specified endpoints Set gravity field around line pic lure aid connecting new lines existing lines Modify drawing package previous exercise allows lines con strained horizontally vertically Develop drawing package display optional grid pattern selected screen positions rounded grid intersections The package provide line drawing capabilities line endpoinis selected locator device Write routine allows designer create picture sketching straight lines rubber band method Write drawing package allows straight lines rectangles circles con structed rubber band methods Write program allows user design picture menu basic shapes dragging selected shape position pick device Design implementation input functions request mode Design implementation sample mode input functions Design implementation input functions event mode Set general implementation input functions request sample event modes Fxercises CHAPTER Three Dimensional Concepts ade W hen model display three dimensional scene many considerations must take account besides including coordinate values third dimension Object boundaries constructed various combinations plane curved surfaces sometimes need specify information object interiors Graphics packages often provide routines displaying internal components cross sectional views solid ob jects Also geometric transformations involved three dimen sional space two dimensions For example rotate object axis spatial orientation three dimensional space Two dimensional rotations hand always around axis perpendicular xy plane Viewing transformations three dimensions much com plicated many parameters select specifying three dimensional scene mapped display device The scene descrip tion must processed viewing coordinate transformations projec tion routines transform three diniensional viewing coordinates onto two di mensional device coordinates Visible parts scene selected view must identified surface rendering algorithms must applied realistic ren dering scene required To obtain display three dimensional scene modeled world coordinates must first set coordinate reference camera This co ordinate reference defines position orientation plane cam era film plane want use display view ob jects scene Object descriptions transferred camera reference coordinates projected onto selected display plane We display aan Display TT Prone fogure dd Ps Coordinate reference obta ning particular view ofa _ three dimensional scene objects wireframe outline form apply lighting surface rendering techniques shade visible surfaces Parallel Projection One method generating view solid object project points ob ject surface along parallel lines onto display plane By selecting different viewing positions project visible points object onto display plane obtain different two dimensional views object In parallel projection parallel lines world coordinate scene project parallel lines two dimensional display plane This technique used engineer ing architectural drawings represent object set views maintain relative proportions object The appearance solid object reconstructured major views Wireframe display three objects back lines removed commercial database object shapes Each object database defined grid coordinate points viewed wireframe form surface rendered form Courtesy Viewpoint DataLabs tc Top Side Frant Three parallel projection views object showing relative proportions different viewing positions Perspective Projection Another method generating view three dimensional scene project points display plane along converging paths This causes objects farther viewing position displayed smaller objects size nearer viewing position In perspective projection parallel lines scene parallel display plane projected converging lines Scenes displayed using perspective projections appear realistic since way eyes camera lens form images In perspective projection view shown parallel lines appear converge distant point background distant objects appear smaller objects closer viewing position Depth Cueing With exceptions depth information important easily iden tify particular viewing direction front back displayed objects illustrates ambiguity result wireframe object displayed without depth information There several ways include depth information two dimensional representa tion solid objects A simple method indicating depth wireframe displays vary intensity objects according distance viewing position Fig ure shows wireframe object displayed depth cueing The lines closest Section Three Dimensional Display Methods A perspective projection view airport scene Courtesy Evans Sutherland b The wireframe representation pyramid contains depth information indicate whether viewing direction b downward position apex c upward position base A wireframe object displayed depth cueing intensity lines decreases front back object viewing position displayed highest intensities lines farther away displayed decreasing intensities Depth cueing applied choosing maximum minimum intensity color values range dis tances intensities vary Another application depth cueing modeling effect atmos phere perceived intensity objects More distant objects appear dimmer us nearer objects due light scattering dust particles haze smoke Some atmospheric effects change perceived color object model effects depth cueing Visible Line Surface Identification We also clarify depth relationships wireframe display identifying visi ble lines way The simplest method highlight visible lines display different color Another technique commonly used engi neering drawings display nonvisible lines dashed lines Another ap proach simply remove nonvisible lines Figs b c But removing hidden lines also removes information shape back surfaces object These visible line methods also identify visible surfaces objects When objects displayed color shaded surfaces apply surface rendering procedures visible surfaces hidden surfaces obscured Some visible surface algorithms establish visibility pixel pixel across viewing plane algorithms determine visibility object surfaces whole Surface Rendering Added realism attained displays setting surface intensity objects according lighting conditions scene according assigned sur face characteristics Lighting specifications include intensity positions light sources general background illumination required scene Sur face properties objects include degree transparency rough smooth surfaces Procedures applied generate cor rect itumination shadow regions scene In surface rendering methods combined perspective visible surface identification gen erate degree realism displayed scene Exploded Cutaway Views Many graphics packages allow objects defined hierarchical structures internal details stored Exploded cutaway views objects used show internal structure relationship object parts shows several kinds exploded displays mechanical de sign An alternative exploding object component parts cut away view removes part visible surfaces show internal structure Three Dimensional Stereascepic Views Another method adding sense realism computer generated scene display objects using either three dimensional stereoscopic views As seen Chapter three dimensional views obtained reflecting Section Three Dimensional Display Methods _A realistic room display achieved stochastic ray tracing methods apply perspective projection surface texture mapping illumination models Courtesy John Snyder Jed Lengyel Devendra Kalra A Barr California Institute Technology Copyright Caltech A fully rendered assembled turbine display also viewed b exploded wireframe display c surface rendered exploded display surface rendered color coded exploded display Courtesy Autodesk Inc raster image vibrating flexible mirror The vibrations mirror syn chronized display scene CRT As mirror vibrates focal length varies point scene projected position corre sponding depth Stereoscopic devices present two views scene one left eye right eye The two views generated selecting viewing po sitions correspond two eye positions single viewer These two views displayed alternate refresh cycles raster monitor viewed glasses alternately darken first one lens synchronization monitor refresh cycles Chapter Three Dimensional Concepts Color coded cutaway view lawn mower engine showing structure relationship internal components Courtesy Autodesk Inc Design three dimensional packages requires considerations necessary two dimensional packages A significant difference two packages three dimensional package must include methods mapping scene descriptions onto flat viewing surface We need consider im plementation procedures selecting different views using different pro jection techniques We also need consider surfaces solid objects modeled visible surfaces identified transformations ob jects performed space describe additional spatial proper ties introduced three dimensions Later chapters explore consid erations detail Other considerations three dimensional packages straightforward extensions two dimensional methods World coordinate descriptions extended three dimensions users provided output input rou tines accessed specifications polyline3 n wePoints fillarea3 n wcPoints text3 wePoint string getLocator3 wcPoint translate3 translateVector matrixTranslate points vectors specified three components transforma tion matrices four rows four columns Two dimensional attribute functions independent geometric con siderations applied two dimensional three dimensional appli cations No new attribute functions need defined colors line styles marker Modeling Coordinates World Coordinates Projection Coordinates Pipeline transforming view world coordinate scene device coordinates attributes text fonts Attribute procedures orienting character strings ever need extended accommodate arbitrary spatial orientations Text tribute routines associated vector require expansion include z co ordinate data strings given spatial orientation Area filling routines positioning pattern reference point map ping patterns onto fill area need expanded accommodate various ori entations fill area plane pattern plane Also two di mensional structure operations discussed earlier chapters carried three dimensional package shows general stages three dimensional transformation pipeline displaying world coordinate scene After object definitions converted viewing coordinates projected display plane scan conversion algorithms applied store raster image Device Coordinates CHAPTER Three Dimensional Object Representations raphics scenes contain many different kinds objects trees flowers clouds rocks water bricks wood paneling rubber paper marble steel glass plastic cloth mention So itis probably surprising one method use describe objects include characteristics different materials And produce realistic displays scenes need use representations accurately model object characteris tics Polygon quadric surfaces provide precise descriptions simple Eu clidean objects polyhedrons ellipsoids spline surfaces construc tion techniques useful designing aircraft wings gears engineer ing structures curved surfaces procedural methods fractal constructions particle systems allow us give accurate representations clouds clumps grass natural objects physically based modeling methods using systems interacting forces used describe nonrigid behavior piece cloth glob jello octree encodings used repre sent internal features objects obtained medical CT images isosurface displays volume renderings visualization techniques applied three dimensional discrete data sets obtain visual representa tions data Representation schemes solid objects often divided two broad categories although representations fall neatly one two categories Boundary representations B reps describe three dimen sional object set surfaces separate object interior environ ment Typical examples boundary representations polygon facets spline patches Space partitioning representations used describe interior properties partitioning spatial region containing object set small nonoverlapping contiguous solids usually cubes A common space par titioning description three dimensional object octree representation In chapter consider features various representation schemes used applications The commonly used boundary representation three dimensional graphics object set surface polygons enclose object interior Many graphics systems store object descriptions sets surface polygons This simplifies speeds surface rendering display objects since surfaces described linear equations For reason polygon descrip Wireframe representation cylinder back hidden lines removed tions often referred standard graphics objects In cases polyg onal representation one available many packages allow objects described schemes spline surfaces converted polygonal representations processing A polygon representation polyhedron precisely defines surface fea tures object But objects surfaces tesselated tiled produce polygon mesh approximation In surface cylinder repre sented polygon mesh Such representations common design solid modeling applications since wireframe outline displayed quickly give general indication surface structure Realistic renderings pro duced interpolating shading patterns across polygon surfaces eliminate reduce presence polygon edge boundaries And polygon mesh ap proximation curved surface improved dividing surface smaller polygon facets Polygon Tables We specify polygon surtace set vertex coordinates associated tribute parameters As information polygon input data placed tables used subsequent processing display manipu lation objects scene Polygon data tables organized two groups geometric tables attribute tables Geometric data tables contain ver tex coordinates parameters identify spatial orientation polygon surfaces Attribute information object includes parameters specifying deyree transparency object surface reflectivity texture char acteristics A convenient organization storing geometric data create three lists vertex table edge table polygon table Coordinate values ver tex object stored vertex table The edge table contains pointers back vertex table identify vertices polygon edge And polygon table contains pointers back edge table identify edges polygon This scheme illustrated two adjacent polygons object surface In addition individual objects component polygon faces assigned object facet identifiers easy reference Listing geometric data three tables provides conve nient reference individual components vertices edges polygons object Also object displayed efficiently using data edge table draw component lines An alternative arrangement use two tables vertex table polygon table But scheme less convenient edges could get drawn twice Another possibility use poly gon table duplicates coordinate information since explicit coordinate values listed vertex polygon Also edge information would reconstructed vertex listings polygon table We add extra information data tables ot faster infor mation extraction For instance could expand edge table include ward pointers polygon table common edges polygons could identified rapidly This particularly useful ren dering procedures must vary surface shading smoothly across edges one polygon next Similarly vertex table could expanded vertices cross referenced corresponding edges Additional geometric information usually stored data tables includes slope edge coordinate extents polygon As vertices input calculate edge slopes scan coordinate E Vv p Vy Vv My VERTEX TABLE EDGE TABLE POLYGON SURFACE Ver Xe ey Ey VY Sy Ey Vai Xge Vas 2a Ey Va V4 S Ey 8s Ey Vai Xy Ey V3 Vy Val Nye Var Ze Ey Va Vy Vas ee Vor Ey Va Vs Eg Vue Vy Geometric data table representation two adjacent polygon surfaces formed six edges five vertices values identify minimum maximum x z values individual polygons Edge slopes bounding box information polygons needed subsequent processing example surface rendering Coordinate ex tents also used visible surface determination algorithms Since geometric data tables may contain extensive listings vertices edges complex objects important data checked consis tency completeness When vertex edge polygon definitions speci fied possible particularly interactive applications certain input er rors could made would distort display object The information included data tables easier check errors There fore error checking easier three data tables vertex edge polygon used since scheme provides information Some tests could performed graphics package every vertex listed endpoint least two edges every edge part least one polygon every polygon closed polygon least one shared edge edge table contains pointers polygons every edge ref erenced polygon pointer reciprocal pointer back polygon Plane Equations To produce display three dimensional object must process input data representation object several procedures These processing steps include transformation modeling world coordinate descriptions viewing coordinates device coordinates identification visible sur faces application surface rendering procedures For processes need information spatial orientation individual Section Polygon Surfaces Ey Vi Ve Sy Ey Vy Vy Sy E53 Va Vy Sy Se Ey Va Vu S Ey Vys Vee Eg Vs Vy Sz Edge table surfaces expanded include pointers polygon table Chapter Three mensional Object Representations Figitre The vector N normal surtace plane described equation Ax By Cz D Cartesian components G4 B CY surface components ot object This information 1s Obtained vertex coordinate values tne equations describe polygon planes The equation plane surface expressed form Ay By Cz D Wie LY iy point plane coetficients A B C D constants describing spatial properties plane We obtain values A B C D solving set three plane equations using coordinate values three noncollinear points plane For purpose Select three successive polygon vertices xy Yo xs y3 solve following set simultaneous linear plane equations ratios A D B D C D A D x B Dyy C D z k uo The solution set equations obtained determinant form using Cramer rule x A We B x Ys x3 I regdest How Cz fy D ws v Expanding determinants write calculations plane coeffi cients form Am yey Yolea yale Za B 29lx xy 2x Xe Lytdeg Co xy yn Yay X2 Ya Wy XAG Yo Dis xyQysts Yeo X32 Wizs EslyZe As vertex values information entered inte polygon data struc ture values A B C D computed polygon stored polygon data Orientation plane surface space described normal vector plane shown This surface normal vector Carte sian components A B C parameters A B C plane coeffi cients calculated Eqs Since usuaily dealing polygon surfaces thal enclose object interior need distinguish two sides surface The side plane faces object interior called inside face visible outward side ts outside face If polygon vertices specified coun terclockwise direction viewing outer side plane right handed coordinate system direction normal vecter inside side This ts demonstrated one plane unit cube To determine components normal vector shaded surface shown select three four vertices along boundary polygon These points selected counterclockwise direction view outside cube toward origin Coordinates vertices order selected used Eqs obtain plane coefficients A B C D Thus normal vector plane direction positive x axis The elements plane normal also obtained using vector cross product calculation We select three vertex positions V Vz V3 taken counterclockwise order viewing surface outside inside right handed Cartesian system Forming two vectors one V V V V3 calculate N vector cross product N V2 V V5 Vy This generates values plane parameters A B C We obtain value parameter D substituting values coordinates one polygon vertices plane equation solving D The plane equation expressed vector form using normal N position P point plane N P D Plane equations used also identify position spatial points rela tive plane surfaces object For point x z plane parameters A B C D Ax By Cz D We identify point either inside outside plane surface according sign negative positive Ax By Cz D Ax By Cz D point x z inside surface Ax By Cz D point x z outside surface These inequality tests valid right handed Cartesian system provided plane parameters A B C D calculated using vertices selected counterclockwise order viewing surface outside inside direc tion For example point outside shaded plane satisfies equality x point inside plane x coordinate value less Polygon Meshes Some graphics packages example PHIGS provide several polygon functions modeling objects A single plane surface specified function illArea But object surfaces tiled convenient specify surface facets mesh function One type polygon mesh triangle strip This function produces connected triangles shown Fig given coordinates n vertices Another similar function quadri lateral mesh generates mesh n mn quadrilaterals given The shaded polygon surface unit cube plane equation x O normal vector N S A triangle strip formed w triangles connecting vertices ith ae ay A quadrilateral mesh containing quadrilaterals constructed input vertex array coordinates n array vertices shows vertices forming mesh quadrilaterals When polygons specified three vertices possible vertices may lie one plane This due numerical errors errors selecting coordinate positions vertices One way handle situation simply divide polygons triangles Another approach sometimes taken approximate plane parameters A B C We averaging methods project polygon onto coordinate planes Using projection method take A proportional area polygon projection yz plane B proportional projection area xz plane C proportional projection area xy plane High quality graphics systems typically model objects polygon meshes set database geometric attribute information facilitate processing polygon facets Fast hardware implemented polygon renderers incorporated systems capability displaying hundreds thousands one million shaded polygons per second usually trian gles including application surface texture special lighting effects Displays three dimensional curved lines surfaces generated input set mathematical functions defining objects set user specified data points When functions specified package project defining equations curve display plane plot pixel positions along path projected function For surfaces functional description often tesselated produce polygon mesh approximation surface Usually done triangular polygon patches ensure vertices polygon one plane Polygons specified four vertices may vertices single plane Examples display surfaces generated functional descriptions include quadrics superquadrics When set discrete coordinate points used specify object shape functional description obtained best fits designated points according constraints application Spline representations examples class curves surfaces These methods commonly used design new object shapes digitize drawings describe animation paths Curve fit ting methods also used display graphs data values fitting specified curve functions discrete data set using regression techniques least squares method Curve surface equations expressed either parametric nonparametric form Appendix A gives summary comparison paramet ric nonparametric equations For computer graphics applications parametric representations generally convenient A frequently used class objects quadric surfaces described second degree equations quadratics They include spheres ellipsoids tori paraboloids hyperboloids Quadric surfaces particularly spheres ellip soids common elements graphics scenes often available graphics packages primitives complex objects con structed Sphere In Cartesian coordinates spherical surface radius r centered coordi nate origin defined set points x z satisfy equation tyra We also describe spherical surface parametric form using latitude longitude angles x rcos cos 2S os rcos sin ms sn z rsing The parametric representation Eqs provides symmetric range angular parameters Alternatively could write parametric equations using standard spherical coordinates angle specified colatitude Then defined range often taken range We could also set representation using pa rameters u v defined range substituting au 2a Ellipsoid An ellipsoidal surface described extension spherical surface radii three mutually perpendicular directions different val ues The Cartesian representation points surface el lipsoid centered origin UR And parametric representation ellipsoid terms latitude angle longitude angle x r cos cos 2ehs w r cosd sin mws9sq7 10 z r sing Torus A torus doughnut shaped object shown It generated rotating circle conic specified axis The Cartesian represen Section Quadric Surfaces axia Psixy V axis x axis Parametric coordinate position r surface sphere radius r x axis Spherical coordinate parameters r using colatitude angle An ellipsoid radii r r centered coordinate origin Zaxis xy z xy plane A torus circular cross section x axis centered coordinate origin tation points surface torus written form z r 11 ry Yr VAY r given offset value Parametric representations torus simi lar ellipse except angle extends Using latitude longitude angles describe torus surface set points satisfy x rr cos cos rShen r r cos sin ns sa7 12 z r sing This class objects generalization quadric representations Super quadrics formed incorporating additional parameters quadric equations provide increased flexibility adjusting object shapes The number additional parameters used equal dimension object one para meter curves two parameters surfaces Superellipse We obtain Cartesian representation superellipse corresponding equation ellipse allowirg exponent x terms vari able One way write Cartesian superellipse equation form Qs Se 13 Ty ty parameter assigned real value When get ordi nary ellipse Corresponding parametric equations superellipse Eq 13 expressed x r cos ms0s7 74 rysin illustrates supercircle shapes generated using various values parameter Superellipsoid A Cartesian representation superellipsoid obtained equation ellipsoid incorporating two exponent parameters se 15 ry ry n For ordinary ellipsoid We write corresponding parametric representation superellipsoid Eq 15 X r cos cos26 n 2sosn r cos sin s0S7 16 r sin id illustrates supersphere shapes generated using various values parameters These superquadric shapes com bined create complex structures furniture threaded bolts hardware e Superellipses plotted different values parameter r Section S5uperquadrics Representations 88S Molecular bonding As two molecules move away surface shapes stretch snap finally contract spheres C2 b Blobby muscle shapes human arm Oto7 Od BQO Dd ee Superellipsoids plotted different values parameters r r r Some objects maintain fixed shape change surface characteris tics certain motions proximity objects Examples class objects include molecular structures water droplets liquid ef fects melting objects muscle shapes human body These objects described exhibiting blobbiness often simply referred blobby objects since shapes show certain degree fluidity A molecular shape example described spherical isolation shape changes molecule approaches another molecule This distortion shape electron density cloud due bonding occurs two molecules illustrates stretching snap ping contracting effects molecular shapes two molecules move apart These characteristics adequately described simply spherical elliptical shapes Similarly shows muscle shapes human arm exhibit similar characteristics In case want model surface shapes total volume remains constant Several models developed representing blobby objects dis tribution functions region space One way model objecis combinations Gaussian density functions bumps A sur face function defined fix yz X F T 17 rj Vx zt parameter T specified threshold parame ters b used adjust amount blobbiness individual objects Negative values parameter b used produce dents instead bumps illustrates surface structure composite object modeled four Gaussian density functions At threshold level numerical root finding techniques used locate coordinate intersection values The cross sec tions individual objects modeled circles ellipses If two cross sections aie near merged form one blobby shape whose structure depends separation two objects Other methods generating blobby objects use density functions fall finite interval rather exponentially The metaball model de scribes composite objects combinations quadratic density functions form b1 3r if0 r fry 5o ridY ifa rsd 18 ifr And soft object model uses function 22r 4r S COif0 r fir 9d Od 19 ifr Some design painting packages provide blobby function modeling handling applications adequately modeled polygon spline functions alone shows user interface blobby object modeler using metaballs drafting terminology spline flexible strip used produce smooth curve designated set points Several small weights distributed along length strip hold position drafting table curve drawn The term spline curve originally referred curve drawn manner We mathematically describe curve piecewise cubic A screen layout used Blob Modeler Blob Animator packages modeling objects metaballs Courtesy Thorson Digital Image Section Spline Representations A three dimensional Gaussian bump centered position height b standard deviation A composite blobby object formed four Gaussian bumps Chapter Three Dimensional Object Representations A set six contro points interpolated piecewise continuous polynomial sections A set six control points approximated piecewise continuous polynomial sections polynomial function whose first second derivatives continuous across various curve sections In computer graphics term spline curve refers composite curve farmed polynomial sections satisfying speci fied continuity conditions boundary pieces A spline surface described two sets orthogonal spline curves There several different kinds spline specifications used graphics applications Each individ ual specification simply refers particular type polynomial certain specified boundary conditions Splines used sn graphics applications design curve acd surface shapes digitize drawings computer storage ard specify animation paths objects camera scene Typical CAD applications splines include design automobile bodies aircraft spacecraft surfaces ship hulls Interpolation Approximation Splines We specify spline curve giving set coordinate positions called control points indicates general shape curve These control points fitted piecewise continuous parametric polynomial functions one two ways When polynemual sections fitted curve passes control point resulting curve said interpolate set control points On hand polynomials fitted general control point path without necessarily passing control point resulting curve said approximate set control points Interpolation curves commonly used digitize drawings specify animation paths Appreximation curves primarily used design tools structure object surfaces shows approximation spline surface created design application Straight lines connect control point positions surface A spline curve defined modified manipulated operations control points By interactively selecting spatial positions control points designer set initial curve After polynomial fit displayed given set control points designer reposition control points restructure shape curve In addition curve translated rotated scaled transformations applied control points CAD packages also insert extra contro points aid designer ad justing curve shapes The canvex polygon boundary encloses set control points called convex hull One way envision shape convex hull imagine rubber band stretched around positions contro points con trol point either perimeter hull inside Convex hulls provide measure deviation curve surface region bounding contro points Some splines bounded convex hull thus ensuring polynomials smoothly follow control points without erratic oscillations Also polvgon region inside convex hull useful al gorithms asa clipping region A polyline connecting sequence control points approximation spline usually displaved remind designer control point ordering This set connected line segments often referred control graph curve Other names series straight line sections connecting control points order specified control polygon characteristic polygon Fig ure 23 shows shape control graph control point sequences An approximation spline surface CAD application automotive design Surface contours plotted polynomial curve sections surface control points connected straight line segments Courtesy Evans Sutherland Parametric Continuity Conditions To ensure smooth transition one section piecewise parametric curve next impose various continuity conditions connection points If section spline described set parametric coordinate functions form x x u yu z u W Susu 20 Pz Convex hull shapes dashed Jines two sets control points Section Spline Representations Chapter Thiee Dumensional Object Representations Fronre 24 Piecewise construction curve joining two curve segments using different orders continuity zero order continuily b first order continuity second order continuity R g ws P rs A Po Py p SO b XN ae Figure 23 Control graph shapes dashed lines two different sets contro points set parametric continuity matching parametric derivatives adjoin ing curve sections common boundary Zero order parametric continuity described C continuity means simply curves meet That values x z evaluated uv first curve section equal respectively values x z evaluated u next curve section First order parametric continuity referred C continuity means first parametric derivatives tangent lines coor dinate functions Eq 20 two successive curve sections equal joining point Second order parametric continuity C continuity means first second parametric derivatives two curve sections intersection Higher order parametric continuity conditions de fined similarly shows examples CY C C continuity With second order continuity rates change tangent vectors connecting sections equal intersection Thus tangent line transi tions smoothly one section curve next Fig 24 c But first order cor tinuity rates change tangent vectors two sec tiors quite different b general shapes two adjacent sections change abruptly First order continuity often sufficient digitizing drawings design applications second order continuity useful setting animation paths camera motion many preci sion CAD requirements A camera traveling along curve path b equal steps parameter would experience abrupt change accelera tion boundary two sections producing discontinuity motion sequence But camera traveling along path c frame sequence motion would smoothly transition across boundary Geometric Continuity Conditions An alternate method joining two successive curve sections specify condi tions geometric continuity n case require parametric deriva tives two sections te proportional te common bound ary instead equal Zero order geometric continuity described G continuity zero order parametric continuity That two curves sections must coordinate position boundary point First order geometric continu ity G continuity means parametric first derivatives proportional intersection two successive sections If denote parametric posi tion curve P u direction tangent vector P u neces sarily magnitude two successive curve sections joining point G continuity Second order geometric continuity G con tinuity means first second parametric derivatives two curve sections proportional boundary Under G continuity curva tures two curve sections match joining position A curve generated geometric continuity conditions similar one generated parametric continuity slight differences curve shape provides comparison geometric parametric continuity With geometric continuity curve pulled toward section greater tan gent vector Spline Specifications There three equivalent methods specifying particular spline representa tion We state set boundary conditions imposed spline state matrix characterizes spline state set blending functions basis functions determine spec ified geometric constraints curve combined calculate positions along curve path To illustrate three equivalent specifications suppose fol lowing parametric cubic polynomial representation x coordinate along path spline section xu aw bw cu dy Osus 21 Boundary conditions curve might set example endpoint co ordinates x x parametric first derivatives endpoints x These four boundary conditions sufficient determine values four coefficients b c From boundary conditions obtain matrix characterizes spline curve first rewriting Eq 21 matrix product Po aa P Po B GO cc ta b Three control points fitted two curve sections joined parametric continuity b geometric continuity tangent vector curve C point p greater magnitude tangent vector curve C p Section Spline Representations Chapter Three Dimensional Object Representations oe x w3 22 Ro oF FR M4 u Cc U row matrix powers parameter u C coefficient col umn matrix Using Eq 22 write boundary conditions matrix form solve coefficient matrix C C Moypine Mgeom 23 Mygeom four element column matrix containing geometric constraint values boundary conditions spline Mypine matrix transforms geometric constraint values polynomial coefficients provides characterization spline curve Matrix Mgcom contains control point coordinate values geometric constraints specified Thus substitute matrix representation C Eq 22 obtain x U Mapiine Migeom 24 The matrix Mypune Characterizing spline representation sometimes called basis matrix particularly useful transforming one spline representation another Finally expand Eq 24 obtain polynomial representation coordinate x terms geometric constraint parameters aw gy BF 23 k O g constraint parameters control point coordinates slope curve control points BF u polynomial blending functions In following sections discuss commonly used splines matrix blending function specifications This class splines often used set paths object motions provide representation existing object drawing interpolation splines also used sometimes design object shapes Cubic polynomials offer reasonable compromise flexibility speed computation Com pared higher order polynomials cubic splines requ less calculations memory stable Compared lower order polynomials cubic splines flexible modeling arbitrary curve shapes Given set control points cubic interpolation splines obtained fit ting input points piecewise cubic polynomial curve passes every control point Suppose contro points specified coordinates Pow Oe Ye ah k 02 A cubic interpolation fit points illustrated We de scribe parametric cubic polynomial fitted pair control points following set equations x u aw bu cu dy yu aye bye ourd su 26 zlu au ba cu For three equations need determine values four co efficients b c polynomial representation curve sections n control points We setting enough bound ary conditions joints curve sections obtain nu merical values coefficients In following sections discuss com mon methods setting boundary conditions cubic interpolation splines Natural Cubic Splines One first spline curves developed graphics applications nat ural cubic spline This interpolation curve mathematical representation original drafting spline We formulate natural cubic spline requiring two adjacent curve sections first second parametric deriva tives common boundary Thus natural cubic splines C continuity If control points fit n curve sections total polynomial coefficients determined At n interior control points four boundary conditions The two curve sections either side control point must first sec ond parametric derivatives control point curve must pass control point This gives us 4n equations satisfied 4n polynomial coefficients We get additional equation first control point pp position beginning curve another condition control point p must last point curve We still need two conditions able determine values coefficients One method obtaining two additional conditions set second derivatives pp p Another approach add two extra dummy control points one end original control point sequence That add control point p control point p Then original control points interior points necessary 4n boundary conditions Although natural cubic splines mathematical model drafting spline major disadvantage If position one control point altered entire curve affected Thus natural cubic splines allow local control restructure part curve without specifying entirely new set control points A piecewise continuous cubic spline interpolation n control points Section Cubic Spline interpolation Methods Chapter Three Dimensional Object Representations Hermile Interpolation A Hermite spline named French mathematician Charles Hermite interpolating piecewise cubic polynomial specified tangent cach control point Unlike natural cubic splines Hermite splines adjusted locally curve section dependent endpoint constraints If P u represents parametric cubic point function curve section tween control points py p a5 shown ther boundary con ditions define Hermite curve section P O py POD Pay 27 PO Dp P Dp Dp Dp specifying values parametric derivatives slope curve control points p p respectively We write vector equivalent Eqs 26 Hermite curve sec tion POO au ecu Qfue1 28 x component P x u a6 bu cu similar yand z components The matrix equivalent Eq 28 1s b Pu fut wt dy 29 derivative point function expressed Pra 2u Q 30 aa oe Substituting endpoint values parameter w previous two equa tions express Hermite boundary conditions 27 matrix form Pi 1 101 Pro b C30 Dp c Dpi PB ee ee ee Plu Olu youl XN tal Gla yi 20a Parametric point function P u bp Hermite curve section control points p p Solving equation polynomial coefficients Px Part Dp Dp 1 Px Pao 0 Dp 0 Dpist ane ep wor oo W 32 Pitt Dp Dpx iH M Hermite matrix inverse boundary constraint matrix Equation 29 thus written terms boundary conditions Px P u v2 uw My PE 33 Dp Dp Finally determine expressions Hermite blending functions carrying matrix multiplications Eq 33 collecting coefficients boundary constraints obtain polynomial form Pad p28 py 3x7 Dp ue Dpy u 34 pou pyr Wi u Dp Hu Dp Hy The polynomials H u k referred blending functions cause blend boundary constraint values endpoint coordinates slopes obtain coordinate position along curve shows shape four Hermite blending functions Hermite polynomials useful digitizing applications may difficult specify approximate curve slopes But problems computer graphics useful generate spline curves without requiring input values curve slopes geometric information addition control point coordinates Cardinal splines Kochanek Bartels splines discussed following twa sections variations Hermite splines require input values curve derivatives control points Procedures splines compute parametric derivatives co ordinate positions control points Cardinal Splines As Hermite splines cardinal splines interpolating piecewise cubics specified endpoint tangents boundary curve section The difference Section Cubic Spline Interpolation Methods Hla 4 H u e e Hiya 4 H u 6 2 u eda OUT The Hermite blending functions Pee Parametric puint function P u cardinal spline section control points p p give values endpoint tangents For cardinal spline value slope control point calculated coordinates two adjacent control points A cardinal spline section completely specified four consecutive con tral points The middie two control points section endpoints two points used calculation endpoint slopes If take P u representation parametric cubic point function curve section contrel points p four control points p _ py used set boundary conditions cardinal spline section P O P Pias 35 PO Depa Pe Pl per pod Thus slopes control points p p taken proportional respec tively chords p Py Py Pxrz Parameter called tension parameter since controls loosely tightly cardinal spline fits input control points illustrates shape cardinal curve small large values tension When class curves referred Catmull Rom splines Overhauser splines Using methods similar Hermite splines convert boundary conditions 35 matrix form P u u2 ww Me Pe 30 cardinal matrix M 37 withs Expanding matrix equation 36 polynomial form P u py su 28u su pyl su u Proil u8 3B 2s u sul pyaolsu su 38 py 1CAR u p CAR u pyis CAR W pyy2CAR u polynomials CAR u k cardinal blending func tions gives plot basis functions cardinal splines Kochanek Bartels Splines These interpolating cubic polynomials extensions cardinal splines Two additional parameters introduced constraint equations defining Kochanek Bartels splines provide flexibility adjusting shape curve sections Given four consecutive control points labeled p _1 Pp Pes1 ANd Py define boundary conditions Kochanek Bartels curve section p px P Q Px PCD piss PO n NIG HA py Pr 349 b CP ear Pd Pou UG OU Oper Pd BML ch Pes Ped tension parameter b bias parameter c continuity parameter In Kochanek Bartels formulation parametric derivatives may continuous across section boundaries Tangent vectors endpoints cardinal spline section proportional chords formed neighboring control points dashed lines LN aan Effect tension parameter shape cardinal spline Looser Curve Tighter Curve _ section Tension parameter interpretation cardinal spline formulation controls looseness tightness curve sections Bias b used adjust amount curve bends end section curve sections skewed toward one end Pa rameter controls continuity tangent vector across boundaries sections If c assigned nonzero value discontinuity slope curve across section boundaries Kochanek Bartel splines designed model animation paths In par ticular abrupt changes motion object simulated nonzero val ues parameter c CARglu CAR u 4 st ee te ttt uv 4 1 ah b CARAu CARSu 0 Poi ditsirtiri Liriitiiiit uv 0 0 te id The cardinal blending functions Oand P P2 YN Po wd py pO Ps Po P oe Po b O b Effect bias parameter shape Kochanek Bartels spline section This spline approximation method developed French engineer Pierre B zier use design Renault automobile bodies B zier splines number properties make highly useful convenient curve surface design They also easy implement For reasons B zier splines widely available various CAD systems general graphics packages GL Silicon Graphics systems assorted drawing painting pack ages Aldus SuperPaint Cricket Draw B zier Curves In general B zier curve section fitted number control points The number control points approximated relative position de termine degree B zier polynomial As interpolation splines B zier curve specified boundary conditions characterizing matrix blending functions For general B zier curves blending func tion specification convenient Suppose given n control point positions py yy k varying These coordinate points blended produce fol lowing position vector P u describes path approximating B zier polynomial function p p Pu Sp BEZ uw OFu 40 k The B zier blending functions BEZ u Bernstein polynomials BEZ u Cin Ku wet 41 C n k binomial coefficients n kG _ 42 C n k Equivalently define B zier blending functions recursive calcula tion BEZ u u BEZ u uBEZ _ H k 43 Section B zier Curves Surfaces Chapler BEZ w BF Z wk Vector equation 40 represents set Three Oimensional Object three parametric equations individual curve coordinates Representations x x BEZ u k yu BEZ u 44 k u z BEZ Au k Asa rule B zier curve polynomial degree cne less number control points used Three points generate parabola four points cubic curve forth demonstrates appearance Bezier curves various selections control points xy plane z With certain control point placements however obtain degenerate B zier polynomials For example B zier curve generated three collinear contro points straight line segment And set control points coordi nate position produces B zier curve single point B zier curves commonly found painting drawing packages well CAD systems since easy implement reasonably powerful curve design Efficient methods determining coordinate positions along B zier curve set using recursive calculations For example suc cessive binomial coefficients calculated Examples two dimensional B zier curves generated trom three four five control points Dashed lines connect control point positions k Ci k La k 45 n k The following example program illustrates method generating B zier curves include math h include graphics h void computeCoefficients int n int c int k k ks n k Compute n k n k e k c k n k e k k l void computePoint float u woPt3 pt int nControls wePt controls int int k n nfontrols float blend pt x pt pt z2 Add influence control point k O k nControls k blend c k powf u k powf l u n k pt x controls k x blend pt controls k blend controls k z blend pt z void bezier wePt3 controls int nControls int wePt3 curve Allocate space coefficients int int malloc nControls sizeof int int computeCoefficients nControls c computePoint float curveli nControls controls c free c Properties B zier Curves A useful property B zier curve always passes first last contro points That boundary conditions two ends curve P O Po 46 P p Section B zier Curves Surfaces Chapter Three Dimensional Ohyect Representations P3 Lf v4 oN Poe L pe oe p Bo Px Pp Piguere E0 A closed Bezier curve generated specifying first last control points location P B P Pe Pe figtay 36 A Bezier curse made pass closer loa given coordinate pusition assigning muluple control points positian Values parametric first derivatives B zier curve endpoints calculated control point coordinates P np Poume 47 P np ap Thus slope beginning curve along hne joining first two control points slope end curve along line joining last two endpoints Similarly parametric second derivatives B zier curve endpoints calculated P 0O nt Dips pd pi pol 45 P C1 Gr Dip Poe ae Pw Another important property B zier curve lies within convex hull convex polygon boundary control points This follows properties B zier blending functions They positive sum always NBEZ ub 49 kat curve position simply weighted sum control point posi tions The convex hull property B zier curve ensures polynomial smoothly follows control points without erratic oscillations Design Techniques Using Bezier Curves Closed B zier curves penerated specifving first last control paints position example shown Also specifying mul tiple control points single coordinate position gives weight posi tion In single coordinate position input two centro points resulting curve pulled nearer position We fit B zier curve number control points requires calculation polynonial functions higher degree When complicated curves generated formed piecing several B zier sections lower degree together Piecing together smaller sections also gives us better control shape curve small regions Since Bezier curves pass endpoints 1s easy match curve sections zero order continuity Alsu B zier curves invportant property tangent curve endpoint 1s along line joining endpoint adjacent control point Therefore obtain first order continuity curve sections pick control points p p new section along straight line control points p p previous section When two curve sections number contre points obtain C continuity choosing first cantrol point new section last control point previous section positioning second control point new sec tion position Pot Py pe Piecewise approximation curve formed two B zier sections Zero order first order continuity attained curve sections setting po p making points p p p collinear Thus three control points collinear equally spaced We obtain C continuity two B zier sections calculating po sition third control point new section terms positions last three control points previous section Pn Pa Pra Requiring second order continuity B zier curve sections unnecessarily restrictive This especially true cubic curves four control points per section In case second order continuity fixes position first three control points leaves us one point use adjust shape curve segment Cubic B zier Curves Many graphics packages provide cubic spline functions This gives reason able design flexibility avoiding increased calculations needed higher order polynomials Cubic B zier curves generated four control points The four blending functions cubic B zier curves obtained substi tuting Eq 41 BEZo u wu BEZ u 3u wu BEZ u 3w1 w BEZ u 50 Plots four cubic B zier blending functions given The form blending functions determine control points influence shape curve values parameter u range At u Section B zier Curves Surfaces BEZ iu Ie BEZ ur LE Q Popuidrrrit L poi 0 08 BEZ u BEZ 6 O2t tot u 0 66 The four B zier blending functions cubic curves nonzero blending function BEZ value Atu nonzero function BEZ value J point Thus cubic B zier curve always pass control points p p The func tions BEZ BEZ influence shape curve intermediate values parameter u resulting curve tends toward points p py Blend ing function BEZ maximum wv BEZ maximum We note four blending functions nonzero entire range parameter u Thus B zier curves allow local control curve shape If decide reposition one control points entire curve affected At end positions cubic B zier curve parametric first deriva tives slopes PO Sp pod PC p ps And parametne second derivatives P p 2p py P p 2p pd We use expressions parametric derivatives te construct piece wise curves C C continuity sections By expanding polynomial expressions blending functions Section write cubic B zier point function matrix form Be zier Curves Surfaces Po Pi Plu fe uw Moe p 51 P3 B zier matrix M3 52 30 CO esa 0 We could also introduce additional parameters allow adjustment curve tension bias interpolating splines But use ful B splines well splines provide capability Bezier Surfaces Two sets orthogonal B zier curves used design object surface specifying input mesh control points The parametric vector function B zier surface formed Cartesian product B zier blending func tions Plu v SD py BEZ BEZ UY 53 pa0k p specifying location Gm n control points illustrates two B zier surface plots The control points con nected dashed lines solid lines show curves constant u con stant v Each curve constant u plotted varying v interval u fixed one values unit interval Curves constant v plotted similarly ae Z oe f v prs Ps fT _s NNO SIZ XN Wie b B zier surfaces constructed b Dashed lines connect contro points Chapter Three Dimensional Object Representations Boundary Line A composite B zier surface constructed two B zier sections joined indicated boundary line The dashed lines connect specified control points First order continuity established making ratio length L length L constant collinear line control points across boundary surface sections B zier surfaces properties B zier curves provide convenient method interactive design applications For surface patch select mesh control points xy ground plane choose elevations ground plane z coordinate values control points Patches pieced together using boundary constraints illustrates surface formed two B zier sections As curves smooth transition one section assured establish ing zero order first order continuity boundary line Zero order continuity obtained matching control points boundary First order continuity obtained choosing control points along straight Jine across boundary maintaining constant ratio col inear line segments set specified contro points across section boundar cs These widely used class approximating splines B splines two advantages B zier splines degree cf B spline polynomial set independently number control points certain limitations B splines allow local control shape spline curve surface The trade B splines complex B zier splines B Spline Curves We write general expression calculation coordinate positions along B spline curve blending function formulation Plu pp By Uymin SUS Mg 2d EH 54 k p input set n control points There several differences B spline formulation B zier splines The range para meter u depends choose B spline parameters And B spline blending functions B polynomials degree parameter chosen integer value range number control points Actually also set value curve point plot control points Local control B splines achieved defining blending functions subintervals total range u Blending functions B spline curves defined Cox deBoor cursion formulas ifuySu ua B otherwise 55 u u Upeg Bu __t_ By g lu Sv Bysia Uged Ux Ugrg Heat blending function defined subintervals total range u The selected set subinterval endpoints u referred knot vector We choose values subinterval endpoints satisfying relation u Wy4 Values uy ua depend number control points select value choose parameter set subinter vals knot vector Since possible choose elements knot vector denominators previous calculations value mulation assumes terms evaluated assigned value demonstrates local control characteristics B splines In addition Jocal control B splines allow us vary number control points used design curve without changing degree polynomial Also number control points added modified manipulate curve shapes Similarly increase number values knot vector aid curve design When however also need add control points since size knot vector depends parameter B spline curves following properties The polynomial curve degree C continuity range u For control points curve described n blending func tions Each blending function defined subintervals total range u starting knot value The range parameter u divided n subintervals n values specified knot vector Section B Spline Curves Surfaces Chapter Three Dimensional Object Representations Local modification B spline curve Changing one control points produces curve b modified neighborhood altered control point With knot values labeled uo resulting B spline curve defined interval knot value u knot value u Each section spline curve two successive knot values fluenced control points Any one control point affect shape curve sections In addition B spline curve lies within convex hull control points B splines tightly bound input positions For value u interval knot value u _ u sum basis functions SB 56 k Given control point positions value parameter need specify knot values obtain blending functions using recur rence relations 55 There ate three general classifications knot vectors uni form open uniform nonuniform B splines commonly described accord ing selected knot vector class Uniform Periodic B Splines When spacing knot values constant resulting curve called uniform B spline For example set uniform knot vector 0 Often knot values normalized range It convenient many applications set uniform knot values sepa ration starting value The following knot vector example specification scheme By u B alu 8 6 O4 a2 footbag pti Leto petririiy u 4 1 5 b u u 0 0 04 2 Toda Cortirritiit Lriit poi tera isis batts Ly 0G 4 c Periodic B spline blending functions n uniform integer knot vector Uniform B splines periodic blending functions That given val ues blending functions shape Each successive blending function simply shifted version previous function B g By gut Au Boy du An 57 Aw interval adjacent knot values shows quadratic uniform B spline blending functions generated following exam ple curve four control points Example Uniform Quadratic B Splines To illustrate calculation B spline blending functions uniform integer knot vector select parameter values n The knot vector must contain n knot values range parameter u n subintervals Chapter Each four blending functions spans subintervals total range Three Dimensional Object Using recurrence relations 55 obtain first blending function Representations tw fordsu By bul2 w Fe GB w forl u 43 for2 u We obtain next periodic blending function using relationship 57 substitut ing u vin Bg3 shifting starting positions tu forl u By Fu DG wW yu D4 yw for2su uy for3su Similarly remaining two periodic functions obtained successively shifting B right r qlu 2y u Boga Fle w bQi 3KS 4H fordsu uF for4su x stu for3eu By dtu wu v for4su L 2M uy forS su A plot four periodic quadratic blending functions given demonstrates local feature B solines The first control point multi plied blending function Bo u Therefore changing position first control point affects shape curve u Similarly last control point influences shape spline curve interval B defined also illustrates limits B spline curve example All blending functions present interval uy u Below 338 blending functions present This range poly Pp Pz c ay Quadratic periodic B spline fitted four control points xy es Ps plane nomial curve interval Eq 56 valid Thus sum blending functions within interval Outside interval sum blending functions since defined Since range resulting polynomial curve deter mine starting ending positions curve evaluating blending functions paints obtain Poan Po ppd Pend pr py Thus curve starts midposition first two control points ends mid position last two control points We also determine parametric derivatives starting ending posi tions curve Taking derivatives blending functions substitut ing endpoint values parameter u find Pon Pi Po Pend P3 Po The parametric slope curve start position parallel line join ing first two control points parametric slope end curve parallel line joining last two control points An example plot quadratic periodic B spline curve given four control points selected xy plane In preceding example noted quadratic curve starts first two control points ends position last two control points This result valid quadratic periodic B spline fitted number distinct control points In general higher order polynomials start end positions weighted averages control points We pull spline curve closer control point position specifying position mul tiple times General expressions boundary conditions periodic B splines oe obtained reparameterizing blending functions parameter u mapped onto unit interval Beginning ending conditions obtained u Dandu Cubic Periodic B Splines Since cubic periodic B splines commonly used graphics packages con sider formulation class splines Periodic splines particularly useful generating certain closed curves For example closed curve Fig 44 generated sections cyclically specifying four six control Chapter Three Dimensiona Object Representations A closed periodic piecewise cubic B spline constructed cyclic specification six control points points shown step If three consecutive control points identical curve passes coordinate position For cubics blending function spans four subintervals total range u If fit cubic four control points could use integer knot vector recurrence relations 55 obtain periodic blending functions last section quadratic periodic B splines In section consider alternate formulation periodic cubic B splines We start boundary conditions obtain blending functions normalized interval u Using formulation also easily obtain characteristic matrix The boundary conditions periodic cubic B splines four consecutive control points labeled po p pz ps PO po 4p pad PC Py 4p2 Ps 58 P O p po P p5 py These boundary conditions similar cardinal splines Curve sec tions defined four control points parametric derivatives slopes beginning end curve section parallel chords joining ad jacent contro points The B spline curve section starts position near p ends position near p A matrix formulation cubic periodic B splines four control points written P u v2 M 59 B spline matrix periodic cubic polynomials 30 M 60 Be 1 This matrix obtained solving coefficients general cubic polynomial expression using specified four boundary conditions We also modify B spline equations include tension parameter cardinal splines The periodic cubic B spline tension matrix form 9r M 18 61 sO 21 reduces Mg We obtain periodic cubic B spline blending functions parame ter range expanding matrix representation polynomial form For example tension value Boat ta u Osusl B u 62 Bz u 3u8 Bn By u Open Uniform B Splines This class B splines cross uniform B splines nonuniform B splines Sometimes treated special type uniform B spline times considered nonuniform B spline classification For open uniform B splines simply open B splines knot spacing uniform except ends knot values repeated times Following two examples open uniform integer knot vectors starting value ford 2andn ford 4andn We normalize knot vectors unit interval 33 67 ford 2andn ford 4andn Section B Spline Curves Surfaces Chapter Three Dimensional Object Representations For values parameters n generate open uniform knot vector integer values using calculations forOsj qr od ford en 63 n forj n values j ranging x With assignment first knots assigned value last knots value n Open uniform B splines characteristics similar B zier splines In fact degree polynomial open B splines duce B zier splines knot values either For example cubic open B spline four control points knot vector 0 01 The polynomial curve jor open B spline passes first last con trol points Also slope parametric curves first control point parallel line connecting first two control points And parametric slope last control point parallel line connecting last two control points So geometric constraints matching curve sections B zier curves As B zier curves specifying multiple control points coor dinate position pulls B spline curve closer position Since open B splines start first control point end last specified control point closed curves genetated specifying first last control points position Example Open Uniform Quadratic B Splines From conditions 63 n five control points obtain following eight values knot vector INg Wy Ws Ma Ug Ws Meg Uz The total range u divided seven subintervals five blend ing functions B defined three subintervals starting knot position Thus Bg defined u3 By defined xu u B defined u uw Explicit polynomial expressions zre ob tained blending functions recurrence relations 55 Bo alt wu OSu l QSu By lu uy l u O u By wy Fu2 w 4t DG w 1su uy Qsu tu lsu By u u Bu u By u u 2eu shows shape five blending functions The local fea tures B splines demonstrated Blending function By nonzero subinterval first control point influences curve interval Similarly function B zero outside interval position last control point affect shape beginning middle parts curve Matrix formulations open B splines conveniently generated periodic uniform B splines This due multiplicity knot values beginning end knot vector Nonuniform B Splines For class splines specify values intervals knot vec tor With nonuniform B splines choose multiple internal knot values unequal spacing knot values Some examples Nonuniform B splines provide increased flexibility controlling curve shape With unequally spaced intervals knot vector obtain different shapes blending functions different intervals used ad spline shapes By increasing knot multiplicity produce subtle variations curve shape even introduce discontinuities Multiple knot values also duce continuity repeat particular value We obtain blending functions nonuniform B spline using methods similar discussed uniform open B splines Given set control points set degree polynomial select knot values Then using recurrence relations could either obtain set blending functions evaluate curve positions directly display curve Graph ics packages often restrict knot intervals either reduce compu tations A set characteristic matrices stored used compute Section Spline Curves Surfaces By ylub By alu b O4 u pee deri ivi vida pedi dt 1 3 Qo 2 b B lu B Au 8 6 O4 2 pat tad u wititiiia Pe et Pe u 1 3 Q 18 3 c B u 6 2 poirot irrirtririnr boos tut Lol 1 5 fe Open uniform B spline blending functions n andd values along spline curve without evaluating recurrence relations curve point plotted B Spline Suriaces Formulation B spline surface similar B zier splines We ob tain vector point function B spline surface using Cartesian product B spline blending functions form A prototype helicopter designed modeled Daniel Langlois SOFTIMAGE Inc Montreal using 000 B spline surface patches The scene rendered using ray tracing bump mapping reflection mapping Courtesy Silicon Graphics Inc nl nz Pu Pi epBeysty Biy ag 64 ky ko O vector values p specify positions nm con trol points B spline surfaces exhibit properties component B spline curves A surface constructed selected values parameters determine polynomial degrees used specified knot vector shows object modeled B spline sur faces A generalization B splines beta splines also referred splines formulated imposing geometric continuity conditions first second parametric derivatives The continuity parameters beta splines called B parameters Beta Spline Continuity Canditions For specified knot vector designate spline sections left right particular knot position vectors P _ u P u Zero order continuity positional continuity G u obtained requiring P_ u PAu 65 First order continuity unit tangent continuity G obtained requiring tangent vectors proportional Section 10 Beta Splines Position vectors along curve sections left right knot u Chapter Three Dimensional Oaject Representations BP uw Pu B UP Here parametric first derivatives proportional unit tangent vectors continuous across knot Second order continuity curvature vector continuily G imposed condition BiP ua BoP Cu Pu 67 assigned rea number f The curvature vector pro vides measure amount bending curve position u When f beta splines reduce B splines Parameter called vias parameter since controls skewness curve For PB curve tends flatten right direction unit tangent vector knots For curve tends flatten left The effect shape spline curve shown Parameter called tension parameter since controls tightly loosely spline fits control graph As increases curve approaches shape control graph shown Cubic Periodic Beta Spline Matrix Representation Applying beta spline boundary conditions cubic polynomial uni form knot vector obtain following matrix representation periodic beta spline a2 I I I I I s5 I I RB v Effect parameter shape beta spline curve B By Effect parameter B shape beta spline curve AB BR BR PB WAB Be B Mg B 2B 2B 3B 68 B B 6B 2p By B B B 4B We obtain B spline matrix M And get B spline tension matrix Mz A B A rational function simply ratio two polynomials Thus rational spline ratio two spline functions For example rational B spline curve described position vector vv Sg Pr By gu Pu 69 ayB glu Ko p set n control point positions Parameters weight factors control points The greater value particular closer curve pulled toward control point p weighted parameter When weight factors set value standard B spline curve since denominator Eq 69 sum blending functions Rational splines two important advantages compared nonrational splines First provide exact representation quadric curves conics circles ellipses Nonrational splines polynomials approximate conics This allows graphics packages model curve shapes one representation rational splines without needing library curve functions handle different design shapes Another advantage rational splines invariant respect perspective viewing transfor mation Section This means apply perspective viewing trans formation control points rational curve obtain cor rect view curve Nonrational splines hand invariant respect perspective viewing transformation Typically graphics design packages use nonuniform knot vector representations constructing rational B splines These splines referred NURBs nonuniform rational B splines Homogeneous coordinate representations used rational splines since denominator treated homogeneous factor four dimen sional representation control points Thus rational spline thought projection four dimensional nonrational spline three dimen sional space Constructing rational B spline representation carried wilh procedures constructing nonrational representation Given set contrel points degree polynomial weighting factors knot vector apply recurrence relations obtain blending functions Section 11 Rationat Splines Chapter Three Dimensional Object Representations To plot conic sections NURBs use quadratic spline function three contro points We B spline function defined open knot vector quadratic B zier spline We set weighting func tions following values g r rational B spline representation P u PoBosty P rp By pzBz sw 71 Bo gu r l r B su By x u We obtain various conics following values para meter r r hyperbola section r w parabola section r w ellipse section r straight line segment We generate one quarter arc unit circle first quadrant xy plane setting w cos choosing control points nn hyperbola ir Po _ straight line parabola r w r ellipse r Conic sections generated various values rational spline weighting factor w Tone tno PP A circular arc first quadrant p xy plane Po pi pp Other sections unit circle obtained different control point posi tions A complete circle generated using geometric transformation xy plane For example reflect one quarter circular arc x axes produce circular arcs three quadrants In CAD systems construct conic section specifying three points arc A rational homogeneous coordinate spline representation determined computing control point positions would generate selected conic type As example homogeneous representation unit cir cular arc first quadrant xy plane x w yale Qu zu h ttu Sometimes desirable able switch one spline representation another For instance B zier representation convenient one sub dividing spline curve B spline representation offers greater design flex ibility So might design curve using B spline sections convert equivalent Bezier representation display object using recursive sub division procedure locate coordinate positions along curve Suppose spline description object expressed following matrix product Plu U Myonne Maggot 72 Meaine i5 matrix characterizing spline representation Mgeom S column matrix geometric constraints example control point coordi nates To transform second representation spline matrix Mpinez We need determine geometric constraint matrix Mogeomz produces vector point function object That Charter Three Dimenstonal Object Representations PQ G Mopiyer M geom P73 U Maoigw2 Maeone UM geam spline M vom So ving Mgcomz We M yeom Moohine2 Mypnet Meco Maa Moacomi ith required transformation matrix converts first spline repre sentation second calculated Myo My ne M Ue sphnel A nonuniform B spline characterized general spline trix But rearrange knot sequence change nonuniform B spline B zier representation Then B zier matrix couid converted form The following example calculates transformation matrix conversion periodic cubic B spline representation cubic B zier spline representa tion 31 030 3 3a Mee 0 1 10 76 _ Jo4a2 Mla And transformation matrix converting cubic Bezier representa tion periodic cubic B spline representation 2 6 Moe 2 moet NN ON 2 6 aa 771 13 DISPLAYING SPLINE CURVES AND SURFACES To display spline curve surface must determine coordinate positions curve surface project pixel positions display device This means must evaluate parametric polynomial spline functions cer tain increments range functions There several methods use calculate positions range spline curve surface Horner Rule The simplest method evaluating polynomial brute force calcu lation term succession Horner rule performs calculations successive factoring This requires one multiplication one addition step For polynomial degree n n steps As example suppose cubic spline representation coor dinate positions expressed x u aye bw ou dy 78 similar expressions z coordinates For particular value pa rameter u evaluate polynomial following factored order x u Cau bu clu 79 The calculation x value requires three multiplications three additions determination coordinate position x z along cubic spline curve requires nine multiplications nine additions Additional factoring tricks applied reduce number compu tations required Horner method especially higher order polynomials degree greater But repeated determination coordinate positions range spline function computed much faster using forward differ ence calculations spline subdivision methods Forward Difference Calculations A fast method evaluating polynomial functions generate successive val ues recursively incrementing previously calculated values example Xeey Xe AN 80 Thus know increment value x step get next value adding increment value step The increment Ax step called forward difference f divide total range u subintervals fixed size two successive x positions occur x x u xy x u yay Uy k 81 us Section 13 Displaying Spline Curves Surfaces Chapter Three Dimensional Object Representations To illustrate method suppose linear spline representation x u u b Two successive x coordinate positions represented X ayy 82 Xa au b Subtracting two equations obtain forward difference Ax In case forward difference constant With higher order polynomials forward difference polynomial function parameter u degree one less original polynomial For cubic spline representation Eq 78 two successive x coordinate positions polynomial representations xy ue bug cy dy Ye uy BY bay cy 83 The forward difference evaluates Ax 3a 854 69 84 quadratic function parameter u Since Ax polynomial function u use incremental procedure obtain successive values Ax That Ax Ax Atx 85 second forward difference linear function A x 67m 53 86 Repeating process write A xy Atx Bay 87 third forward ditference constant Bx 88 Equations 80 85 87 88 provide incremental forward differ ence calculation points along cubic curve Starting step size obtain initial values x coordinate tirst two forward differ ences Xo Axy a8 89 A x 89 2b Once initia values computed calculation successive x coordinate position requires three additions We apply forward difference methods determine positions along spline curves degree n Each successive coordinate position x evaluated series 3n additions For surfaces incremental calculations applied parameter u parameter v Subdivision Methods Recursive spline subdivision procedures used repeatedly divide given curve section half increasing number control points step Subdi vision methods useful displaying approximation spline curves since continue subdivision process control graph approximates curve path Control point coordinates plotted curve positions An application subdivision generate control points shaping curve Thus could design general curve shape control points could apply subdivision procedure obtain additional control points With added control points make fine adjustments small sections curve Spline subdivision easily applied B zier curve section curve passes first last control points range parameter u always easy determine control points near enough curve path B zier subdivision applied spline representations following sequence operations Convert spline representation use Bezier representation Apply B zier subdivision algorithm Convert B zier representation back original spline representation shows first step recursive subdivision cubic B zier curve section Positions along B zier curve described parametric point function P u O u At first subdivision step use halfway point P divide original curve two sections The first sec tion described point function P section described P 2u forOsus05 99 2u Sus Each two new curve sections number control points original curve section Also boundary conditions position parametric By Prs Pro Pr Pp ty Rg Po Py Pro Pr Before After Subdivision Subdivision Subdividing cubic B zier curve section two sections four control points Section 13 Displaying Spline Curves Surfaces Chapter slope two ends new curve section must match position Three Dimensiona Object slope values original curve P u This gives us four conditions Representations curve section use determine control point positions For first half curve four new control points Pio Po Pi Po py 91 Piz Po 2p po Pis Po 3p 3p2 ps And second half curve obtain four control points Pro Po 3p 3p2 ps P21 F Pi 2p ps 92 Piz P2 py P23 Ps An efficient order computing new control points set add shift division operations Pio Po Pi Po Py T 5p p Pi2 Pin T P2a Ps 93 Po py ps Po r Poa Pan 4p pr Pis Pro These steps repeated number times depenaing whether subdividing curve gain control points whether try ing locate approximate curve positions When subdividing obtain set display points terminate subdivision procedure curve sections small enough One way determine check distances adjacent pairs control points section If distances sufficiently small stop subdividing Or could stop subdividing set control points section nearly along straight line path Subdivision methods applied B zier curves degree For B zier polynomial degree n control points half curve first subdivision step r Pur Ck Dp k n 94 Pak gt Cn kin Dp C k C n k n binomial coefficients We apply subdivision methods directly nonuniform B splines adding values knot vector But general methods effi cient B zier subdivision 14 SWEEP REPRESENTATIONS Solid modeling packages often provide number construction techniques Sweep representations useful constructing three dimensional objects possess translational rotational symmetries We represent ob jects specifying two dimensional shape sweep moves shape region space A set two dimensional primitives circles rectangles provided sweep representations menu options Other methods obtaining two dimensional figures include closed spline curve constructions cross sectional slices solid objects illustrates translational sweep The periodic spline curve defines object cross section We perform translational Pig Py I I Pus Pru v u pp p b Constructing solid translational sweep Translating control paints periodic spline curve generates solid shown b whose surface described point function P u v Section 14 Sweep Representations Auda Rotation Pe oPa Plu Po p Constructing solid rotatianal sweep Rotating control points periodic spline curve given rotation axis generates solid shown b whose surface described point function P u v sweep moving control points py p set distance along straight line path perpendicular plane cross section At intervals along path replicate cross sectional shape draw set connecting lines direction sweep obtain wireframe representation shown Fig 53 b An example object design using rotational sweep given This time periodic spline cross section rotated axis rotation specified plane cross section produce wireframe representa tion shown b Any axis chosen rotational sweep If use rotation axis perpendicular plane spline cross section Fig 54 generate two dimensional shape But cross section shown figure depth using one three dimensional object generate another In general specify sweep constrictions using path For rota tional sweeps move along circular path angular disfance For noncircular paths specify curve function describ ing path distance travel along path In addition vary shape size cross section along sweep path Or could vary orientation cross section relative sweep path move shape region space Another technique solid modeling combine volumes occupied overlapping three dimensional objects using set operations This modeling method called constructive solid geometry CSG creates new volume ap plying union intersectian difference operation two specified volumes Figures 55 56 show examples forming new shapes using set operations In block pyramid placed adjacent Specifying union operation obtain combined object shown b shows block cylinder overlapping vol umes Using intersection operation obtain resulting solid Fig b With difference operation get solid shown c A CSG application starts initial set three dimensional objects primitives blocks pyramids cylinders cones spheres closed spline surfaces The primitives provided CSG package menu se lections primitives could formed using sweep methods spline constructions modeling procedures To create new three dimen sional shape using CSG methods first select two primitives drag position region space Then select operation union inter section difference combining volumes two primitives Now new object addition primitives We use form ob jects We continue construct new shapes using combinations primitives objects created step final shape An object designed procedure represented binary tree An example tree represen tation CSG object given Ray casting methods commonly used implement constructive solid geometry operations objects described boundary representations We apply ray casting constructing composite objects world coordinates xy plane corresponding pixel plane video monitor This plane referred firing plane since fire ray pixel posi tion objects combined We determine surface intersections along ray path sort intersection points accord ing distance firing plane The surface limits composite ob ject determined specified set operation An example ray casting determination surface limits CSG object given shows yz cross sections two primitives path pixel ray per pendicular firing plane For union operation new volume combined interior regions occupied either primitives For intersec tion operation new volume interior region common primitives b c Two overlapping objects b A wedge shaped CSG object formed intersection operation c A CSG object formed difference operation subtracting overlapping volume cylinder block volume Section 15 Constructive Sofid Geometry Methods si Combining two objects union operation produces single composite solid object b Firing Plane implementing CSG operations using ray casting Firing Plane A x ae Determining object volume along ray path small area A firing plane CSG Object A CSG tree representation object wY obj obj aL D Pixe Ray Cperation Surface Limits A Union A D NY Intersection c Firing Difference B D Plane obj obj Zz fa b Determining surface limits along pixel ray And difference operation subtracts volume one primitive Each primitive defined local modeling coordinates Then composite shape formed specifying modeling transforma tion matrices would place two primitives overlapping position world coordinates The inverse modeling matrices used transform pixel rays modeling coordinates surface intersection calculations carried individual primitives Then surface intersec tions two objects sorted used determine composite object limits according specified set operation This procedure repeated pair objects combined CSG tree particular object Once CSG object designed ray casting used determine physica properties volume mass To determine volume object divide firing plane number small squares shown We approximate volume V object crass sectional slice area A along path ray square position pas V Ay dz 95 Az depth object along ray position f object internal holes Az sum distances pairs intersection points along ray The total volume CSG object calculated v S Vv 96 Given density function p x object approximate mass along ray position J A px Yy 2d2 97 one dimensional integral often approximated without actually carrying integration depending form density function The total mass CSG object approximated M 98 EM Other physical properties center mass moment inertia obtained similar calculations We improve approximate calculations values physical properties taking finer subdivisions firing plane If object shapes represeined octrees implement set op erations CSG procedures scanning tree structure describing contents spatial octants This procedure described following section searches octants suboctants unit cube locate regions occupied two objects combined Hierarchical tree structures called octrees used represent solid objects graphics systems Medical imaging applications require dis plays object cross sections commonly use octree representations The tree structure organized node corresponds region three dimen sional space This representation solids takes advantage spatial coherence reduce storage requirements three dimensional objects It also provides convenient representation storing information object interiors The octree encoding procedure three dimensional space exten sion encoding scheme two dimensional space called quadtree encod ing Quadtrees generated successively dividing two dimensional region usually square quadrants Each node quadtree four data ele ments one quadrants region If pixels within quadrant color homogeneous quadrant corresponding data element node stores color In addition flag set data ele ment indicate quadrant homogeneous Suppose pixels quad rant found red The color code red placed data element node Otherwise quadrant said heterogeneous quadrant divided quadrants The corresponding data element node flags quadrant heterogeneous stores pointer next node quadtree An algorithm generating quadtree tests pixel intensity values sets quadtree nodes accordingly If quadrant original space Section 16 Octrees Chapter Three Dimensional Object Representations Quadrant Quadrant Quadran Quadrant _ Data Elements Representative Quadtree Node Region Two Dimensional Space Region two dimensional space divided intu numbered quadrants associated quadtree node four data elements single color specification quadtree one node For heterogeneous region space successive subdivisions quadrants continues quadrants homogeneous shows quadtree representation region containing one area solid color different uniform color specified areas region Quadtree encodings provide considerable savings storage large color areas exist region space since single color area repre sented one node For area containing pixels quadtree repre sentation contains levels Each node quadtree four immediate descendants An octree encoding scheme divides regions af three dimensional space usually cubes octants stores eight data elements node tree Individual elements three dimensional space called vol ume elements voxels When voxels octant type 1 3 Quadtree Representation Region ot Two Dimensional Space Region two dimensional space two levels quadrant divisions associated quadtree representation 3 Quadtree representation region containing one foreground color pixel solid background type value stored corresponding data element node Empty gions space represented voxel type void Any heterogeneous octant subdivided octants corresponding data element node points next node octree Procedures generating octrees similar quadtrees Voxels octant tested octant subdivisions con tinue region space contains homogeneous octants Each node ir octree zero eight immediate descendants Algorithms generating octrees strictured accept definitions objects form polygon mesh curved surface patches solid geometry constructions Using minimum maximum coordinate values object define box parallelepiped around object This region three dimensional space containing object tested octant octant generate octree representation Once octree representation established solid object vari ous manipulation routines applied solid An algorithm perform ing set operations applied two octree representations gion space For union operation new octree constructed combined regions input objects Similarly intersection differ SSS HE DHBBOEoe Data Elements Representative Octree Node Aegion Three Dimensional Space Region three dimensional space divided numbered octants associated octree node eight data elements Section 16 Octrees w nN Chapter Three Dimensional Object Representations ence Operations perforined looking regions overlap two oc trees The new octree formed either storing octants two objects overlap region occupied one object Three dimensonal octree rotations accomplished applying trans formations occupied octants Visible surface identification carried searching octants front back The first object detected visible information transferred quadtree representation display This representation scheme similar octree encoding except divide space two partitions instead eight step With binary space parti tioning BSP tree subdivide scene two sections step plane position orientation In octree encoding scene subdivided step three mutually perpendicular planes aligned Cartesian coordinate planes For adaptive subdivision space BSP trees provide efficient partitioning since position orient cutting planes suit spatial distribution objects This reduce depth tree representation scene compared octree thus reduce time search tree In ad dition BSP trees useful identifying visible surfaces space parti tioning ray tracing algorithms All object representations considered previous sections used Euclidean geometry methods object shapes described equa tions These methods adequate describing manufactured objects smooth surfaces regular shapes But natural objects moun tains clouds irregular fragmented features Euclidean methods realistically model objects Natural objects realistically de scribed fractal geometry methods procedures rather equations used model objects As might expect procedurally defined objects characteristics quite different objects described equations Fractal geometry representations objects commonly applied many fields de scribe explain features natural phenomena In computer graphics use fractal methods generate displays natural objects visualizations various mathematical physical systems A fractal object two basic characteristics infinite detail every point certain self similarity object parts overall features object The self similarity properties object take different forms de pending choice fractal representation We describe fractal object witha procedure specifies repeated operation producing detail ob ject subparts Natural objects represented procedures theoretically repeat infinite number times Graphics displays natural objects course generated witha finite number af steps If zoom continuous Euclidean shape matter campli cated eventually get zoomed view smoath But zoom oN Distant Mountain Closer View Do Closer Yat The ragged appearance mountain outline different levels magnification fractal object continue see much detail magnification original view A mountain outlined sky continues jagged shape view closer closer position Fig 65 As near mountain smaller detail individual ledges boulders becomes apparent Moving even closer see outlines rocks stones grains sand At step outline reveals twists turns If took grains sand put microscope would see detail repeated molecular level Similar shapes describe coastlines edges plants clouds Zooming graphics display fractal object obtained selecting smaller window repeating fractal procedures generate detail new window A consequence infinite detail fractal object definite size As consider detail size objec tends infinity coordinate extents object remain bound within finite region space We describe amount variation object detail number called fractal dimension Unlike Euclidean dimension number necessarily integer The fractal dimension object sometimes referred fractional dimension basis name fractal Fractal methods proven useful modeling wide variety natural phenomena In graphics applications fractal representations used model terrain clouds water trees plants feathers fur various surface textures make pretty patterns In disciplines fractal pat terns found distribution stars river islands moon craters rain fields stock market variations music traffic flow urban prop erty utilization boundaries convergence regions numerical analysis techniques Fractal Generation Procedures A fractal object generated repeatedly applying specified transformation function points within region space If Py xg Yo i8 Selected initial point iteration transformation function F generates successive levels detail calculations P FCP P F P P F P 99 Section 18 Fractal Geometry Methods Chapter Three Dimensional Obyect Representations general transformation function applied specified point set could apply transformation function initial set primitives straight lines curves color areas surfaces solid objects Also use either deterministic random generation procedures iteration The transformation function may defined terms geometric transformations scaling translation rotation set nonlinear coordinate trans formations decision parameters Although fractal objects definition contain infinite detail apply transformation function finite number cf times Therefore objects dis play actually finite dimensions A procedural representation approaches true fractal number transformations increased produce detail The amount detail included final graphical display ob ject depends number iterations performed resolution dis play system We display detail variations smaller size pixel To see object detail zoom selected sections peat transformation function iterations Classification Fractals Self similar fractals parts scaled versions entire object Starting initial shape construct object subparts apply scaling parameter overall shape We use scaling factor sub parts use different scaling factors different scaled parts object If also apply random variations scaled subparts fractal said statistically self similar The parts statistical properties Statistically self similar fractals commonly used mode trees shrubs plants Self affine fractals parts formed different scaling para meters Sy different coordinate directions And also include ran dom variations obtain statistically self affine fractals Terrain water clouds typically modeled statistically self affine fractal construction methods Invariant fractal sets formed nonlinear transformations This class fractals includes selj squaring fractals Mandelbrot set formed squaring functions complex space and_ self inverse fractals formed inversion procedures Fractal Dimension The detail variation fractal object described number D called fractal dimension measure roughness fragmentation object More jagged looking objects larger fractal dimensions We set iterative procedures generate fractal objects using given value fractal dimension D With procedures may able determine fractal dimension properties constructed object although gen eral fractal dimension difficult calculate An expression fractal dimension self similar fractal constructed single scalar factor obtained analogy subdivision Eu clidean object shows relationships scaling factor number subparts n subdivision unit straight line segment square cube With unit line segment divided two equal length subparts Similarly square b divided four equal area subparts cube c divided eight equal volume subparts For objects relationship k HI j De n e ns LA Ales A f oO aga Agen b b fern Vv O Vy n ns3 Subdividing objects Euclidean dimensions Dp b Dy c De using scaling factor number subparts scaling factor F In analogy Euclid ean objects fractal dimension D self similar objects obtained ns 709 Solving expression D fractal similarity dimension _ Inn In udy For self similar fractal constructed different scaling factors different parts fractal similarity dimension obtained implicit relationship qs 1012 scaling factor subpart number k In considered subdivision simple shapes straight line rec tangle box If complicated shapes including curved lines ob jects nonplanar surfaces determining structure properties subparts difficult For general abject shapes use topological cover Section 18 Fractal Geometry Methods Chapter Three Dimensional Object Representations Box covering irregularly shaped object ing methods approximate object subparts simple shapes A subdivided curve example approximated straight line sections subdi vided polygon could approximated small squares rectangles Other covering shapes circles spheres cylinders also used ap proximate features object divided number smaller parts Cov ering methods commonly used mathematics determine geometric prop erties length area volume object summing properties set smaller covering objects We also use covering methods determine fractal dimension D objects Topological covering concepts originally used extend meaning geometric properties nonstandard shapes An extension covering meth ods using circles spheres led notion Hausdorff Besicovitch dimension fractional dimension The Hausdorff Besicovitch dimension used fractal dimension objects general difficult evaluate More commonly fractal dimension object estimated box covering meth ods using rectangles parallelepipeds illustrates notion box covering Here area inside large irregular boundary approxi mated sum areas small covering rectangles We apply box covering methods first determining coordinate extents object subdivide object number small boxes using given scaling factors The number boxes takes cover object called box dimension n related fractal dimension D object For statistically self similar objects single scaling factor cover object squares cubes We count number covering boxes use Eq 101 estimate fractal dimension For self affine objects cover object rectangular boxes since different directions scaled differently In case number boxes used affine transformation para meters estimate fractal dimension The fractal dimension object always greater corresponding Euclidean dimension topological dimension simply least num ber parameters needed specify object A Euclidean curve one dimen sional Euclidean surface two dimensional Euclidean solid three di mensional For fractal curve lies completely within two dimensional plane fractal dimension D greater Euclidean dimension curve The closer D smoother fractal curve If D Peano curve curve completely fills finite region two dimensional space For D curve self intersects area could covered infinite number times Fractal curves used model natural object boundaries shorelines Spatial fractal curves lie completely within single plane also fractal dimension D greater D greater without self intersecting A curve fills volume space dimension D self intersecting space curve fractal dimension D Fractal surfaces typically dimension within range D If D surface fills volume space And D overlapping coverage volume Terrain clouds water typically modeled fractal surfaces The dimension fractal solid usually range D Again D self overlapping object Fractal solids used example model cloud properties water vapor density temperature within region space Sectian 18 A Fractal Geomerry Methods fo _ Generator NY Initiator Initiator generator Koch curve Geometric Construction Deterministic Self Similar Fractals To geometrically construct deterministic nonrandom self similar fractal start given geometric shape called initiatar Subparts initiator replaced pattern called generator As example use initiator generator shown construct snowflake pattern Koch curve shown Each straight line segment initiator replaced four equal length line seg ments step The scaling factor fractal dimension D In In 2619 Also length line segment initiator increases AYE e di First three iterations generation Koch curve A snowflake filling Peano curve Segment Length Segment Length Segment Length va yp Length Length Length Length side Koch curve increases factor step line segment lengths reduced factor Segment Segment Segment Length f Length Length D 129 D 500 D b c Vigure 717 Self similar curve constructions associated fractal dimensions oe tnd OF ee e e oe e Segment Segment Segment Length Length Length O 631 O 333 O 333 Generators wit multiple disjoint parts factor step length fractal curve tends infinity detail added tu curve Examples self similar fractal curve constructions shown These examples illustrate jagged appearance objects higher fractal dimensions We also use generators multiple disjoint components Some exam ples compound generators shown Using random variations compound generators model various natural objects com pound parts island distributions along coastlines shows example self similar construction using multi ple scaling factors The fractal dimension object determined Eq 102 As example self similar fractal construction tor surface scale regular tetrahedron shown factor place scaled Section 18 Fractal Geometry Methods Front Face Scated Copy Tetrahedron b Scaling tetrahedron factor positioning scaled version one face original tetrahedron produces fractal surface b object original four surfaces tetrahedron Each face original tetrahedron converted smaller faces original face area increased factor The fractal dimension surface In6 D indicates fairly fragmented surface Another way create self similar fractal objects punch holes given initiator instead adding surface area shows examples fractal objects created way Geometric Construction Statistically Self Similar Fractals One way introduce randomness geometric construction self similar fractal choose generator randomly step set predefined shapes Another way generate random self similar objects compute coordinate displacements randomly For example cre ate random snowflake pattern selecting random midpoint displacement distance step Self similar tiree dimensional fractals formed generators subtract subparts initiator Courtesy John C Hart Washington State University A modified snowflake pattern using random midpoint displacement Displays trees plants constructed similar geometric methods shows self similar construction fern In figure branch scaled version total object b shows fully rendered fern twist applied branch Another example method shown Here random scaling parameters branching directions used model vein patterns leaf Once set fractal objects created model scene plac ing several transformed instances fractal objects together il lustrates instancing simple fractal tree In fractal forest dis layed To model gnarled contorted shapes trees apply twisting functions well scaling create random self similar branches b Self similar constructions fern Courtesy Peter Oppenheimer Computer ha Graphics Lab New York Institute Technology Fighre 78 Random self similar construction vein branching fall leaf Boundary leaf limit vein growth Courtesy Peter Oppenheimer Computer Graphics Lab New York Institute Technology Modeling scene using multiple object instancing Fractal leaves attached tree several instances tree used form grove The grass modeled multiple instances green cones Courtesy John C Hart Washington State University This technique illustrated Starting tapered cylinder left figure apply transformations produce succession left right spiral helix random twisting pattern A tree modeled random twists shown The tree bark display mod eled using bump mapping fractal Brownian variations bump patterns discussed following section A fractal forest created multiple instances leaves pine needles grass tree bark Courtesy John C Hart Washington State University Modeling tree branches spiral helical random twists Courtesy Peter Oppentteimer Computer Graphics Lab New York Institute Technology An example Brownian motion random walk xy plane Tree branches modeled random squiggles Courtesy Peter Oppenheimer Computer Graphics Lab New York Institute Technology Affine Fractal Construction Methods We obtain highly realistic representations terrain natural objects using affine fractal methods model object features fractional Brownian mo tion This extension standard Brownian motion form random walk describes erratic zigzag movement particles gas otner fluid illustrates random walk path xy plane Starting given position generate straight line segment random direction random length We move endpoint first line segment repeat process This procedure repeated number line seg ments calculate statistical properties line path time interval Fractional Brownian motion obtained adding additional parameter statistical distribution describing Brownian motion This addi tional parameter sets fractal dimension motion path A single fractional Brownian path used model fractal curve With two dimensional array random fractional Brownian elevations A Brownian motion planet observed surface fractional Brownian motion pianet added craters foreground Courtesy R V Voss B B Mandelbrot adapted The Fractal Geometry Nature Benoit B Mandelbrot New York W H Freeman Co ground plane grid model surface mountain connecting el evations form set polygon patches If random elevations generated surface sphere model mountains valleys oceans planet Brownian motion used create elevation variations planet surface The elevations color coded lowest eleva tions painted blue oceans highest elevations white snow mountains Fractional Brownian motion used create terrain fea tures foreground Craters created random diameters ran dom positions using affine fractal prc cedures closely describe distribu tion observed craters river islands rain patterns similar systems objects By adjusting fractal dimension fractional Brownian motion calcu lations vary ruggedness terrain features Values fractal di mension neighborhood D 15 produce realistic mountain features higher values close used create unusual looking extrater restrial landscapes We also scale calculated elevations deepen val leys increase height mountain peaks Some examples terrain fea tures modeled fractal procedures given A scene modeled fractal clouds fractal mountain shown Random Midpoint Displacement Methods Fractional Brownian motion calculations time consuming eleva tion coordinates terrain ground plane calculated Fourier series sums cosine sine terms Fast Fourier transform FFT methods typically used still slow process generate fractal moun tain scenes Therefore faster random midpoint displacement methods similar random displacement methods used geometric constructions developed approximate fractional Brownian motion representations terrain natural phenomena These methods originally used generate animation frames science fiction films involving unusual terrain planet features Midpoint displacement methods commonly used many ap plications including television advertising animations Although random midpoint displacement methods faster frac tional Brownian motion calculations produce less realistic looking terrain features illustrates midpoint displacement method generat ing random walk path xy plane Starting straight line segment calculate displaced value midposition line average endpoint values plus random offset Yet lua b r 103 To approximate fractional Brownian motion choose value r Gaussian distribution mean variance proportional lb al H D D fractal dimension Another way obtain tandom offset take r sr b parameter selected surface toughness factor r asa Gaussian random value mean variance Table lookups used obtain Gaussian values The process repeated calculating displaced value midposition half subdivided line And continue subdivision subdivided line sec tions less preset value At step value random vari Section 18 Fractal Geometry Methods cj Variations terrain features modeled fractional Brownian motion Courtesy R V Voss B B Mandelbrot adapted The Fractal Geometry Nature Benoit B Mandelbrot New York W H Freeman Co b c Ken Musgrave Benoit B Mandelbrot Mathematics Computer Science Yale University A scene modeled fractal clouds mountains Courtesy Ken Musgrave Benoit B Mandelbrot Mathematics Computer Science Yale University b vib yta yta Ymid b x b b x Random midpoint displacement straight line segment able r decreases since proportional width b line section subdivided shows fractal curve obtained method Terrain features generated applying random midpoint displace ment procedures rectangular ground plane We begin assign ing elevation z value four corners b c ground plane Then divide ground plane midpoint edge obtain five new grid positions e f gh Elevations midpositions b b ground plane hpoenne wee f f cy cy tb A rectangular ground plane subdivided four equal grid sections b first step random midpoint displacement procedure calculate terrain elevations Section 18 Fractal Geometry Methods x b A random walk path generated straight line segment four iterations random midpoint displacement procedure Chapter Three Dimensiona Object Representations Eight surface patches formed ground plane first step random midpoint displacement procedure generating terrain features e f g h ground plane edges calculated average eleva tion nearest two vertices plus random offset For example elevation z midposition e cal ulated using vertices b elevation midposi tion f calculated using vertices b c z yp Random values r obtained Gaussian distribution mean variance proportional grid separation raised 2H power H D D fractal dimension surface We could also calculate random offsets product surface roughness factor times grid separation times table lookup value Gaussian value mean variance The elevation z ground plane midposition calculated using positions e g positions f h Alternatively could calculate z using assigned elevations four ground plane corners Zm By 2p This process repeated four new grid sections step grid separation becomes smaller selected value Triangular surface patches formed elevations generated shows eight surface patches formed first subdivision step At level recursion triangles successively subdivided smaller planar patches When subdivision process completed patches ren dered according position light sources values illumina tion parameters selected color surface texture terrain The random midpoint displacement method applied generate components scene besides terrain For instance could use methods obtain surface features water waves cloud patterns ground plane Controlling Terrain Topography One way control placement peaks valleys fractal terrain scene modeled midpoint displacement method constrain calculated ele vations certain intervals different regions ground plane We ac complish setting set control surfaces ground plane illus trated Then calculate random elevation midpoint grid position ground plane depends difference control elevation average elevation calculated position This procedure constrains elevations within preset interval control surface ele vations Control surfaces ground plane Control surfaces used model existing terrain features Rocky Mountains region constructing plane facets using ele vations contour plot particular region Or could set elevations vertices control polygons design terrain features Also control surfaces shape Planes easiest deal could use spherical surfaces curve shaj We use random midpoint displacement method calculate grid eleva tions select random values Gaussian distribution mean standard deviation functions control elevations One way set values make proportional differ ence calculated average elevation predefined control eleva tion grid position For example grid position e set mean standard deviation Me 2p oe S land zc control elevation ground plane position e 1isa preset scaling factor Small values say produce tighter conformity terrain envelope larger values allow greater fluctuations terrain height To determine values control elevations plane control sur face first calculate plane parameters A B C D For ground plane position x elevation plane containing control polygon calculated zc Ax By D C Incremental methods used calculate control elevations posi tions ground plane grid To efficiently carry calculations first subdivide ground plane mesh xy positions shown Then polygon control surface projected onto ground plane We determine grid positions within projection control poly gon using procedures similar scan line area filling That scan line ground plane mesh crosses polygon edges calcu late scan line intersections determine grid positions interior projection control polygon Calculations control elevations grid positions performed incrementally inj AXCA C AYB C 104 Projection triangular control x surface onto ground plane grid Section 18 Fractal Geometry Methods Representations A composite scene modeled random midpoint displacement method planar control surfaces ground plane Surface features terrain water clouds modeled rendered separately combined form composite picture Courtesy Eng Kiat Koh Information Technology Institute Republic Singapore Ax Ay grid spacing x directions This procedure particularly fast parallel vector methods applied process control plane grid positions shows scene constructed using control plar es structure surfaces terrain water clouds ground plane Surface render ing algorithms applied smooth polygon edges pro vide appropriate surface colors Self Squaring Fractals Another method generating fractal objects repeatedly apply transfor mation function points complex space In two dimensions complex num ber represented z x iy x real numbers In three dimensional four dimensional space points represented quatemnions A complex squaring function f z one involves calcu lation z use self squaring functions generate fractal shapes P Depending initial position selected iteration repeated appli cation self squaring function produce one three possible results Fig 94 The transformed position diverge infinity The transformed position converge finite limit point called tractor The transformed position remains boundary object As example nonfractal squaring operation f z z complex plane transforms points according relation unit circle Any Possible outcomes self squaring transformation f z complex plane depending position selected initial position e attractor Julia Set point z whose magnitude zi greater transformed sequence positions tend infinity A point z transformed toward coordinate origin Points circle z remain circle For functions boundary points move toward infinity tend toward finite limit fractal The boundary fracta object called Julia set In general locate fractal boundaries testing behavior selected positions If selected position either diverges infinity converges attractor point try another nearby position We repeat process eventually locate position fractal boundary Then iteration squaring transformation generates fractal shape For simple transforma tions complex plane quicker method locating positions fractal curve use inverse transformation function An initial point chosen inside outside curve converge position frac tal curve A function rich fractals squaring transformation z f z Az z 103 A assigned constant complex value For function use inverse method locate fractal curve We first rearrange terms obtain quadratic equation zt27 aA 106 The inverse transformation quadratic formula z fl sft VI 47A 107 Using complex arithmetic operations solve equation real imaginary parts z Locating fractal boundary inverse self squaring function A unit circle complex plane The nonfractal complex squaring function f z moves points inside circle toward origin points outside circle moved farther away circle Any initia point circle remains circle Chapter Three Dimensional Object x Re z x V Representations Im yo im Idiser Re discr diser Retain 108 discriminant quadratic formula discr A A initial values x say calculated discarded begin plot fractal curve Also since function yields two possible transformed x positions randomly choose either plus minus sign step iteration long Im discr Whenever Im discr two possible positions second fourth quadrants In case x must opposite signs The following procedure gives implementation self squaring function two example curves plotted include math h include values h include graphics h typedef struct float x Complex float lambdaMagSq discrMag Complex discr Static firstPoint TRUE ArstPoint Compute divided lambda ry ry pet Ma wo ra rt e met a4 iL af x x ow roe Me L f f dp eres nur ek ns Two fractal curves generated inverse function f z Az z procedure sel fSquare A 3and b A Each curve plotted 000 points static Complex fourOverLambda void calculatePoint Complex lambda Complex lamodaMagSq lambda x lamb x lambda ambda fourOverLambda x lambda x lambdaMagSq yi fouroverLambda lambda lambdaMagSq firstPoin FALSE discr x z x fourOverLambda x z fourOver Lambda diser z x fourOverLambda z fourOverLambda x discrMag sqrt discr x discr x diser discr Update z checking avoid sqrt negative number discrMag discr x z x else zZ x sqrt discrMag discr x discrMag discr x g QO else z sqrt discrMag discr x Por half points use negative root placing point quad rant random MAXINT Z K K Z Z When imaginary part discriminant negative point lie quadrant reverse sign x discr z x z x Pinish calculation real part z ze x x void selfSquare Complex lambda Complex z int count int k Skip first points fcr k k l0 k calculatePoint lambda z k k count k calculatePoint lambda z Scale point fit window draw pPoint z x WINDOW_WIDTH WINDOW_HEIGHT z wWINDOW_HEIGHT _I A three dimensional plot variables x A self squaring func tion f z Az z Al given Each cross sectional slice plot fractal curve complex plane A famous fractal shape obtained Mandelbrot set set complex values z diverge squaring transforma tion 109 k That first select point z complex plane compute trans formed position z z At next step square transformed position add original z value We repeat procedure determine The function f z Az plotted three dimensions normalized A values plotted vertical axis Courtesy Alan Norton 1BM Research whether transformation diverging The boundary convergence region complex plane fractal To implement transformation 109 first choose window com plex plane Positions window mapped color coded pixel posi tions selected screen viewport The pixel colors chosen ac cording rate divergence corresponding point complex plane transformation 109 If magnitude complex number greater quickly diverge self squaring operation Therefore set loop repeat squaring operations either magnitude complex number exceeds reached preset number itera tions The maximum number iterations usually set value although lower values used speed calculations With lower settings iteration limit however tend lose de tail along boundary Julia set convergence region At end loop select color value according number iterations executed loop For example color pixel black iteration count Viewport imaginary Window n Mapping positions complex plane color coded pixel positions ona video monitor maximum value color pixel red iteration count near Other color values chosen according value iteration count within interval maximum value By choosing different color mappings generate variety dramatic displays Mandel brot set One choice color coding set shown An algorithm displaying Mandelbrot set given following procedure The major part set contained within following region complex plane 25 Re z 75 25 Im 25 We explore details along boundary set choosing successively smaller window regions zoom selected areas display shows color coded display Mandelbrot set series zooms illustrate features remarkable set Section 18 Fractat Geometry Methods Zooming Mandelbrot set Starting display Mandelbrot set zoom selected regions b f The white box outline shows window area selected successive Zoom Courtesy Brian Evans Vanderbilt University include graphics h typedef struct flcat Yomplex j Comp ex complexSquare lomplex c Complex cSq cSq x eSq return cSq q xo int iterate Complex cinit int maxIteri complex z int cnt Quit z z 77 wnile z x x ty z ent maxiter complexSquare Zz Z x ZInit x z Zinit ontt return cnt void mandelbrot int nx int ny int maxIter float realMin float realMax float im gMin float imagMax float realInc realMax realMin nx float imagInc imagMax imagMin ny Complex z int x yi int cont x C x realMin x nx x z x realInc z ysimagMin ry yt z simagiInc ent iterate z maxIter af cnt maxiter setColor BLACK else setColor cnt pPoint x Complex function transformations Eq 105 extended produce fractal surfaces fractal solids Methods generating objects use quaternion representations Appendix A transforming points three dimensional four dimensional space A quaternion four components one real part three imaginary parts represented extension concept number complex plane q stiat jb ke 710 wherei j k The real partsisalsoreferred toas scalar part quater nion imaginary terms called quaternion vector part v b c Using rules quaternion multiplication addition discussed Ap pendix A apply self squaring functions iteration methods generate surfaces fractal objects instead fractal curves A basic procedure start position inside fractal object generate successive points position exterior diverging point identified The previous inte rior point retained surface point Neighbors surface point tested determine whether inside converging outside diver rging Any inside point connects outside point surface point In way procedure threads way along fractal boundary without gen erating points far surface When four dimensional fractals generated three dimensional slices projected onto two dimensional surface video monitor Procedures generating self squaring fractals four dimensional space require considerable computation time evaluating iteration function testing points Each point surface represented small cube giv ing inner outer limits surface Output programs three dimensional projections fractal typically contain million ver tices surface cubes Display fractal objects performed applying illumination models determine lighting color surface cube Hidden surface methods applied visible surfaces ob jects displayed Figures 101 102 show examples self squaring four dimensional fractals projections three dimensions Self Inverse Fractals Various geometric inversion transformations used create fractal shapes Again start initial set points repeatedly apply nonlinear inversion operations transform initial points fractal As example consider two dimensiona inversion transformation respect circle radius r center position Py x5 yo Any point P outside circle inverted position P inside circle Fig 103 transformation P PXP P 111 Section 18 Fractal Geometry Methods Three dimensional projections four dimensional fractals generated self squaring quaternion function f q Aq q A 475 9061i b A 57 Courtesy Alan Norton IBM Research Chapter Three Dimensional Object Representations A three dimensional surface projection four dimensional object generated self squaring quaternion function f q q Courtesy Alan Norton IBM Research Inverting point P position P inside circle radius r Reciprocally trasformation inverts point inside circle point side circle Both P P lie straight line passing circle cen ter Po If coordinates two points P x P write Eq 111 Ce xP yp yp PF Also since two points lie along line passing circle center x x9 x x9 Therefore transformed coordi nate values Px xX ry yo x _ x xp H Mo x xo 112 illustrates inversion points along another circle bound ary As long circle inverted pass P transform another circle But circle circumference passes Pp circle _ Originat Circle Inverted Circle Inversion circle respect another circle transforms straight line Conversely points along straight line passing P invert circle Thus straight lines invariant inversion transformation Also invariant transformation circles thogonal reference circle That tangents two circles perpen dicular intersection points We create various fractal shapes inversion transformation starting set circles repeatedly applying transformation using different reference circles Similarly apply circle inversion set straight lines Similar inversion methods developed objects And generalize procedure spheres planes shapes three di mensional space A number procedural methads developed generating ob ject details Shape grammars sets production rules applied initial object add layers detail harmonious original shape Transformations applied alter geometry shape object transformation rules applied add surface color surface texture detail Given set production rules shape designer experiment applying different rules step transformation given initial ob ject final structure shows four geometric substitution rules altering triangle shapes The geometry transformations rules B Rule Rule Four geometric substitution mules subdividing altering shape equilateral triangle Chapter10 written algorithmically system based input picture drawn Three Dimensional Object production rule editor That rule described graphically show Representations ing initial final shapes Implementations set Mathemat ica programming language graphics capability An application geometric substitutions given Fig 106 obtained applying four rules succession starting initial triangle shows another shape created triangle substitution rules b c An equilateral triangle converted shape b using substitution mules Fig 105 Rule used convert b shape c turn transformed using Tule Copyright Andrew Glassner Xerox PARC Palo Alto Research Center A design created geometric substitution rules altering triangle shapes Copyright Andrew Glassner Xerox PARC Palo Alto Research Center Ts A design created geometric substitution rules altering prism shapes The initial shape design representation Rubik Snake Copyright Andrew Glassner Xerox PARC Palo Alto Research Center Three dimensional shape surface features transformed similar operations shows results geometric substitutions applied polyhedra The initial shape objects shown icosahe dron polyhedron faces Geometric substitutions applied plane faces icosahedron resulting polygon vertices projected surface enclosing sphere Another example using production rules describe shape objects L grammars graftals These rules provide method describing plants For _ instance topology tree described trunk attached branches leaves A tree modeled rules provide particu lar connection branches leaves individual branches The geometrical description given placing object structures particular coordinate positions shows scene containing various plants trees con structed commercial plant generator package Procedures software constructing plants based botanical laws Designs created surface sphere using triangle substitution Tules applied plane faces icosahedron followed projections sphere surface Copyright Andrew Classner Xerox PARC Palo Alto Research Center Realistic scenery generated TDI AMAP software package generate varieties plants trees using procedures based botanical laws Courtesy Thomson Digital Image 20 PARTICLE SYSTEMS A method modeling natural objects irregularly shaped objects exhibit fluid like properties particle systems This method particularly good describing objects change time flowing billowing spatter ing expanding Objects characteristics include clouds smoke fire fireworks waterfalls water spray clumps grass For example particle sys tems used model planet explosion expanding wall fire due genesis bomb motion picture Star Trek I The Wrath Khan Random processes used generate objects within defined region space vary parameters time Af random time ob ject deleted During lifetime particle path surface characteris tics may color coded displayed Particle shapes small spheres ellipsoids boxes shapes The size shape particles may vary randomly time Also properties particle transparency color movement vary randomly In applications particle motion may controlled specified forces gravity field As particle moves path plotted displayed particular color For example fireworks pattern displayed randomly generating Particles within spherical region space allowing move radially Section 21 Partical Systems Modeling fireworks particle system particles traveling radially outward center sphere outward The particle paths color coded red yel low instance simulate temperature exploding particles Simi larly realistic displays grass clumps modeled trajectory par ticles shot ground fall back earth gravity In case particle paths originate within tapered cylinder might color coded green yellow illustrates particle system simulation waterfall The water particles fall fixed elevation deflected obstacle splash ground Different colors used distinguish particle Modeling clump grass firing particles upward within tapered cylinder The particle paths parabolas due downward force gravity Simulation behavior waterfall hitting stone circle The water particles deflected stone splash ground Courtesy M Brooks T L Howard Department Computer Scrence University Manchester Chapter Three Dimensional Object Representations paths stage An example animation simulating disintegration object shown The object left disintegrates par ticle distribution right A composite scene formed variety repre sentations given The scene modeled using particle system grass fractal mountains texture mapping surface rendering pro cedures An object disintegrating cloud particles Courtesy Autodesk Inc A scene entitled Road Point Reyes showing particle system grass fractal mountains texture mapped surfaces Courtesy Pixar Copyright Pixar A nonrigid object rope piece cloth soft rubber ball represented physically based modeling methods describe behavior object terms interaction external internal forces An accu rate discription shape terry cloth towel drapped back chair obtained considering effect chair fabric loops cloth interaction cloth threads A common method modeling nonrigid object approximate ob ject network point nodes flexible connections nodes One simple type connection spring shows section two dimensional spring network could used approximate behavior sheet rubber Similar spring networks set three dimensions model rubber ball block jello For homogeneous object use identical springs throughout network If want object different properties different directions use different spring properties differ ent directions When external forces applied tc spring network amount stretching compression individual springs depends value set spring constant k also called force constant spring Horizontal displacement x node position influence force F illustrated If spring overstretched closely approximate amount displacement x equilibrium position using Hooke law Fo F kx ifO T73 F equal opposite restoring force spring stretched node This relationship holds also horizontal compression spring amount x similar relationships displacements force compo nents z directions If objects completely flexible return original configuration external forces removed But want model putty deformable object need modify spring characteristics springs return original shape external forces moved Another set applied forces deform object ir way k unstretched pagsiton F An external force F pulling ore end spring end rigidly fixed Figure Hed lo A two dimensional spring network constructed identical spring constants k Chapter Three Dimensional Object Representations Instead using springs also model connections nodes elastic materials minimize strain energy functions determine ob ject shape influence external forces This method provides better model cloth various energy functions devised describe behavior different cloth materials To model nonrigid object first set external forces acting object Then consider propagation forces throughout network representing object This leads set simultaneous equations must solve determine displacement nodes throughout network shows banana peel modeled spring network scene shows examples cloth modeling using energy functions texture mapped pattern one cloth By adjusting parameters network using energy function calculations different kinds cloth mod eled illustrates models cotton wool polyester cotton mate rials draped table Physically based modeling methods also applied animations accurately describe motion paths In past animations often specified using spline paths kinematics motion parameters based Modeling flexible behavior banana peel spring network Copyright David Laidlaw John Snyder Adam Woodbury Alan Barr Computer Graphics Lab California Institute Technology Modeling flexible behavior cloth draped furniture using energy function minimization Copyright Gene Greger David E Breen Design Research Center Rensselaer Polytechnic Institute iba ud Modeling characteristics cotton b wool c polyester cotton using energy function minimization Copyright David E Breen Donald H House Design Research Center Rensselaer Polytechnic Institute position velocity Physically based modeling describes motion using dynam ical equations involving forces accelerations Animation descriptions based equations dynamics produce realistic motions based equations kinematics The use graphical methods aid scientific engineering analysis commonly referred scientific visualization This involves visualization data sets processes may difficult impossible analyze without graphical methods For example visualization techniques needed deal output high volume data sources supercomputers satellite spacecraft scanners radio astronomy telescopes medical scanners Mil lions data points often generated numerical solutions computer simulations observational equipment difficult determine trends relationships simply scanning raw data Similarly visualization techniques useful analyzing processes occur long time period observed directly quantum mechanical phenomena special relativity effects produced objects traveling near speed light Scientific visualization uses methods computer graphics image pro cessing computer vision areas visually display enhance nipulate information allow better understanding data Similar methods employed commerce industry nonscientific areas sometimes ferred business visualization Data sets classified according spatial distribution according data type Two dimensional data sets values distributed surface three dimensional data sets values distributed interior cube sphere region space Data types include scalars vectors tensors multivariate data Visual Representations Scalar Fields A scalar quantity one single value Scalar data sets contain values may distributed time well spatial positions Also data Section 22 Visuatization Data Sets Chapter Three Dimensional Object Representations values may functions scalar parameters Some examples physical scalar quantities energy density mass temperature pressure charge resis tance reflectivity frequency water content A common method visualizing scalar data set use graphs charts show distribution data values function parameters position time If data distributed surface could plot data values vertical bars rising surface interpolate data values display smooth surface Pseudo color methods also used distinguish different values scalar data set color coding techniques combined graph chart methods To color code scalar data set choose range colors map range data values color range For example blue could assigned lowest scalar value red could assigned highest value gives example color coded surface plot Color coding data set tricky color combina tions lead misinterpretations data Contour plots used display isolines lines constant scalar value data set distributed surface The isolines spaced convenient interval show range variation data values region space A typical application contour plot elevations ground plane Usually contouring methods applied set data values distributed regular grid Regular grids equally spaced grid lines data values known grid intersections Numerical solutions computer simulations usually set produce data distributions regu lar grid observed data sets often irregularly spaced Contouring meth ods devised various kinds nonregular grids often nonregu lar data distributions converted regular grids A two dimensional contouring algorithm traces isolines cell cell within grid check ing four corners grid cells determine cell edges crossed A financial surface plot showing stock growth potential October stock market crash Red indicates high returrs plot shows low growth stocks performed better crash Courtesy Eng Kiat Koh Information Technology Institute Republic Singapore I rn nn nn ee ee _ rt A regular two dimensional grid yt data values intersection ee _ wa grid lines The x grid lines constant Ax spacing grid lines constant Ay VO ett ea mettre ne nee spacing spacing x C wee co directions may Ax particular isoline The isolines usually plotted straight line sections across cell illustrated Sometimes isolines plotted spline curves spline fitting lead inconsistencies misinterpretation data set For example two spline isolines could cross curved isoline paths might true indicator data trends since data values known cell corners Contouring packages allow interactive adjustment iso lines researcher correct inconsistencies An example three overlap ping color coded contour plots xy plane given Fig 125 shows contour lines color coding irregularly shaped space For three dimensional scalar data fields take cross sectional slices display two dimensional data distributions slices We could ei ther color code data values slice could display isolines Visual ization packages typically provide slicer routine allows cross sections Color coded contour plots three data sets within region xy plane Courtesy National Center Supercomputing Applications University Mlinois Urbana Champaign Color coded contour plots surface apple core shaped region space Courtesy Greg Nielson Department Computer Science Engineering Arizona State University Section 22 Visualization Data Sets e The path isoline across five grid cells Cross sectional slices three dimensional data set Courtesy Spyglass inc B eBar taken angle shows display generated commercial slicer dicer package Instead looking two dimensional cross sections plot one isesurfaces simply three dimensional contour plots Fig When two overlapping isosurfaces displayed outer surface made transparent view shape isosurfaces Constructing isosurface similar plotting isolines except three dimensional grid cells need check values eight corners cell locate sections isosurface shows examples isosurface inter sections grid cells Isosurfaces modeled triangle meshes sur face rendering algorithms applied display final shape An isosurface generated set watet content values obtained numerical model thunderstorm Courtesy Bob Withelmson Department Atmospheric Sciences National Center Supercomputing Applications University Hlinois Urbana Champaign Isosurface intersections grid cells modeled triangle patches Volume rendering often somewhat like X ray picture method visualizing three dimensional data set The interior informa tion data set projected display screen using ray casting meth ods introduced Section 15 Along ray path screen pixel Fig 129 interior data values examined encoded display Often data values grid positions averaged one value stored voxel data space How data encoded display depends ap plication Seismic data example often examined find maximum minimum values along ray The values color coded give formation width interval minimum value In medical ap plications data values opacity factors range tis sue bone layers Bone layers completely opaque tissue somewhat transparent low opacity Along ray opacity factors accu mulated either total greater equal ray exits back three dimensional data grid The accumulated opacity value displayed pixel intensity level gray scale color Figure 130 shows volume visualization medical data set describing struc ture dog heart For volume visualization color coded plot dis tance maximum voxel value along pixel ray displayed Data Volume Volume visualization regular Cartesian data grid using ray casting examine interior data values Volume visualization data set dog heart obtained eeee plotting color coded distance maximum voxel value pixel Courtesy Patrick Moran Clinton Potter National Center Supercomputing Applications University Himois Urbana Champaign Section 22 Visualization Data Sets Three Dimensional Object Chapter Representations Visual Representations Vector Fields A vector quantity V three dimensional space three scalar values V V V one coordinate direction two dimensional vector two components V V Another way describe vector quantity giving magnitude v direction unit vector u As scalars vector quan tities may functions position time parameters Some examples physical vector quantities velocity acceleration force electric fields magnetic fields gravitational fields electric current One way visualize vector field plot data point small arrow shows magnitude direction vector This method often used cross sectional slices since difficult see data trends three dimensional region cluttered overlapping ar rows Magnitudes vector values shown varying lengths arrows make arrows size make arrows differ ent colors according selected color coding vector magnitudes Arrow representation vector field cross sectional slices Courtesy National Center Supercomputing Applications University Illinois Urbana Champaign We also represent vector values plotting field lines streamlines Field lines commonly used electric magnetic gravitational fields The magnitude vector values indicated spacing field lines direction tangent field shown An example streamline plot vector field shown Streamlines displayed wide arrows particularly whirlpool vortex effect pre sent An example given displays swirling airflow patterns inside thunderstorm For animations fluid flow behavior vector field visualized tracking particles along flow direction An ee hi I ther Field line representation lower vector data set Section 22 Visualization Data Sets Visualizing airflow around cylinder hemispherical cap tilted slightly relative incoming direction airflow Courtesy M Gerald Yamasaki J Huiltquist Sam Uselton NASA Ames Research Center Twisting airflow patterns visualized wide streamlines inside transparent isosurface plot thunderstorm Courtesy Bob Withelmson Department Atmospheric Sciences Nafional Center far Supercomputing Applications University Hlinois Urbana Champaign Airflow patterns visualized streamlines particle motion inside transparent isosurface plot thunderstorm Rising sphere particles colored orange falling sphere particles blue Courtesy Bob Wilhelmson Department Atmospheric Sciences National Center Supercomputing Applications University llinots Urbana Champaign example vector field visualization using streamlines particles shown Sometimes magnitudes vector quantities displayed This often done multiple quantities visualized single position directions vary much region space vector directions less interest Visual Representations Tensor Fields A tensor quantity three dimensional space nine components represented matrix Actually representation used sec ond order tensor higher order tensors occur applications particu larly general relativity Some examples physical second order tensors Chapter Three Dimensional Object Representations stress strain material subjected external forces conductivity resis tivity electrical conductor metric tensor gives proper ties particular coordinate space The stress tensor Cartesian coordinates example represented Gy Ow Oy Op 114 Ox Ty oO Tensor quantities frequently encountered anisotropic materials different properties different directions The x xy xz elements conductivity tensor example describe contributions electric field components x z directions current x direction Usually physical tensor quantities symmetric tensor six distinct values For instance xy yx components stress tensor Visualization schemes representing six components second order tensor quantity based devising shapes six parameters One graphical representation tensor shown The three diagonal elements tensor used construct magnitude direction arrow three diagonal terms used set shape color elliptical disk Instead trying visualize six components tensor quantity reduce tensor vector scalar Using vector representation simply display vector representation diagonal elements tensor And applying tensor contraction operations obtain scalar representa tion For example stress strain tensors contracted generate scalar strain energy density plotted points material subject external forces Visual Representations Multivariate Data Fields In applications grid position region space may multiple data values mixture scalar vector even ten Representing stress strain tensors elliptical disk rod surface stressed material Courtesy Bob Haber National Center Supercomputing Applications Untversity Ulinais Urbana Champaign Representing stress strain tensors strain energy density plot visualization crack propagation surface stressed material Courtesy Bob Haber National Center Supercomputing Applications University Illinois Urbana Champaign sor values As example fluid flow problem may fluid velocity temperature density values three dimensional position Thus five scalar values display position situation similar displaying tensor field A method displaying multivariate data fields construct graphical objects sometimes referred glyphs multiple parts Each part glyph represents physical quantity The size color part used display information scalar magnitudes To give directional information vector field use wedge cone pointing shape glyph part representing vector An example visualization mul tivariate data field using glyph structure selected grid positions shown Ligure 138 One frame animated visualization multivariate data field using glyphs The wedge shaped part glyph indicates direction vector quantity point Courtesy Natranal Center Supercomputing Applications University Hiunais Lirbana Champaign Visualization Data Sets Chapter Three Dimenstanal Object Representations SUMMARY Many representations developed modeling wide variety ob jects might displayed graphics scene Standard graphics objects represented surface mesh polygon facets Polygon mesh represen tations tvpically derived representations Surface functions quadrics used describe spheres smooth surfaces For design applications use superquadrics splines blobby objects represent smooth surface shapes In addition struction techniques CSG sweep representations useful de signing compound object shapes built set simpler shapes And interior well surface information stored octree representa tions Descriptions natural objects trees clouds irregu larly shaped objects specified fractals shape grammars particle systems Finally visualization techniques use graphic represcntations display numerical types data sets The various types numerical data clude sealar vector tensor values Also many scientific visualizations require methods representing multivariate data sets contain combination various data types REFERENCES A detailed discuss superquadrics Contained Barr For information blobby object niodeling see Blinn The metaball mode discussed Nishimura soft object model discussed Wyville Ww lle McPheeters Sources information parametric curve surface representations include Bezie Burt Adelsor Barsky Kochanek Bartels Farouki Hinds Huitric Nahas Mortenson Farin Ravers Adams Octrees quadtrees cre discussed bys Doctor Yamaguchi Kuni Fujimura bs Carlbom Chakravarty Vanderschel Solic modeling references include Casate Staten Requicha Rassizrac For information iractal representations see Mandellrot 1982 Fournier Fussel Carpenter Noston Peitgen Richter Peitgen Saupe Koh Hearn Barnsley Skape grammars disc ussed Glassner particle systems discussed Reeves A discussion physically based modeling given Barzel A general introduction visualization methods given ir Hearn Baker Addi tonal intormation specific v sualization methods found Sabin Lorensen Cline Drebin Carpenter Hanrahan Sabella Lipson Keeler Frenkel Nielson Shriver Rosenblum Ntelson Guidelines tor visual displays information given Tute EXERCISES HOV Set ap geomuetac data tables asin Fig aun cube Setup weanmetre data tables tora unit cube using cas vertex polygon tables bia single poivgon table Compare two methods representing unit cube representation using three data tables esamate storage requirenrents tor Gach 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 Define efficient polygon representation cylinder Justify choice repre sentation Set procedure establishing polygon tables input set data points defining object Devise routines checking data tables consistency com pleteness Write program calculates parameters A B C BD set three di mensional plane surfaces defining object Given plane parameters A B C D surfaces object devise al gorithm determine whether specified point inside outside object How would values parameters A 8B C D equation plane sur face altered coordinate reference changed right handed system lefi handed system Sel algorithm converting specified sphere ellipsoid cylinder polygon mesh representation Set algorithm converting specified superellipsoid polygon mesh rep resentation Set algorithm converting metaball representation palygon mesh rep resentation Write routine display two dimensional cardinal spline curve given input set contro points xy plane Write routine display two dimensional Kochanek Bartels curve given input set control points xy plane Determine quadratic B zier blending functions three contro points Plot function label maximum minimum values Determine B zier blending functions five control points Plot function label maximum minimum values Write efficient routine display two dimensional cubic B zier curves given set four control points xy plane Write routine design two dimensional cubic B zier curve shapes first order piecewise continuity Use interactive technique selecting control point positions xy plane section curve Write routine design two dimensional cubic B zier curve shapes sec order piecewise continuity Use interactive technique selecting control point positions xy plane section curve Write routine display cubic B zier curve using subdivision method Determine blending functions uniform periodic B spline curves Determine blending functions uniform periodic B spline curves Write program using forward differences calculate points along two dimen sional uniform periodic cubic B spline curve given input set control points Write routine display specified conic xy plane using rational B zier spline representation Write routine display specified conic xy plane using rational B spline representation Develop algorithm calculating normal vector Bezier surface point P u Vv Write program display specified quadratic curve using forward differences calculate points along curve path Write program display specified cubic curve using forward differences lo calculate points along curve path Derive expressions calculating forward differences specified quadratic curve Exercises Chaater Three Dimensianal Object Represertations 31 32 33 34 35 36 38 39 40 41 42 43 44 45 46 47 48 49 50 5t 52 Derive expressions tor calculaung forward differences specified cubic CUrVe Set procedures ter generating description three dimensional object input parameters thai define object terms translational sweep Develop procedures generating description three dimensiona object using input parameters define object terms rotational sweep Devise algorithm tar generating solid objects cornbinations three dimen sional primitive shapes defined set surfaces using cunstructive solid geometsy methods Develop algorithm performing constructive solid geametry modeling using Primitive set solids defined octree structures Develop algorithm encoding two dimensional scene Quadiree represen tation Set algorithm loading quadtree representation scene frame buffer display tne scene Write routine convert polygon definition three dimensional object octree representation Using random midpoint displacement method write routine create moun tain outline starting horizontal fine xy plane Write routine calculate elevations ground plane using random mid point cisplacement method Write program 2enerating iractal snowtlake Koch curve given num ber iteratians Write program generate fractal curve far specified number af iterations using one generators 72 What fractal dimension vour curve Write program generate fractal curves using self squaring function Mz A Vis selected complex constant Write program generate fractal curves using self squaring tunction fQX Kz Ti ro W T Write routine interactively select diflerent color combinatians displaying Mandelbrot set Write program interactively select ary rectangular egion Mandelbrot set 200m selected region Write routine implement point inversion Eq 112 tor specified circle given point position Devise set geometric substitution rules altering shape equilateral tri angle Write program display stages conversion equilateral triangle another shape given set geometric substitulion rules Write program model exploding firecracker xy plane using particle system Devise algorithm modeling rectangle nonrigid body using identical springs four sides rectangle Write routine visualize two dimensional scalar data set using pseudo color methods Write routine visualize two dimensional scalar data set using contour lines Write routine visualize two dimensional vecto data set using arrow repre sentation vector values Make arrows length display ar rows different cclors represent different vector magnitudes CHAPTER Three Dimensional Geometric Modeling Transformations Bie sce E coli Thymidytate Synthase WM JFM RMS Tren hg ered M ethods geometric transformations object modeling three di mensions extended two dimensional methods including considerations z coordinate We translate object specifying three dimensional translation vector determines much object moved three coordinate directions Similarly scale object three coordinate scaling factors The extension three dimensional rota tion less straightforward When discussed two dimensional rotations xy plane needed consider rotations axes perpendicu lar xy plane In three dimensional space select spatial ori entation rotation axis Most graphics packages handle three dimensional rotation composite three rotations one three Cartesian axes Alternatively user easily set general rotation matrix given orienta tion axis required rotation angle As two dimensional case express geometric transformations matrix form Any sequence transfor mations represented single matrix formed concatenating trices individual transformations sequence In three dimensional homogeneous coordinate representation point trans lated position P z position P x z trix operation x x efrfoor e ae 000 P T P Parameters f specifying translation distances coordinate direc tions x z assigned real values The matrix representation Eq equivalent three equations xosut yorytth tH nN axis etx yz Te ltt tl xaxis Translating point translation axis vector T ty axis ei yi z Tait Translating object Z axis translation vector T An object translated three dimensions transforming defining points object For object represented set polygon sur faces translate vertex surface redraw polygon facets new position We obtain inverse translation matrix Eq negating translaticn distances ty This produces translation opposite di rection product translation matrix inverse produces iden tity matrix To generate rotation transformation object must designate axis rotation object rotated amount angular rota tion Unlike two dimensional applications transformations carried xy plane three dimensional rotation specified around line space The easiest rotation axes handle parallel coor dinate axes Also use combinations coordinate axis rotations along appropriate translations specify general rotation By convention positive rotation angles produce counterclockwise rotations coordinate axis looking along positive half axis ward coordinate origin This agrees earlier discussion rotation two dimensions positive rotations xy plane counter clockwise axes parallel z axis Coordinate Axes Rotations The two dimensional z axis rotation equations easily extended three di mensions Section Rotation Chapter b Three Dimensional Geometric Modeling Transformatons b Positive rotation directions coordinate axes counterc ockwise looking toward origin positive io coordinate position axis x xcos ysin xsin ycos uil Ze Parameter specifies rotation angle In homogeneous coordinate form three dimensional z axis rotation equations expressed x cos sing O x sa wey _ sin cos Oy ES z 0 Zz Section pection ire Rotation x Rotation object z Zz axis write compactly P R P illustrates rotation object z axis Transformation equations rotations two coordinate axes obtained cyclic permutation coordinate parameters x z Eqs That use replacements KAYLA illustrated Substituting permutations Eqs get equations x axis rotation ycos zsin e z ysind z cost v x written homogeneous coordinate form x 0 x yo _ cos sine sin cos z 0 x SX x fy z Figure Cyclic permutation Cartesian coordinate axes produce three sets coordinate axis rotation equations Chapter ye Three Dimensional Geometric Modeling Transtormations Rotation object x X axis P R P 10 Rotation object around x axis demonstrated Fig Cyclically permuting coordinates Eqs give us transformation equations axis rotation zc0s x sing x zsin xcos GT yr The matrix representation axis rotation x cos QO sin O x _ eld z sind cosd z 0 P R P iyfeT3 An example axis rotation shown Yy ba ae x axis Rotation object An inverse rotation matrix formed replacing rotation angle Negative values rotation angles generate rotations clockwise direc tion identity matrix produced rotation matrix multiplied inverse Since anly sine function affected change sign ro tation angle inverse matrix also obtained interchanging rows columns That calculate inverse rotation matrix R evalu ating transpose R7 R This method obtaining inverse matrix holds also composite rotation matrix General Three Dimensional Rotations A rotation matrix axis coincide coordinate axis set composite transformation involving combinations translations coordinate axes rotations We obtain required composite matrix first setting transformation sequence moves selected rotation axis onto one coordinate axes Then set rotation matrix co ordinate axis specified rotation angle The last step obtain inverse transformation sequence returns rotation axis original position In special case object rotated axis par allel one coordinate axes attain desired rotation fol lowing transformation sequence Translate object rotation axis coincides parallel coor dinate axis Perform specified rotation axis Translate object rotation axis moved back original po sition The steps sequence illustrated Any coordinate position P object figure transformed sequence shown P T R T P composite matrix transformation R T R T form two dimensional transformation sequence rotation arbitrary pivot point When object rotated axis parallel one coordinate axes need perform additional transformations In case also need rotations align axis selected coordinate axis bring axis back original orientation Given specifications rotation axis rotation angle accomplish required rotation five steps Translate object rotation axis passes coordinate origin No Rotate object axis rotation coincides one caor dinate axes Perform specified rotation coordinate axis Section Ratation Chaper Three Dimensianal Geometric Modeling Transformations Qriginal Position Object tc Rotate Object Through Angle l0lgz ilion Axis R may Be Z x N b Translate Rotation Axis onto x Axis id Translate Rotation Axis Original Position Sequence transformations rotating object axis parallel x axis Apply inverse rotations bring rotation axis back ts original orien tation Apply inverse translation bring rotation axis back original position We transform rotation axis onto three coordinate axes The z axis reasonable choice following discussion shows set transformation matrices getting rotation axis onto z axis returning rotation axis original position A rotation axis defined two coordinate positions Fig one coordinate point direction angles er direction cosines tween rotation axis two coordinate axes We assume rotation axis defined two points illustrated direction ro tation counterclockwise looking along axis P P An axis vector defined two points V P P Phd Xy Y2 TY A unit vector u defined along rotation axis Vv u TI b c 13 Pie P f x Initial Step Positron Translate Step P Origin Rotate P onto Axis x Step Step Step Ratate Axis Translate Rotate Original Rotation Axis Object Around Orientation Original z Axis Position Five transformation steps obtaining composite matrix rotation arbitrary axis rotation axis projected onto z axis components b c unut vector u direction cosines rotation axis BO p22 ce BOR 16 iv iv v If rotation opposite direction clockwise viewing P P would reverse axis vector V unit vector u point P P The first step transformation sequence desired rotation set translation matrix repositions rotation axis passes coordinate origin For desired direction rotation accomplish moving point P origin If rotation direction specified opposite direction would move P crigin This translation matrix x T 91 repositions rotation axis object shown Section Rotation An axis rotation dashed line defined points P P The direction unit axis vector u determined specified rotation direction Translation rotation axis coordinate ongin Rotation u around x axis xz plane accomplished rotating u projection u yz plane angle onto axis tb Unit vector u rotated x axis bring xz plane rotated around axis align z axis b Now need transformations put rotation axis z axis We use coordinate axis rotations accomplish alignment two steps There number ways perform two steps We first ro tate x axis transform vector u xz plane Then swing u around z axis using axis rotation These two rotations illustrated one possible orientation vector u Since rotation calculations involve sine cosine functions use standard vector operations Appendix A obtain elements two rotation matrices Dot product operations allow us determine cosine terms vector cross products provide means obtaining sine terms We establish transformation matrix rotation around x axis de termining values sine cosine rotation angle necessary get u xz plane This rotation angle angle projection u yz plane positive z axis lf designate projection u yz plane vector u b c cgsine rotation angle determined dot product u unit vector u along z axls cosa EE lu fu thi Gs magnitude vf u Vb iff Similarly determine sine cross product w u The coordinate independent form cross product w Xu u lu ju sine 269 Cartesian form cross product gives us wXu u Wie 2k Equating right sides Eqs 20 21 noting lu lu dsina h Section Rotation sing 22 Ri Now determined values cosa sina terms com ponents vector u set matrix rotation u x axis 0 _ c b a2 RL ya cfd 0 This matrix rotates unit vector u x axis xz plane Next need determine form transformation matrix swing unit vector xz plane counterclockwise around axis onto positive axis The orientation unit vector xz plane rotation x axis shown This vector labeled u value x component since rotation x axis leaves x component un changed Its z component magnitude u vector u rotated onto z axis And component u lies xz plane Again determine cosine rotation angle expres sions dot product unit vectors u u uw u cosB 24 fu lu Rotation unit vector u since lu lu Comparing coordinate independent form cross vector u rotation product xz plane axis Positive rotation angle B wu Xu uly lu sing 1f aligns u vector u Cartesian form u Xu uy 26 find sing 27 Thus transformation matrix rotation af u axis Qo _ R A ad 2e 1 With transformation matrices 17 23 28 aligned rotation axis positive axis The specified rotation angle applied rotation z axis Al Chapter Three Dimensianal Geometric Modeling Transformations Q wosu uw Local coordinate system rotation axis defined unit vector u Al8 cos sind sind cos RC 29 1 To complete required rotation abou given axis need trans form rotation axis back original position This done applying inverse transformations 17 23 28 The transformation matrix ratation arbitrary axis expressed composition seven individual transformations R TR Mab Ry 4A RLC8 RB Ra T 30 A somewhat quicker perhaps less intuitive method obtaining composite rotation matrix R R take advantage form composite matrix sequence three dimensional rotations Thoth Ma R tm tm O 31 Tr Tm 0 The upper left submatrix matrix orthogonal This means tows columns submatrix form set orthogonal unit vectors rotated matrix R onto x z axes respectively ry ry ry r R fa R Ia farsa na ra Pay 1 I Therefore consider local coordinate system defined rotation axis simply form matrix whose columns loca unit coordinate vec tors Assuming rotation axis parallel coordinate axis form following local set unit vectors uj u Ux uy 33 u Xu u uy X uz If express elements local unit vectors rotation axis uy jy Ua Uys Uy ty Wyay Kya ur uy Wap Hea required composite matrix equal product R R Uy Uy May x2 Uy Win Hy R Se Me 35 Wy Uy Wy 0 This matrix transforms unit vectors uz u u onto x z axes spectively Thus rotation axis aligned z axis since uy u Rotations Quaternions A efficient method obtaining rotation specified axis use quaternion representation rotation transformation In Chapter dis cussed usefulness quaternions generating three dirnensional fractals using self squaring procedures Quaternions useful also number computer graphics procedures including three dimensional rotation calcula tions They require less storage space matrices simpler write quaternion procedures transformation sequences This particularly important animations require complicated motion sequences motion interpolations two given positions object One way characterize quatemion Appendix A ordered pair consisting scalar part vector part q v We also think quaternion higher order complex number one real part scalar part three complex parts elements vector v A rotation axis passing coordinate origin performed first setting unit quaternion following scalar vector parts cO85 v usin 36 u unit vector along selected rotation axis specified ro tation angle axis Any point position P rotated quaternion represented quaternion notation P W p coordinates point vector part p x z The rotation point carried quaternion operation P qPq 37 q v inverse unit quaternion q scalar vec tor parts given Eqs 36 This transformation produces new quaternion scalar part equal P p 38 vector part calculated dot cross products Section Rotation Ge x Fa Unit quaternion parameters u rotation specified axis Chapter Three Dimensional Geametnc Madeling Transformations po spt vip ey 2slv Xp v vy x pl 39 Parameters v rotation values given Eqs 36 Many computer graphics systems use ethcient hardware implementations vector calcula tions perform rapid three dimensional object rotations Transformation 37 equivalent rotation axis passes coordinate origin This sequence rotation trans formations Eq 30 aligns rotation axis z axis rotates z returns rotation axis original position Using definition quaternion multiplication given Appendix A designating components vector part g v b c evaluate terms Eg 39 obtain elemen composite rotation matrix R Ri R R R form 2b 2ab 2s 2ac 2sh Mp9 2ab 2se 2a 2c 2hc 2sa 40 2ac 2sb 2he 2sa 2a 2b To obtain complete general rotation equation 30 need include translations move rotation axis coordinate axis back ils orig inal position That Ri T M T 14n As example perform rotation axis setting unit quaternion parameters 2s g sine COS v sin quaternion vector elements b Q c sin Substitut ing values matrix 40 using following trigonometric identi ties ee sings 2sin cos sin sing get version z axis rotation matrix R transformation equation Similarly substituting unit quaternion rotation values transformation equation 37 produces rotated coordinate values Eqs The matrix expression tor scaling transformation position P x z rel ative coordinate urigin de written Ae ee le Doubling size object transformation 42 also moves x object farther origin x x yyap Ody 42 z 8s O Zz 1 P S P 43 scaling parameters assigned positive values Explicit expressions coordinate transformations scaling relative origin xX xs yY Sy Z 44 Scaling object transformation 42 changes size object repositions object relative coordinate origin Also transfor mation parameters equal relative dimensions object changed We preserve original shape object uniform scaling The result scaling object uniformly scaling parameter set shown Scaling respect selected fixed position x z represented following sransformation sequence Translate fixed point origin Scale object relative coordinate origin using Eq 42 Translate fixed point back original position This sequence transformations demonstrated The matrix repre sentation arbitrary fixed point scaling expressed con catenation translate scale translatc transformations O U sy x O O U sy O GA z TO yu SGy Sy Ta xe yp 451 We form inverse scaling matrix either Eq 42 Eq 45 placing scaling parameters reciprocals The inverse Xp Yer Zp fa e Xp e Ze ic xp Ver Ze x Figure 1T Scaling object relative selected fixed point equivalent sequence transformations shown Chapter Three Dinensional Geometric Modeling Transformations trix generates opposite scaling transformation concatenation scaling matrix inverse produces identity matrix In addition translation rotation scaling various additional transformations often useful three dimensional graphics appiications Two reflection shear Reflections A three dimensional reflection performed relative selected reflection axis respect selected reflection plane In general three dimensional flection matrices set similarly two dimensions Reflections rel ative given axis equivalent rotations axis Reflections respect plane equivalent rotations four dimensional space When reflection plane coordinate plane either xy xz yz think transformation conversion left handed right handed sys tems An example reflection converts coordinate specifications right handed system left handed system vice versa shown Fig 19 This transformation changes sign z coordinates leaving x coordinate values unchanged The matrix representation reflection points relative xy plane 0 RF 46 0 Qo Transformation matrices inverting x values defined similarly reflections relative yz plane xz plane respectively Reflections planes obtained combination rotations cvordinate plane reflections Reflection Relative xy Plane woe x x Conversion coordinate specifications right handed left handed system carried reflection transformation 46 Shears Section omposite Transformations Shearing transformations used modify object shapes They also use ful three dimensional viewing obtaining general projection transforma tions In two dimensions discussed tranformations relative x axes produce distortions shapes objects In three dimensions also generate shears relative z axis Asan example three dimensional shearing following transformation produces z axis shear hi 4o clo co co oO Parameters b assigned real values The effect transforma tion matrix alter x coordinate values amount propor tional z value leaving z coordinate unchanged Boundaries planes perpendicular z axis thus shifted amount propor tional z An example effect shearing matrix unit cube shown shearing values Shearing matrices axis axis defined similarly b woe COMPOSITE TRANSFORMATIONS igure F120 unit cube sheared b transformation matrix As two dimensional transformations form composite three dimen 47 witha b sional transformation multiplying matrix representations individ ual operations transformation sequence concatenation carried right left rightmost matrix first transformation ap plied object leftmost matrix las transformation The follow ing program provides example implementing composite transformation A sequence basic three dimensional geometric transformations combined produce single composite transformation applied coor dinate definition object include math h include ygraph ics h define PF typedef fioat Matrixdxd 4a Matrix4xd themMatrix void matrixdx4Seridentity Matirixdx4 mirj c r Multiplies matrix times b putting result b void matrix4x4PreMultiply Matrix4x4 Matrix4x4 b int r Matrix4 tmp r r r c c c cmp rjlc alr O bid ci alr iitb te alr b c alr b c r r r c eva crt blrife tmelri ct veic translate3 float tx float ty float tz Matrix4x4d matrix4xdSetIdertity mf tx ty ml2 tz matrix4x4PreMultiply theMatrix void scale3 float sx float sy float sz wcePt center Matrix4x4 matrix4xdSetIdentity O sx sx center x sy mfl sy center z sz sz center z matrix4x4PreMultiply theMatrix void rotace jwePt3 pl wePt3 p2 float radianAngle float lenatn sqrt p2 x pl x pZ x pl x p2 pl p2 pl p2 z pl 2z p z pl z float cosAzZ cosf radianAngle float sinAZ sinf radianAngle float sinAZ p2 x pl x length float b simAZ p2 pl length float c sinA2 p2 z pl z length Matrix4x4 translate3 pl x pl pl z matrix4x4Setidentity im O b b ctc O l atb cosA2 c Q ate cosA2 b jOl b casA2 c J lL L ata e te l b e cosA2 atc cosA2 b btc cosA2 b b Matrix4xdPreMultiply theMatrix translate3 pl x pl pl z void transformPsints3 int nPts wcPt3 pts int k Jj float tmp ik k nPts k j j j theMatrix j pts k theMatrix j setWePt3 pts k tmp tmp tmpiz void main int argc char argv wePt3 pts 10 10 50 50 10 wePt3 pl 10 p2 10 wePt3 refPt 0 long windowID openGraphics argv setBackground WHITE setColor BLUE pPolyline3 pts matrix4x4SetIdentity theMatrix rotate3 pl p2 PI scale3 75 75 refPt translate transformPoints3 pts setColor RED pPolyline3 pts sleep closeGraphics windowID We set matrices modeling transformations functions sim lar given Chapter two dimensional transformations The major difference specify rotations around coordinate axis These functions translate translateVector matrixTranslate rotateX ithetaX xMatrixRotate rotateyY ithetaY yMatrixRotate rotatezZ thetaZ zMatrixRotate scale3 scaleVector matrixScale tmp theMatrix j pts k x theMatrix j pts k Chapter Three Dimensianal Geometric Modeling Transformations Each functions produces transformation matrix used transform coordinate positions expressed homogeneous column vec tors Parameter translateVector pointer list translation distances Similarly parameter scaleVector specifies three scaling para Meters S Sy Rotate scale matrices transform objects respect coordinate origin And constrict composite transformations functions composeMatrix3 buildTransformarionMatrix3 composeTransformrat 1onMatrix3 parameters similar two dimensional transformation functions setting composite matrices except specify three rotation angles The order transformation sequence buildTransformationMa trix3 composeTransformationMatrix3 functions two dimensions scale rotate translate Once specified transformation matrix apply matrix specified points transformFoint inPoint matrix outPo nt In addition set transformations hierarchical constructions using structures function setLocalTranstormation3 matrix type parameter matrix specifies elements transformation trix parameter type assigned one following three values pre concatenate postconcatenaty replace So far discussed three dimensignal transformations operations move objects one position another within single reference frame There many tines however interested switching coordinates one system anc ther General three dimensional viewing procedures exam ple involve initial transformation world coordinate descriptions view ing oordinate system Then viewing coordinates transformed device coor dinates And modeung objects often described local modeling coordinate reference frame objects repositioned wortd coordi nate scene For example tables chairs furniture defined local modeling coordinate system placed description room defined another reference frame transforming furniture coordinates roam coordinates Then room might transformed larger scene con structed world coordinates An example use multiple coordinate systems hierarchical modeling three dimensional objects given This figure illus trates simulation tractey movement As tractor moves tractor coordi nate svstem front wheel coordinate system move world coordinate Tractor Yow Zz World xe Zz Xt Eront Wheel System Possible coordinate systems used simulating tractor movement Wheel rotations described front wheel system Turning tractor described rotation front wheel system tractor system Both wheel tractor reference frames move world coordinate system system The front wheels rotate wheel system wheel system ro tates tractor system tractor turns Three dimensiona objects scenes constructed using structure segment operations similar discussed Chapter Modeling transfor mation functions applied create hierarchical representation three di mensional objects We define three dimensional object shapes local mod eling coordinates construct scene hierarchical representation instances individual objects That transform object descriptions modeling coordinates world coordinates tu another system hierarchy An example PHIGS structure hierarchy shown This display generated PHIGS Toolkit software developed University A upper _tody ee Sees esa Pin ns ef Displaying object hierarchy chin met using PHIGS Toolkit package developed University Manchester The displayed object tree PHIGS structure Courtesy T L Howard J G Williams W T Hewitt Department Computer Science University Manchester United Kingdom right leer _aren gt_em en Section Modcling Coordinate Transformations Three dimensional modeling A ball stick representation key amino acid residues interacting natural substrate Thymidylate Synthase modeled rendered Julie Newdull UCSF Computer Graphics Lab b A CAD model showing individual engine components rendered Ted Malone FTI 3D Magic Courtesy Silican Graphics Inc Manchester provide editor windows menus interface tools PHIGS applications shows two example applications three dimensional modeling Coordinate descriptions objects transferred one system procedures used obtain two dimensional coordinate transformations We need set transformation matrix brings two coordinate systems alignment First set translation brings new coordinate origin position coordinate origin This fol lowed sequence rotations corresponding coordinate axes If different scales used two coordinate systems scaling transformation may also necessary compensate differences coordinate intervals If second coordinate system defined origin x9 Yo Zp arid unit axis vectors shown relative existing Cartesian reference frame first construct translation matrix T x9 Next use unit axis vectors form coordinate rotation matrix Transformation object description one coordinate system another Ur My R Me 48 uy wy 01 transforms unit vectors u uy u onto x z axes respec tively The complete coordinate transformation sequence given composite matrix R T This matrix correctly transforms coordinate descriptions one Cartesian system another even one system left handed right handed SUMMARY Three dimensional transformations useful computer graphics applications clude geometric transformations within single coordinate system tranfor mations different coordinate systems The basic geometric transforma tions translation rotation scaling Two additional object transformations reflections shears Transformations different coordinate systems common elements modeling viewing routines In three dimensions transformation operations represented matrices As two di mensional graphics methods composite transformation three dimensions obtained concatenating matrix representations individual compo nents overall transformation Representations translation scaling straightforward extensions two dimensional transformation representations For rotations however need general representations since objects rotated speci fied axis space Any three dimensional rotation represented combi nation basic rotations around x axes And many graphics pack ages provide functions three rotations In general however efficient set three dimensional rotation using either local rotation axis teference frame quaternion representation Quaternions particularly use ful fast generation repeated rotations often required animation sequences Reflections shears three dimensions carried relative teference axis space Thus transformations also involved corresponding transformations two dimensions Transforming object de scriptions one coordinate system another equivalent transforma tion brings two reference frames coincidence Finally object model ing often requires hierarchical transformation structure ensures individual components object move harmony overall structure REFERENCES For additional techniques involving matrices modeling three dimensional transforma tions see Glassner Arvo Kirk A detailed discussion quater nion rotations given Shoemake Three dimensional PHIGS PHIGS trans formation functions discussed Howard et al Gaskins Blake Summary Chapter Three Dimensional Geometric Modeling Transformations EXERCISES 10 14 12 13 14 15 Prove muitiplication three dimensional transformation matrices follawing sequence operations commutative Any two successive translations b Any two successive scaling operations c Any two successive rotations one coordinate axes Using either Eq 30 q 41 prove two successive rotations given rotation axis js Commutative By evaluating terms Eq 39 derive e ements general rotation matrix given Eq 1t Show rotation matrix 35 equal composite matrix R G8 Rta Prove quaternion rotation matrix Eq 40 reduces matrix representa tion Eg rotation axis coordinate axis Prove Fy 41 i6 equivalent general rotation transformation given Eq 30 Write procedure implement general rotation transformations using rotation matix Write routine ta implement quaternion rotations fg 41 specified axis Derive transturmation matrix scaling object sca ing factor sin direc tion defined direction angles B Develop alganthm scaling object defined octree representation Develop procedure animating object incrementally rotating specified axis Js2 appropriate approximations Uigonometric equations speed calculations reset object ts initial position com plete revolution axis Devise procedure rotating object represented octree structure Develop routine reflect object arbitrarily selected plane Write program shear object respect three coordinate axes using input yalues shearing parameters Develop procedure coaverting object definitior one coordinate reference coordinate system defined elative lirst system Develop complete algorithm implementing procecures constructive sohd modeling combining three dimensional primitives generate new shapes Initially prim tives Combined form subassemblies subassem blies comb ned primil shapes form final assembly Interactive input translation rotation parameters used po sition objects Output algorithm ihe sequence af operatians needed produce final CSG object CHAPTER Three Dimensional Viewing I n two dimensional graphics applications viewing operations transfer posi tions world coordinate plane pixel positions plane output device Using rectangular boundaries world coordinate win dow device viewport two dimensional package maps world scene device coordinates clips scene four boundaries view port For three dimensional graphics applications situation bit volved since choices views generated First view object spatial position front back Or could generate view would see standing middle group objects inside single object building Additionally three dimensional descriptions objects must pro jected onto flat viewing surface output device And clipping boundaries enclose volume space whose shape depends type projection select In chapter explore general operations needed produce views three dimensional scene also discuss specific viewing procedures provided packages PHIGS GL The steps computer generation view three dimensional scene somewhat analogous processes involved taking photograph To take snapshot first need position camera particular point space Then need decide camera orientation Which way point camera rotate around line sight set di rection picture Finally snap shutter scene cropped size window aperture camera light visible sur Photographing scene involves selection camera position Zz orientation Modeling Coordinates Cocrdinates Transtormation World Viewing Viewing Coordinates Projection Workstation Coordinates Transformation Device Coordinates General three dimensional transformation pipeline modeling coordinates final device coordinates faces projected onto camera film We need keep mind however camera analogy carried far since flexibility many options generating views scene graphics package camera shows general processing steps modeling convert ing world coordinate description scene device coordinates Once scene modeled world coordinate positions converted viewing co ordinates The viewing coordinate system used graphics packages refer ence specifying observer viewing position position projec tion plane think analogy camera film plane Next projection operations performed convert viewing coordinate descrip tion scene coordinate positions projection plane mapped output device Objects outside specified viewing limits clipped consideration remaining objects processed visible surface identification surface rendering procedures pro duce display within device viewport Generating view object three dimensions similar photographing object We walk around take picture angle various distances varying camera orientations Whatever appears viewfinder projected onto flat film surface The type size camera lens determines parts scene appear final picture These ideas incorporated three dimensional graphics packages views scene generated given spatial position orientation aperture size camera Specifying View Plane We choose particular view scene first establishing viewing coordi nate system also called view reference coordinate system shown A view plane projection plane set perpendicular Ww Yn z Py Xp pr Zo A right handed viewing coordinate system axes X Yp relative toa warld coordinate scene View Plane N View Plane b Orientations view plane specified norma vector coordinates relative world origin Position orients view plane gives orientation b Specifying view vector twist angle viewing z axis We think view plane film plane camera positioned onented particular shot scene World coordi nate positions scene transformed viewing coordinates viewing coordinates projected onto view plane To establish viewing coordinate reference frame first pick world coordinate position called view reference point This point ts origin viewing coordinate system The view reference point often chosen close surface object scene But could also choose point center object center group objects somewhere front scene displayed If choose point near object think point position might want aim camera take picture object Alternatively choose point distance scene could think camera position Next select positive direction viewing z axis orien tation view plane specifying view plane normal vector N We choose world coordinate position point establishes direction N relative either world origin viewing coordinate origin Graphics packages GKS PHIGS example orient N relative world coordinate origin shown The view plane normal N di rected line segment world origin selected coordinate position In words N simply specified world coordinate vector Some packages GL Silicon Graphics instance establish direction N using selected coordinate position look point relative view refer ence point viewing courdinate origin illustrates method defining direction N look point view reference point Another possibility set left handed viewing system take N positive axis trom viewing origin look point Only di rection N nveded establish z direction magnitude irrelevant N normalized tu unit vector viewing calculations Finally choose direction view bv specifying vector V called view vector This vector used establish positive direction axis Vector V also defined world coordinate vector packages specified fis angle z axis shown For general crientation normal vector difficult least time consuming deternune direction V precisely perpen dicular N Therefore viewing procedures typically adjust user defined ori entation vector V shown V projected plane perpendicular normal vector We choose view vector V convenient direction long parallel N As example con mee Orientation view plane tora specified look poin P relative ta viewing coordinate origin Py P ee ee sider interactive specification viewing reference coordinates using PHIGS view reference point often set center object viewed If want view object angled direction shown simply choose V world vector vector projected plane perpendicular N establish axis This much easier trying input vector exactly perpendicular N Using vectors N V graphics package compute third vector U perpendicular N V define direction x axis Then di rection V adjusted perpendicular N U estab lish viewing direction As see next section Transformation World Viewing Coordinates computations conveniently car tied unit axis vectors also used obtain elements world viewing coordinate transformation matrix The viewing system often described uvn system Generally graphics packages allow users choose position view plane restrictions along z axis specifying view plane dis tance viewing origin The view plane always parallel x plane projection objects view plane correspond view scene displayed output device gives examples view plane positioning If set view plane distance value x plane uv plane af viewing coordinates becomes view plane projec tion transformation Occasionally term uv plane used reference viewing plane matter positioned relation x plane But use term uv plane mean x plane neces sarily view plane Left handed viewing coordinates sometimes used graphics packages viewing direction positive z direction But right handed viewing systems common orientation world reference frame This allows graphics systems deal one coordinate orientation world viewing references We follow convention PHIGS GL use right handed viewing system al gorithm development To obtain series views scene keep view reference point fixed change direction N shown This corresponds generating views move around viewing coordinate origin In interac Fiyure 10 View plane positioning along z axis NA Adjusted vote P N Adjusting input position view vector V toa position perpendicular normal vector N Desired yup Direction Choosing V along axis sets orientation view plane desired direction A right handed viewing system defined unit vectors u v n Chapter v Three Dimensiona Viewing Viewing scene different directions fixed view reference point tive applications normal vector N viewing parameter often changed By changing direction N view scene di rection except along line V To obtain either two possible views along line V would need change direction V If want simulate camera motion scene keep N fixed move view reference point around Yo Re Po Py N Moving around scerie N vo changing position view reference point Transtormation trom World Viewing Coordinates Before object descriptions projected view plane must trans ferred viewing coordinates Conversion object descriptions world viewing coordinates equivalent transformation superimposes viewing reference frame onto world frame using basic geometric trans late rotate operations discussed Section This transformation sequence J Translate view reference point origin world coordinate sys tem Apply rotations align x z axes world x z axes respectively Hf view reference point specified world position x Yy Zo point translated world origin matrix transformation x T Z 1 The rotation sequence require three coordinate axis rotations de pending direction choose N In general N aligned world coordinate axis superimpose viewing world systems transformation sequence R R R That first rotate around world x axis bring z x z plane Then rotate around world axis align z z axes The final rotation z axis align axes Further view reference system left handed reflection one viewing axes example z axis also necessary illus trates general sequence translate rotate transformations The composite transformation matrix applied world coordinate descriptions trans fer viewing coordinates Another method generating rotation transformation matrix cal culate unit uum vectors form composite rotation matrix directly dis Aligning viewing system world coordinate axes using sequence translate rotate transformations Section Viewmg Coordinales Chapter cussed Section Given vectors N V unit vectors calculated Three Dimensional Viewing n TNT ny Mg M3 VXxN u Tv xn iy u ven X u vy This method also automatically adjusts direction V v perpendic ular n The composite rotation matrix viewing transformation Uy My iy Dv U9 D4 My My Ny Oo Foc fc transforms u onto world x axis v onto axis n onto axis In addition matrix automatically performs reflection necessary transform left handed viewing svstem onto right handed world system The complete world viewing coordinate transformation matrix ob tained matrix product Mwycye R T This transformation applied coordinate descriptions objects scene transfer viewing reference frame Once world coordinate descriptions objects scene converted viewing coordinates project three dimensional objects onto two dimensional view plane There two basic projection methods In parallel projection coordinate positions transformed view plane along parallel lines shown example For perspective projection Fig 15 object positions transformed view plane along lines con verge point called projection reference point center projection The projected view object determined bv calculating intersection projection lines view plane View Plane Parallel projectian cf abject view plane View P Plane Projection Reference Point Perspective projection object view plane A parallel projection preserves relative proportions objects method used drafting produce scale drawings three dimensional ob jects Accurate views various sides object obtained parallel projection give us realistic representation appearance three dimensiona object A perspective projection hand produces realistic views preserve relative proportions Projections distant objects smaller projections objects size closer projection plane Parallel Projections We specify parallel projection projection vector defines di rection projection lines When projection perpendicular view plane orthographic parallel projection Otherwise oblique parallel projection illustraces two types parallel pro jections Some graphics packages GL Silicon Graphics workstations provide oblique projections In package example parallel projection specified simply giving boundary edges rectangular par allelepiped Projection Reference Point View Plane Tigure 16 Perspective projection equal sized objects different distances view plane Section Projections vhapier hree Pimens caal Wew ing Ortnographie Proyction Ablique Projection fas th Figure 17 Orientation projection vector V produce orthographic projection oblique projection b Orthographic projections often used produce front side top views object shown Front side rear orthographic projections object called elevations top orthographic projection called plan view Engineering architectural drawings commonly employ orthographic projections lengths anc angles accurately de picted measured drawings We also form orthographic projections display one face object Such views called axonometric orthographic projections The commonly used axonometric projection isometric projection We gen erate isometric project aligning projection plane intersects coordinate axis object defined called principal axes distance fram origin shows isometric projection Pian View Side Elevation View Front Elevation View Fagyre 18 Orthographte projections 1m object displaying plan clevation views Isometric projection cube cube The isometric projection obtained aligning projection vector cube diagonal There eight positions one octant obtaining isometric view All three principal axes foreshortened equally isometric projection relative proportions maintained This case general axonometric projection scaling factors may different three principal directions Transformation equations orthographic parallel projection straightforward If view plane placed position z along z axis Fig 20 point x viewing coordinates transformed projection coordinates pa Y original z coordinate value preserved depth information needed depth cueing visible surface determination procedures An oblique projection obtained projecting points along parallel lines perpendicular projection plane In applications packages oblique projection vector specified two angles shown Point x z projected position x view plane Ortho graphic projection coordinates plane x The oblique projection line x z x makes angle line projection plane joins x x This line length L angle horizontal direction projection plane We express projection coordinates terms x L x Z Orthographic projection point onto viewing plane Zz Section Projections Chapter Three Dimensional Viewing Oblique projection coordirate position x z position x p view plane x x Leosd Lsing Length L depends angle z coordinate point pro jected tana L Thus tana rosy 2h L inverse tana also value L z We write oblique projection equations x x cos yp sing The transformation matrix producing parallel projection onto Xy plane written Leos O Lysing Ma arate iD In parallel An orthographic projection obtained L occurs projection angle Oblique projections generated nonzero values Ly Projection matrix 10 structure similar z axis shear matrix In fact effect projection matrix shear planes constant project onto view plane The x coordinate values within plane constant z shifted amount proportional value plane angles distances anc parallel lines plane projected accurately This effect shown back plane box sheared lapped front plane projection viewing surface An edge box connecting front back planes projected line length L makes angle horizontal line projection plane Common choices angle display combination view front side top front side bottom object Two com monly used values tana tana For first case views obtained called cavalier projections All lines per pendicular projection plane projected change length Exam ples cavalier projections cube given When projection angle chosen tana resulting view called cabinet projection For angle lines perpendicular viewing surface projected one half length Cabinet projections appear realistic cavalier projections reduction length perpendiculars shows examples cabinet projections cube Perspective Projections To obtain perspective projection three dimensional object transform points along projection lines meet projection reference point Suppose set projection reference point position z along z axis oe pO oa vr ta b Original Coordinete Projection Description Object Viewing Plane Figure 22 Oblique projection box onto z plane tal ib Cavalier projections cube onto view plane two values angle Note Depth cube projected equal width height Section Projections ta th Cabinet projections cube onto view plane two values angle Depth projected one half width height place view plane z shown We write equations de scribing coordinate positions along perspective projection line parametric form xo x xu yo yrye 19 zv u Parameter u takes values coordinate position x repre sents point along projection line When u position P x z At end line u projection reference point coordinates z On view plane z z solve z equation parameter u position along projection line Zip Z ys PF 12 Zprp Z Substituting value u equations x obtain per spective transformation equations P ix en OTs Lp Vor Zea 2p orp Perspective projection point Vi P coordinates x z Plano position x Yp 2p view plane e te Zyep Zope 13 vp 2e 2pm 2pm 2p Z pisthe distance view plane projection refer ence point Using three dimensional homogeneous coordinate representation write perspective projection transformation 13 matrix form Xp 0 x Yr ool 14 zy 2yg dy 2gZprp dp z h I Zoe A Jn representation homogeneous factor n er 15 P projection coordinates view plane calculated homo geneous coordinates x x h Vy val 16 original z coordinate value would retained projection coordinates visible surface depth processing In general projection reference point along z axis We select coordinate position Ypq Zpry either side view plane projection reference point discuss generalization next section There number special cases perspective transformation equations 13 If view plane taken uv plane z projection coordinates anes r Zpp 17 Ac Ye e z Pee And graphics packages projection reference point always taken viewing coordinate origin In case projection coor ee dinates viewing plane 78 Section Projections Chapter Three Dimensional Viewing When three dimensional object projected onto view plane using per spective transformation equations set parallel lines object parallel plane projected converging lines Parallel lines parallel view plane projected parallel lines The point set projected parallel lines appears converge called vanishing point Each set projected parallel lines separate vanishing point general scene number vanishing points depending many sets parallel lines scene The vanishing point set lines parallel one princi pal axes object referred principal vanishing point We control number principal vanishing points one two three orientation projection plane perspective projections accordingly classified one point two point three puint projections The number principal vanish ing points projection determined number principal axes intersect ing view plane illustrates appearance one point two point perspective projections cube In b view plane aligned parallel xy object plane object z axis intersected Vanishing Point ft Coordinate ib wnt Description ne Poin Perspective Projection e raxis x axis Vanishing Vanishing Point Point Two Point Perspective Projection Perspective views principal vanishing points cube various orientations view plane relative principal axes object This orientation produces one point perspective projection z axis vanish ing point For view shown c projection plane intersects x z axes axis The resulting two point perspective projection contains x axis z axis vanishing points TRANSIT ORMATIONS In camera analogy type lens used camera one factor de termines much scene caught film A wide angle lens takes scene regular lens In three dimensional viewing rectangu lar view window projection window view plane used effect Edges view window parallel x axes window boundary positions specified viewing coordinates shown The view window placed anywhere view plane Given specification view window sel view volume using window boundaries Only objects within view volume appear generated display output device others clipped display The size view volume depends size window shape view volume depends type projection used generate display case four sides volume planes pass edges window For parallel projection four sides view volume form infinite parallelepiped For perspective projection view volume pyramid apex projection reference point A finite view volume obtained limiting extent volume direction This done specifying positions one two additional boundary planes These z boundary planes referred front plane back plane near plane far plane viewing volume The front back planes parallel view plane specified positions Zon Both planes must side projection reference point back plane must farther projection point front plane Including front back planes produces view volume bounded six planes shown With orthographic parallel projection six planes form rectangular parallelepiped oblique parallel projection produces oblique parallelepiped view volume With perspective projection front back cupping planes truncate infinite pyramidal view volume form frustum Front back clipping planes allow us eliminate parts scene viewing operations based depth We pick parts scene would like view exclude objects front behind parl want look Also perspective projection use front clipping plane take large objects close view plane project unrecognizable sections within view window Similarly back clip ping plane used cut objects far projection reference point project small blots output device Relative placement view plane front back clipping planes depends type view want tc generate limitations particu lar graphics package With PHIGS view plane positioned anywhere along z axis except contain projection reference point And View Plane Projection Window xine YW Frenre 27 Window specification view plane minimum maximum coordinates given viewing reference system Chapter Three Dimensional Viewing xy plane zy window Orthographic Orthographic Projection Projection View Volume View Volume bb x Plane zy window Oblique Projection Oblique View Volume Projection e View Volume View volume parallel projection In b side top views view volume orthographic projection shawn c side top views oblique view volume shown Projection Reference Point nt x Plane xy plane window z A window Projaction Reference Point tb c Examples perspective projection view valume various positions projection reference point Parallelpiped Section View Volume View Volumes General Projection Transformations Back Plane Frustum View Volume Front Plane Parallel Projection ta Back SN Plane sa Projection Reference Front Point Plane Perspective Projection b View volumes bounded front back planes top bottom side planes Front back planes parallel view plane positions Zpon ANd Zac along z axis front back planes position relative view plane long projection reference point front back planes Figure 31 illustrates possible arrangements front back planes relation view plane The default view volume PHIGS formed unit cube using parallel projection Z Zpack view plane coincident back plane projection reference point position front plane Orthographic paralle projections affected view plane position ing projection lines perpendicular view plane regardless Back Plane View Plane Back Plane View Plane _ View Plane Back Piane _ Front Plane ch xy Front Plane Front Plane b Possible arrangements front back clipping planes relative view plane window View Plane View Plane window Projection Projection Reference Reference Point Point ib Changing shape oblique projection view volume moving window position projection vector V determined projection reference point window position location Oblique projections may affected view plane positioning de pending projection direction specified In PHIGS oblique projection direction parallel line projection reference point center window Therefore moving position view plane moving projection reference point changes skewness sides view volume shown Often view plane positioned view reference point front clipping plane generating parallel projection Perspective effects depend positioning projection reference point relative view plane shown If place projec View View View Window Window Window _ OOH aN ao l Ny Vue Z I I att Il U Projection Reference Point f vt I I I Projection Projection Reference Reference Point Very Far bi window c Changing perspective effects moving projection reference point away view plane window window ul ul Projection Projection Reference Reference Point Point b Projected object size depends whether view plane positioned front object behind relative position projection reference point tion reference point close view plane perspective effects emphasized closer objects appear much larger distant objects size Similarly move projection reference point farther view plane difference size near far objects decreases In limit move projection reference point infinitely far view plane perspective projection approaches parallel projection The projected size object perspective view also affected relative position object view plane If view plane front object nearer projection reference point projected size smaller Conversely object size increased project onto view plane back object View plane positioning perspective projection also depends whether want generate static view animation sequence For static view scene view plane usually placed viewing coordinate ori gin convenient point scene Then easy adjust size window include al parts scene want view The projection reference point positioned obtain amount perspective de sired In animation sequence place projection reference point viewing coordinate origin put view plane front scene Fig 35 This placement simulates camera reference frame We set field view lens angle adjusting size window relative distance view plane projection reference point We move scene moving viewing reference frame projection reference point move view reference point Section View Volumes General Projection Transformations View Volume Fignre 37 Regular parallelepiped view volume obtained shearing view volume Scene motion window View I Plane View plane positioning simulate camera reference frame animation sequence General Parallel Projection Transformations In PHIGS direction parallel projection specified projection vec tor projection reference point center view window Figure 36 shows general shape finite view volume given projection vec tor projection window view plane We obtain oblique projection transformation shear operation converts view volume Fig 36 regular parallelepiped shown The elements shearing transformation needed generate view volume shown obtained considering shear transformation projection vector If projection vector specified world coordinates must first transformed viewing coordinates using rotation matrix dis cussed Section The projection vector unaffected translation since simply direction fixed position For graphics packages allow specification projection vector viewing coordinates apply shear directly input elements projection vector Suppose elements projection vector viewing coordinates Vp Py Py Pa 19 We need determine elements shear matrix align projection vector V view plane normal vector N This transformation expressed window Vv Figure 36 Oblique projection vector associated view volume 29 My raue equivalent parallel projection matrix 10 represents z axis shear form Mparattet 21 occ ooro oergra OOO The explicit transformation equations 20 terms shear parameters b O p ap O p bp 22 values shear parameters Ph ope 23 Thus general parallel projection matrix terms ele ments projection vector p p p p 0 Myaraiel 24 ooo This matrix concatenated transformation R T Section produce transformation world coordinates parallel projection coordi nates For orthographic parallel projection p p Myanne iden tity matrix From relate components projection vec tor parameters L Section By similar triangles see L cos _ Px Ps 25 Lsind _ _Py Zz Pz illustrates equivalence elements transformation matrices 24 In Eqs 25 z p opposite signs positions il lustrated Section View Volumes General Projection Transformations We X51 Vp OF Relationship parallel projection vector V parameters z L General Perspective Projection Transformations With PHIGS programming standard projection reference point lo cated position viewing system except view plane front back clipping planes shows shape finite view volume arbitrary position projection reference point We obtain general perspective projection transformation following two opera tions Shear view volume centerline frustum perpendicu lar view plane Scale view volume scaling factor depends z The second step scaling view volume equivalent perspective trans formation discussed Section A shear operation align general perspective view volume pro Frustum Centerline View Volume View Plane Xprae Vero Zoro General shape perspective view volume witha projection reference point axis Frustum Centerline ux ya iy PF z I f ifs fa A r uy View Plane z z te Vd c twi Vd enter Window Shearing general perspective view volume center projection pep Ypeo pep window jection window shown This transformation effect shift ing positions lie along frustum centerline including window cen ter line perpendicular view plane With projection reference point general position x Vprp Zerp e transformation involves combination 2z axis shear translation A Alyy Pep 26 Mohear oo oor shear parameters Xpp XWapin XWmax torn 27 p Yew YOmn Ylma Zoey Points within view volume transformed operation xe x az Y Yy Ft WZ Zpy 28 z When projection reference point Z axis Xpj9 Vprp Once converted position x onal view volume position x sheared frustum appiy scaling transformation produce regular parallelepiped The transformation con version Section View Volumes General Projection Transformations Chapter Zz Zz tr Uj Three Dimensional Viewing x x onl e Zprp 2p 29 Yon Zap Zprp 2pm homogeneous matrix representation pry Aopen Zyrp Sup Zoep Zup TY pry Yory2up Zomp Z Zo pry op pry Macaie 0 30 te tom orp Zep 2pm 2vp Therefore general perspective projection transformation ex pressed matrix form Mperspective Mycate Mshea 31 The complete transformation world coordinates perspective projection coordinates obtained right concatenating Myerspenve With composite viewing transformation R T Section In section first explore general ideas involved three dimensional clipping considering clipping could performed using view vol ume clipping planes directly Then discuss efficient methods using malized view volumes homogeneous coordinates An algorithm three dimensional clipping identifies saves surface segments within view volume display output device All parts objects outside view volume discarded Clipping three dimen sions accomplished using extensions two dimensional clipping meth ods Instead clipping straight line window boundaries clip objects boundary planes view volume To clip line segment view volume would need test relative position line using view volume boundary plane equations By substituting line endpoint coordinates plane equation boundary turn could determine whether endpoint inside outside boundary An endpoint x z line segment outside boundary plane Ax By Cz D O A B C D plane parameters boundary Similarly point inside boundary Ar By Cz D Lines endpoints outside boundary plane discarded endpoints inside boundary planes saved The intersection line boundary found using line equations along plane equation Intersection coordinates x Z values line satisfy plane equation Ax By Cz D To clip polygon surface clip individual polygon edges First could test coordinate extents boundary view volume determine whether object completely inside completely outside boundary If coordinate extents object inside boundaries save If coordinate extents outside boundaries discard Other wise need apply intersection calculations We could deter mining polygon edge intersection positions boundary planes view volume described previous paragraph As two dimensional viewing projection operations take place fore view volume clipping clipping All objects within view vol ume map interior specified projection window The last step transform window contents two dimensional viewport specifies location display output device Clipping two dimensions generally performed upright rec tangle dip window aligned x axes This greatly sim plifies clipping calculations window boundary defined one coordinate value For example intersections lines crossing left boundary window x coordinate equal left boundary View volume clipping boundaries planes whose orientations depend type projection projection window position projection reference point Since front back clipping planes parallel view plane constant z coordinate value The z coordinate intersec tions lines planes simply z coordinate corresponding plane But four sides view volume arbitrary spatial ori entations To find intersection line one view volume bound aries means must obtain equation plane containing boundary polygon This process simplified convert view volume fore clipping rectangular parallelepiped In words first perform projection transformation converts coordinate values view volume orthographic parallel coordinates carry clipping calculations Clipping regular parallelepiped much simpler sur face perpendicular one coordinate axes As seen top bottom view volume planes constant sides planes constant x front back planes constant z A line cut ting top plane parallelepiped example intersection point whose coordinate value top plane In case orthographic parallel projection view volume al ready rectangular parallelepiped As seen Section cblique pro jection view volumes converted rectangular parallelepiped shear ing operation perspective view volumes converted general combination shear scale transformation View Volume An object intersecting rectangular parallelepiped view volume Section Clipping Modeling Coordinates Normalized View Volumes shows expanded PHIGS transformation pipeline At first step scene constructed transforming object descriptions modeling coordinates world coordinates Next view mapping converts world de scriptions viewing coordinates At projection stage viewing coordi nates transformed projection coordinates effectively converts view volume rectangular parallelepiped Then parallelepiped mapped unit cube normalized view volume called normalized projection coordinate system The mapping normalized projection coordi nates accomplished transforming points within rectangular paral lelepiped position within specified three dimensional viewport occupies part unit cube Finally workstation stage normalized projection coordinates converted device coordinates display The normalized view volume region defined planes x x z z 32 A similar transformation sequence used graphics packages indi vidual variations depending system The GL package example maps rectangular parallelepiped interior cube boundary planes positions coordinate direction There several advantages clipping unit cube instead original view volume even rectangular parallelepiped projection coordi nates First normalized view volume provides standard shape repre senting sized view volume This separates viewing transformations workstation considerations unit cube mapped workstation size Second clipping procedures simplified stan dardized unit clipping planes viewport planes additional clip ping planes specified within normalized space transforming Modeling World Viewing Viewing Transformatian Coordinates Transformation Coordinates age ge Normalized Projection Prajection Normalization c canes Transformation Coordinates Transformation Projection Coordinates Device L Workstation Transformation Coardinates eel Frenre 42 Expanded PHIGS transformation pipeline device coordinates Third depth cueing visible surface determination simplified since z axis always points toward viewer projection refer ence point transformed z axis Front faces objects normal vectors component along positive z direction back surfaces facing negative z direction Mapping positions within rectangular view volume three dimen sional rectangular viewport accomplished combination scaling translation similar operations needed two dimensional window viewport mapping We express three dimensional transformation matrix operations form 33 Factors D D D ratios dimensions viewport regu lar parallelepiped view volume x z directions XV imax XV min XWrin Ymax YOmin YWrrax Yeni 34 20max 20min D Zack Ztront Wm YW nax Peace Wrinr F min Zon mn Hon xVinine Y inine IVinin Parallelepiped Section Clipping View Volume Unit Cube b Dimensions view volume three dimensional viewport Onan W maxe zy 3D Viewport mon view volume boundaries established window limits 7W pin XWeays Yin YWmox aNd positions Zpont ANA Zpacx Of front back planes Viewport boundaries set coordinate values x_n Umax YOmins Ymax ZWmine ANd ZUpax The additive translation factors K K K transforma tion Ky XU pmin XWmninD K Ymin YminDy K 20min 2front Dy 35 Viewport Clipping Lines polygon surfaces scene clipped viewport boundaries procedures similar used two dimensions except objects processed clipping planes instead clipping edges Curved surfaces processed using defining equations surface boundary locating intersection lines parallelepiped planes The two dimensional concept region codes extended three di mensions considering positions front back three dimensional viewport well positions left right volume For two dimensional clipping used four digit binary region code identify position line endpoint relative viewport boundaries For three dimen sional points need expand region code six bits Each point de scription scene assigned six bit region code identifies rela tive position point respect viewport For line endpoint position x z assign bit positions region code right left bit ifx xv left bit XVmax right bit ify yv bit yupna bit5 z0_ front bit z 2v back For example region code identifies point behind viewport region code indicates point within volume A line segment immediately identified completely within viewport endpoints region code If either endpoint line segment region cade perform logical operation two endpoint codes The result operation nonzero line segment endpoints one six outside gions For example nonzero value generated endpoints hind viewport endpoints viewport If iden tify line segment completely inside completely outside volume test intersections bounding planes volume As two dimensional line clipping use calculated intersection line viewport plane determine much line thrown away The remaining part fine checked planes continue either line totally discarded section found inside volume Equations three dimensional line segments conveniently expressed parametric form The two dimensional parametric clipping methods Cyrus Beck Liang Barsky extended three dimensional scenes For line segment endpoints P x P yz write parametric line equations x x x u Osfuel ym Y wu Z u 36 Coordinates x z represent point line two endpoints At u point P u puts us Py To find intersection line plane viewport substitute coordinate value plane appropriate parametric expression Eq 36 solve u For instance suppose testing line 2Umin Plane viewport Then 20min w mn 37 When calculated value u range line segment intersect plane consideration point endpoints P P line A If calculated value u Eq 37 interval calculate intersection x coordinates x n Hae 2y way Oh vl 38 If either x range boundaries viewport line intersects front plane beyond boundaries volume line B Fig 44 Clipping Homogeneous Coordinates Although discussed clipping procedures terms three dimen sional coordinates PHIGS packages actually represent coordinate posi tions homogeneous coordinates This allows various transformations Tepresented matrices concatenated efficiency After viewing transformations complete homogeneous coordinate positions converted back three dimensional points As coordinate position enters transformation pipeline con verted homogeneous coordinate representation x x z Section Clipping Y nex en Side view two line segments clipped ZU nip plane viewport For line A Eq 37 produces value u outside range For line B Eqs 38 produce intersection coordinates outside range yup Yrax The various transformations applied obtain final homogeneous point Xb ay M2 Aya Aye x h Ay An Ax Ary 39 zy Ax Ay Ay z h Aa 4qn gn ay homogeneous parameter h may In fact real value Clipping performed homogeneous coordinates clipped ho mogeneous positions converted nonhomogeneous coordinates three dimensional normalized projection coordinates vet 40 We course problem magnitude parameter H small value normally occur transformations car ried properly At final stage transformation pipeline normal ized point transformed three dimensional device coordinate point The xy position plotted device z component used depth informa tion processing Setting clipping procedures homogeneous coordinates allows hard ware viewing implementations use single procedure parallel perspective projection transformations Objects viewed parallel projection could correctly clipped three dimensional normalized coordinates pro vided value altered operations But perspective projections general produce homogeneous parameter longer value Converting sheared frustum rectangular parallelepiped change value homogeneous parameter So must clip homoge neous coordinates sure clipping carried correctly Also ratio nal spline representations set homogeneous coordinates arbitrary values homogeneous parameter including h Negative values homogeneous parameter also generated perspective projections coordinate positions behind projection reference point This occur applications might want move inside building object view interior To determine homogeneous viewport clipping boundaries note homogeneous coordinate position x inside viewport sat isfies inequalities XVnin S Waa Ymin Ym ZUmin S2Vepax 41 2h h Thus homogeneous clipping limits WxVmin SX_ SMa AYVmin S Vn ShYVmax Zin SZ SANZ O AVenax SX_ SAVg HYP max SV_ SHYV pine NZ pax SZ HAW ifh 42 And clipping carried procedures similar discussed pre vious section To avoid applying sets inequalities 42 simply negate coordinates point h use clipping inequalities h Most graphics processes implemented hardware Typically view ing visible surface identification shacing algorithms available graph ics chip sets employing VLSI large scale integration circuitry techniques Hardware systems designed transform clip project objects output device either three dimensional two dimensional applications illustrates arrangement components graphics chip set implement viewing operations discussed chapter The chips organized pipeline accomplishing geometric transformations coordinate system transformations projections clipping Four initial chips provided matrix operations involving scaling translation rotation transformations needed converting world coordinates projection coor dinates Each next six chips performs clipping one viewport boundaries Four chips used two dimensional applications two needed clipping front back planes three dimensional viewport The last two chips pipeline convert viewport coordinates output device coordinates Components implementation vis ible surface identification surface shading algorithms added set provide complete three dimensional graphics system Section Hardware Implementations World Coordinate Object Descriptions Transformation Operations Conversion Device Coordinates A hardware implementation three dimensional viewing operations using chips coordinate transformations clipping operations Other specialized hardware implementations developed These include hardware systems processing octree representations display ing three dimensional scenes using ray tracing algorithms Chapter Several procedures usually provided three dimensional graphics library enable application program set parameters viewing transforma tions There course number different methods structuring procedures Here Wwe discuss PHIGS functions three dimensional view ing With parameters specified world coordinates elements matrix transforming world coordinate descriptions viewing reference frame calculated using function evaluateViewOrientationMatrix3 x0 yO xN yN ZN xV yV 2V error viewMatrix This function creates viewMatrix input coordinates defining view ing system discussed Section Parameters x0 y0 specify origin view reference point viewing system World coordinate vector xN yN ZN defines normal view plane direction positive z viewing axis And world coordinate vector xV yV zV gives elements view vector The projection vector perpendicular xN yN zN estab lishes direction positive axis viewing system An integer error code generated parameter error input values specified correctly For example error generated set xv yV zV parallel x YN ZN To specify second viewing coordinate system redefine coordinate parameters invoke evaluateViewOrientationMa trix3 new matrix designation In way set number world viewing coordinate matrix transformations The matrix projMatrix transforming viewing coordinates normal ized projection coordinates created function evaluateViewMappingMatrix3 xwmin xwmax ywmnin ywmax xvmin xvmax yvmin yvmax zvmin zvmax projType xprojRef yprojkef zprojRef zview zback zfront error projMatrix Window limits view plane given viewing coordinates parame ters xwmin xwmax ywmin ywmax Limits three dimensional viewport within unit cube set normalized coordinates xvmin xvmax yvmin yvmax zyvmin zvmax Parameter projType used choose projec tion type either parallel perspective Coordinate position xprojRef yproj Ref zprojRef sets projection reference point This point used cen ter projection projType set perspective otherwise point center view plane window define parallel projection vector The posi tion view plane along viewing z axis set parameter zview Po sitions along viewing z axis front back planes view volume given parameters zfront zback And error parameter turns integer error code indicating erroneous input data Any number pro jection matrix transformations created function obtain various three dimensional views projections A particular combination viewing projection matrices selected specified workstation setViewRepresentation3 ws viewIndex viewMatrix projMatrix xclipmin xclipmax yelipmin yclipmax zclipmin zclipmax clipxy clipback clipfroent Parameter ws used select workstation parameters viewMatrix projMatrix select combination viewing projection matrices used The concatenation matrices placed workstation view table referenced integer value assigned parameter viewIndex Limits given normalized projection coordinates clipping scene set parameters xclipmin xclipmax yclipmin yclipmax zclipmin zclipmax These limits set values usually set limits viewport Values clip noclip assigned parameters cl ipxy clipfront clipback turn clipping routines xy planes front back planes view volume defined clipping limits Section Three Dimensionat Viewing Functions There several times convenient bypass clipping rou tines For initial constructions scene disable clipping trial placements objects displayed quickly Also eliminate one clipping planes know objects inside planes Once view tables set select particular view represen tation workstation function setViewIndex viewIndex The view index number identifies set viewing transformation parameters applied subsequently specified output primitives active workstations Finally use workstation transformation functions select sec tions projection window display different workstations These oper ations similar discussed two dimensional viewing except window viewport regions aia three dimensional regions The window function selects region unit cube viewport function selects dis play region output device Limits normalized projection cvordinates window set setWorkstationWindow3 ws xwsWindmin xwsWindmax ywsWindmin ywsWindmax zwsWindmin zwsWindmax limits device coordinates viewport set setWorkstationViewport3 ws xwsVPortmin xwsVPortmax ywsVPortmin ywsVPortmax zwsVPortmin zwsVPortmax shows example interactive selection viewing parameters PHIGS viewing pipeline using PHIGS Toolkit software This software developed University Manchester provide interface PHIGS viewing editor windows menus interface tools For applications composite methods used create display con sisting multiple views using different camera orientations shows Using PHIGS Toolkit developed University Manchester interactively control parameters viewing pipeline Courtesy T L J Howard G Williams W T Hewit Department Computer Science University Manchester United Kingdom A wide angle view virtual reality display generated seven sections slightly different viewing direction Cauriesy National Center Supercomputing Applications University Illinois Urbana Chamrpaign wide angle perspective display produced virtual reality environment The wide viewing angle attained generating seven views scene viewing position slight shifts viewing direction SUMMARY Viewing procedures three dimensional scenes follow general approach used two dimensional viewing That first create world coordinate scene definitions objects modeling coordinates Then set viewing coordinate reference frame transfer object descriptions world coordinates viewing coordinates Finally viewing coordinate descriptions transformed device coordinates Unlike two dimensional viewing however three dimensional viewing quires projection routines transform object descriptions viewing plane fore transformation device coordinates Also three dimensional viewing operations involve spatial parameters We use camera analogy describe three dimensional viewing parameters include camera position orientation A viewing coordinate reference frame established view reference point view plane normal vector N view vector V View plane position established along viewing z axis object descrip tions projected plane Either perspective projection parallel projec tion methods used transfer object descriptions view plane Parallel projections either orthographic oblique specified projection vector Orthographic parallel projections display one face object called axonometric projections An isometric view object obtained axonometric projection foreshortens principal axis amount Commonly used oblique projections cavalier projection cabinet projection Perspective projections objects ob tained projection lines meet projection reference point Objects three dimensional scenes clipped view volume The top bottom sides view volume formed planes paral lel projection lines pass view plane window edges Front back planes used create closed view volume For parallel pro jection view volume parallelepiped perspective projection view volume frustum Objects clipped three dimensional viewing testing object coordinates bounding planes view volume Clip ping generally carried graphics packages homogeneous coordinates Summary viewing transformations complete Then homogeneous co ordinates converted three dimensional Cartesian coordinates REFERENCES For additional information three dimensional viewing clipping operations PHIGS PHIGS see Howard et al Gaskins Blake Discussions three dimensional clipping viewing algorithms found Blinn Newell Cyrus Beck Riesenfeld Liang Barsky Arvo Blinn EXERCISES 10 11 12 13 14 15 16 17 Write procedure implement evaluateViewOrientationMatrix3 func tion using Eqs Write routines implement set ViewRepresentation3 set ViewIndex functions Write procedure transform vertices polyhedron projection coordinates using parallel projection specified projection vector Write procedure obtain different parallel projection views polyhedron first applying specified rotation Write procedure perform one point perspective projection object Write procedure perform two point perspective projection object Develop routine perform three point perspective projection object Write routine convert perspective projection frustum regular paral lelepiped Extend Sutherland Hodgman polygon clipping algorithm clip three dimen sional planes regular parallelepiped Devise algorithm clip objects scene defined frustum Compare operations needed algorithm needed algorithm clips regular parallelepiped Modify two dimensional Liang Barsky tine clipping algorithm clip three di mensional lines specified regular parallelepiped Modify two dimensional Liang Barsky line clipping algorithm clip given polyhedron specified regular parallelepiped Set algorithm clipping polyhedron parallelepiped Write routine perform clipping homogeneous coordinates Using clipping procedure orthographic parallel projections write program perform complete viewing transformation world coordinates device co ordinates Using clipping procedure write program perform complete viewing trans formation world coordinates device coordinates specified parallel projection vector Write program perform steps viewing pipeline perspective trans formation CHAPTER Visible Surface Detection Methods A major consideration generation realistic graphics displays identifying parts scene visible chosen viewing position There many approaches take solve problem nu merous algorithms devised efficient identification visible objects different types applications Some methods require memary volve processing time apply special types objects De ciding upon method particular application depend factors complexity scene type objects displayed available equipment whether static animated displays generated The various algo rithms referred visible surface detection methods Sometimes methods also referred hidden surface elimination methods although subtle differences identifying visible surfaces eliminat ing hidden surfaces For wireframe displays example may want actually eliminate hidden surfaces rather display dashed boundaries way retain information shape In chapter explore commonly used methods detecting visi ble surfaces three dimensional scene ALGORITHMS Visible surface detection algorithms broadly classified according whether deal object definitions directly projected images These two approaches called object space methods image space methods spectively An object space method compares objects parts objects within scene definition determine surfaces whole label visible In image space algorithm visibility decided point point pixel position projection plane Most visible surface algo rithms use image space methods although object space methods used ef fectively locate visible surfaces cases Line display algorithms hand generally use object space methods identify visible lines wire frame displays many image space visible surface algorithms adapted easily visible line detection Although major differences basic approach taken var ious visible surface detection algorithms use sorting coherence meth ods improve performance Sorting used facilitate depth comparisons ordering individual surfaces scene according distance view plane Coherence methods used take advantage regularities scene An individual scan line expected contain intervals runs con stant pixel intensities scan line patterns often change little one line next Animation frames contain changes vicinity moving ob jects And constant relationships often established objects surfaces scene A fast simple object space method identifying back faces polyhe dron based inside outside tests discussed Chapter A point x inside polygon surface plane parameters A B C D Ax By Cz D When inside point along line sight surface polygon must back face inside face see front viewing position We simplify test considering normal vector N toa polygon surface Cartesian components A B C In general V vector viewing direction eye camera position shown polygon back face V N O Furthermore object descriptions converted projection coordinates viewing direction parallel viewing z axis V V V N V C need consider sign C z component normal vector N In right handed viewing system viewing direction along nega tive z axis polygon back face C Also see face whose normal component C since viewing direction grazing polygon Thus general label polygon back face mal vector z component value C 33 N ABC Vector viewing direction back face normal vector N polyhedron Section Back Face Detection View concave polyhedron one face partially hidden faces N A B C A polygon surface plane parameter C Oina right handed viewing coordinate system Vv identified back face viewing direction along negative axis Similar methods used packages employ left handed view ing system In packages plane parameters A B C D calculated polygon vertex coordinates specified clockwise direction instead counterclockwise direction used right handed system Inequality remains valid test inside points Also back faces normal vectors point away viewing position identified C viewing direction along positive z axis By examining parameter C different planes defining object immediately identify back faces For single convex polyhedron pyramid test identifies hidden surfaces ob ject since surface either completely visible completely hidden Also scene contains nonoverlapping convex polyhedra hidden surfaces identified back face method For objects concave polyhedron tests need carried determine whether additional faces tally partly obscured faces And general scene expected contain overlapping objects along line sight We need determine obscured objects partially completely hidden objects In general back face removal expected eliminate half polygon surfaces scene visibility tests A commonly used image space approach detecting visible surfaces depth buffer method compares surface depths pixel position projection plane This procedure also referred z buffer method since object depth usually measured view plane along z axis viewing system Each surface scene processed separately one point time across surface The method usually applied scenes containing polygon surfaces depth values computed quickly method easy implement But method applied nonplanar sur faces With object descriptions converted projection coordinates x position polygon surface corresponds orthographic projection point x view plane Therefore pixel position x view plane object depths compared comparing z values shows three surfaces varying distances along orthographic projection line position x view plane taken x plane Surface closest position surface intensity value x saved We implement depth buffer algorithm normalized coordinates z values range back clipping plane front clip At view plane position x surface S smallest depth view plane visible position A ok ping plane The value z set either unit cube largest value stored system As implied name method two buffer areas required A depth buffer used store depth values x position surfaces processed refresh buffer stores intensity values position Ini tially positions depth buffer set minimum depth fresh buffer initialized background intensity Each surface listed polygon tables processed one scan line time calculating depth z value x pixel position The calculated depth compared value previously stored depth buffer position If calculated depth greater value stored depth buffer new depth value stored surface intensity position determined placed xy location refresh buffer We summarize steps depth buffer algorithm follows Initialize depth buffer refresh buffer buffer posi tions x depth x refresh x lbackgnd previously stored values depth buffer determine visibility Calculate depth z x position polygon Ifz depth x set depth z refresh x Jun xy lpackgna value background intensity qu x projected intensity value surface pixel position x After surfaces processed depth buffer contains depth values visible surfaces refresh buffer contains For position polygon surface compare depth values I corresponding intensity values surfaces Depth values surface position x calculated plane equation surface _ Ax By D C Zz Section Depth Butfer Method Axis x x4 yaxis From position x scan line next position across line coordinates x position immediately next line coordinates iy 1D For scan line adjacent horizontal positions across line differ vertical value adjacent scan line differs If depth posi tion x determined z depth z next position x along scan line obtained Eq AGw By D TO Cc 03 N il N O The ratio A C constant surface succeeding depth values across scan line obtained preceding values single addition On scan line start calculating depth left edge polygon intersects scan line Depth values successive position across scan line calculated Eq We first determine coordinate extents polygon process surface topmost scan line bottom scan line shown Fig Starting top vertex recursively calculate x positions left edge polygon x x slope edge Depth values edge obtained recursively zZ A B Cc If processing vertical edge slope infinite recursive calculations reduce tu goszt Ol An alternate approach use midpoint method Bresenham type al gorithm determining x values left edges scan line Also method applied curved surfaces determining depth intensity values surface projection point For polygon surfaces depth buffer method easy implement requires sorting surfaces scene But require avail ability second buffer addition refresh buffer A system resolu top scan tine scan lire left edge intersection bottom scan line Scan lines intersecting polygon surface tion Section A Buffer Method scan line scan line xx Intersection positions successive scan lines along left polygon edge example would require million positions depth buffer position containing enough bits represent number depth increments needed One way reduce storage requirements process one sec tion scene time using smaller depth buffer After view section processed buffer reused next section An extension ETHOD f ideas depth buffer method A buffer method end alphabet z buffer z represents depth The A buffer method developed Tepresents antialiased area averaged accumulation buffer method Lucasfilm implementation surface rendering system called REYES acronym Renders Everything You Ever Saw A drawback depth buffer method find one visible surface pixel position In words deals opaque surfaces accumulate intensity values one surface necessary transparent surfaces displayed The A buffer method ex pands dept list surfaces ation pi h buffer position buffer reference linked Thus one surface intensity taken consider xel position object edges antialiased Each position A buffer two fields depth field stores positive negative real number intensity field stores surface intensity information pointer value background opaque surface foreground transparent oo surface Viewing opaque surface transparent surface requires multiple surface intensity contributions pixel positions flo Gea depth intensiry depth intensity field field field field b Organization A buffer pixel position single surface overlap corresponding pixel area b multiple surface overlap If depth field positive number stored position depth single surface overlapping corresponding pixel area The intensity field stores RGB components surface color point percent pixel coverage illustrated If depth field negative indicates multiple surface contributions pixel intensity The intensity field stores pointer linked list sur face data b Data surface linked list includes RGB intensity components opacity parameter percent transparency depth percent area coverage surface identifier surface rendering parameters pointer next surface The A buffer constructed using methods similar depth buffer algorithm Scan lines prucessed determine surface overlaps pixels across individual scanlines Surfaces subdivided polygon mesh clipped pixel boundaries Using opacity factors percent surface overlaps calculate intensity pixel av erage contributions overlapping surfaces This image space method removing hidden surfaces extension scan line algorithm filling polygon interiors Instead filling one surface deal multiple surfaces As scan line processed ail polygon surfaces intersecting line examined determine visible Across scan line depth calculations made overlapping surface determine nearest view plane When visible surface determined intensity value position entered refresh buffer We assume tables set various surfaces discussed Chapter include edge table polvgon table The edge table contains coordinate endpoints line scene inverse slope line pointers polygon table identify surfaces bounded line The polygon table contains coefficients plane equation sur face intensity information surfaces possibly pointers edge table To facilitate search surfaces crossing given scan line set active list edges information edge table This active list con tain edges cross current scan line sorted order increasing x In addition define flag surface set indicate whether position along scan line inside outside surface Scan lines processed left right At leftmost boundary surface surface flag turned rightmost boundary tumed illustrates scan line method locating visible portions surfaces pixel positions along line The active list scan line contains information edge table edges AB BC EH FG For positions along scan line edges AB BC flag surtace S Therefore depth calculations necessary intensity information sur face S entered polygon table refresh buffer Similarly tween edges EH FG flag surface S No positions along scan line intersect surfaces intensity values areas set background intensity The background intensity loaded buffer initialization routine For scan lines active edge list contains edges AD EH BC FG Along scan line edge AD edge EH flag surface S But edges EH BC flags surfaces In interval depth calculations must made using plane coefficients two surfaces For example depth surface assumed less S2 intensities surface loaded refresh buffer boundary BC encountered Then flag surface S goes intensities surface S2 stored edge FG passed We take advantage coherence along scan lines pass one scan line next In scan line active list edges scan line Since changes occurred line intersections unneces sary make depth calculations edges EH BC The two sur Scan lines crossing projection two surfaces S view plane Dashed lines indicate boundaries hidden surfaces Section Scan Line Method Intersecting cyclically overlapping surfaces alternately obscure one another Subdividing Line Subdividing faces must orientation determined scan line intensi ties surface S entered without calculations Any number overlapping polygon surfaces processed scan line method Flags surfaces set indicate whether position inside outside depth calculations performed surfaces overlap When coherence methods used need careful keep track surface section visible scan line This works surfaces cut otherwise cyclically overlap lf kind cyclic overlap present scene divide surfaces eliminate overlaps The dashed lines figure indicate planes could subdi vided form two distinct surfaces cyclic overlaps eliminated Using image space object space operations depth sorting method performs following basic functions Surfaces sorted order decreasing depth Surfaces scan converted order starting surface greatest depth Sorting operations carried image object space scan conversion polygon surfaces performed image space This method solving hiddew surface problem often referred painter algorithm In creating oil painting artist first paints back ground colors Next distant objects added nearer objects forth At final step foreground objects painted canvas background objects painted canvas Each layer paint covers previous layer Using similar technique first sort surfaces according distance view plane The intensity values farthest surface entered refresh buffer Taking succeeding surface turn decreasing depth order paint sur face intensities onto frame buffer intensities previously processed surfaces Painting polygon surfaces onto frame buffer according depth carried several steps Assuming viewing along z direction surfaces ordered first pass according smallest z value surface Surface S greatest depth compared sur faces list determine whether overlaps depth If depth overlaps occur S scan converted shows two surfaces overlap xy plane depth overlap This process peated next surface list As long overlaps occur sur face processed depth order ail scan converted If depth overlap detected point list need make additional comparisons determine whether surfaces reordered We make following tests surface overlaps S If one tests true reordering necessary surface The tests listed order increasing difficulty The bounding rectangles xy plane two surfaces da lap Surface S completely behind overlapping surface relative view ing position The overlapping surface completely front S relative viewing position The projections two surfaces onto view plane overlap We perform tests order listed proceed next overlapping surface soon find one tests true If overlapping surfaces pass least one tests none behind S No reordering necessary anc scan converted Test performed two parts We first check overlap x direc tion check overlap direction If either directions show overlap two planes obscure one An example two Two surfaces depth overlap Section Depth Sorting Method surfaces overlap z direction x direction shown Fig 13 We perform tests inside outside polygon test That substitute coordinates vertices S plane equation overlapping surface check sign result If plane equations set outside surface toward viewing position hind S vertices S inside S Similarly S completely front S vertices S outside S shows overlap ping surface S completely front S surface S completely inside S test true If tests failed try test checking intersections bounding edges two surfaces using line equations xy plane As demonstrated two surfaces may may intersect even though coordinate extents overlap x z directions Should four tests fail particular overlapping surface S inter change surfaces S S sorted list An example two surfaces Lt Xun Xinax X min X mac My Fryure 13 Two surfaces depth overlap overlap x direction x Surface Sis completely behind inside overlapping surface Zz S _ Ss _ x Overlapping surface S completely front outside surface S S completely Z behind Two surfaces overlapping bounding rectangles xy plane would reordered procedure given At point still know certain found farthest surface view plane illustrates situation would first inter change S S But since S obscures part S need interchange S S get three surfaces correct depth order Therefore need repeat testing process surface reordered list It possible algorithm outlined get infinite loop two surfaces alternately obscure In sit uations algorithm would continually reshuffle positions overlap ping surfaces To avoid loops flag surface ordered farther depth position moved If attempt made switch surface second time divide two parts eliminate cyclic overlap The original surface replaced twe new surfaces continue processing A binary space partitioning BSP tree efficient method determining object visibility painting surfaces onto screen back front painter algorithm The BSP tree particularly useful view reference point changes objects scene fixed positions Applying BSP tree visibility testing involves identifying surfaces inside outside partitioning plane step space sub division relative viewing direction illustrates basic con cept algorithm With plane P first partition space two sets objects One set objects behind back plane P relative view ing direction set front P Since one object intersected plane P divide object two separate objects labeled A B Ob jects A C front P objects B 2D behind P We next parti tion space plane construct binary tree representation shown b In tree objects represented terminal nodes front objects left branches back objects right branches zy Surface greater depth obscures surface Three surfaces entered sorted surface list order S shauld reordered S S Chapter Visible Surface Detection Methods Pp P P _ oe front pack von back A region space partitioned A c B D two planes P form ty BSP tree representation b For objects described polygon facets chose partitioning planes coincide polygon planes The polygon equations used identify inside outside polygons tree constructed one partitioning plane polygon face Any polygon intersected partition ing plane split nto two parts When BSP tree complete process tree selecting surfaces display order back front fore ground objects painted background objects Fast hardware imple mentations sonstructing processing BSP trees used systems This technique hidden surface removal essentially image space method object space operations used accomplish depth ordering surfaces The area subdivision method takes advantage area coherence ina scene lo cating view areas represent part single surface We apply method successively dividing total viewing area smaller smaller rectangles smail area projection part single visible surface surface To implement method need establish tests tnat quickly iden tify area part single surface tell us area complex alyze easily Starting total view apply tests determine whether subdivide total area smaller rectangles If tests indicate view sufficiently complex subdivide Next apply tests smaller areas subdividing tests indicate visibility Section single surface still uncertain We continue process subdivisions Area Subdivision Method easily analyzed belonging single surface reduced size single pixel An easy way successively divide area four equal parts step shown This approach similar used constructing quadtree A viewing area resolution could subdivided ten times way subarea reduced point Tests determine visibility single surface within specified area made comparing surfaces boundary area There four pos sible relationships surface specified area boundary We describe relative surface characteristics following way Surrounding surface One completely encloses area Overlapping surface One partly inside partly outside area Inside surface One completely inside area Dividing square area Outside surface One completely outside area equal sized quadrants step The tests determining surface visibility within area stated P terms four classifications No subdivisions specified area needed one following conditions true All surfaces outside surfaces respect area Only one inside overlapping surrounding surface area A surrounding surface obscures surfaces within area bound aries Test carried checking bounding rectangles surfaces area boundaries Test also use bounding rectangles xy plane identify inside surface For types surfaces bounding rec tangles used initial check If single bounding rectangle intersects area way additional checks used determine whether sur face surrounding overlapping outside Once single inside overlapping surrounding surface identified pixel intensities transferred appropriate area within frame buffer One method implementing test order surfaces according minimum depth view plane For surrounding surface compute maximum depth within area consideration If maxi Surrounding Overlapping inside Outside Surtece Surface Surface Surtece Possible relationships polygon surfaces rectangular area lange Within specified area Surrounding surrounding surface Surface U I KO Te maximum depth obscures x surfaces minimum depth beyond Zax Zi Area mum depth one surrounding surfaces closer view plane minimum depth surfaces within area test satisfied Figure 22 shows example conditions method Another method carrying test require depth sorting use plane equations calculate depth values four vertices area surrounding overlapping inside surfaces If calculated depths one surrounding surfaces less calculated depths surfaces test true Then area filled intensity values surrounding surface For situations methods implementing test fail iden tify correctly surrounding surface obscures surfaces Further testing could carried identify single surface covers area faster subdivide area continue complex testing Once outside surrounding surfaces identified area remain outside surrounding surfaces subdivisions area Furthermore inside overlapping surfaces expected elimi nated subdivision process continues areas become easier alyze In limiting case subdivision size pixel produced simply calculate depth relevant surface point transfer intensity nearest surface frame buffer Area A subdivided using boundary surface S view plane As variation basic subdivision process could subdivide areas along surface boundaries instead dividing half If surfaces sorted according minimum depth use surface small est depth value subdivide given area illustrates method subdividing areas The projection boundary surface S used parti tion original area subdivisions A A Surface S sur rounding surface A visibility tests applied determine whether subdividing necessary In general fewer subdivisions quired using approach processing needed subdivide areas analyze relation surfaces subdivision boundaries When octree representation used viewing volume hidden surface elimination accomplished projecting octree nodes onto viewing surface front back order In front face region space side toward viewer formed octants Surfaces front octants visible viewer Any surfaces toward rear front octants back octants may hidden front surfaces Back surfaces eliminated viewing direction given processing data elements octree nodes order This results depth first traversal octree nodes representing oc tants entire region visited nodes representing octants Similarly nodes front four suboctants actant visited nodes four back suboctants The traversal oc tree continues order octant subdivision When color value encountered octree node pixel area frame buffer corresponding node assigned color value values previously stored area In way front colors loaded buffer Nothing loaded area void Any node found completely obscured eliminated processing subtrees accessed Different views objects represented octrees obtained apply ing transformations octree representation reorient object according oo Numbered Octants A Objects octants Region obscure objects back octants Viewing viewing Direction direction shown Section Octree Methods Octants Space Quadrants tha View Plane Octant divisions region space corresponding quadrant plane view selected We assume octree representation always set octants region form front face A method displaying octree first map octree onto quadtree visible areas traversing octree nodes front back recursive proce dure Then quadtree representation visible surfaces loaded frame buffer depicts octants region space corre sponding quadrants view plane Contributions quadrant come octants Color values quadrant obtained surfaces octants values two quadrants generated pair octants aligned quadrants Recursive processing octree nodes demonstrated following proce dure accepts octree description creates quadtree representation visible surfaces region In cases front back octant must considered determining correct color values quadrant But front octant homogeneously filled color process back octant For heterogeneous regions procedure recursively called pass ing new arguments child heterogeneous octant newly created quadtree node If front empty rear octant processed Otherwise two recursive calls made one rear octant one front octant typedef enum SOLID MIXED Status define EMPTY typedef struct tOctree int id Status status union int color struct tOctree children data Octree typedef struct tQuadtree int id Status status union int color struct tQuadtree children data Quadtree int nQuadtree void octreeToQuadtree Octree oTree Quadtree qTree Octree front back Quadtree newQuadtree int oTree status SOLID QTree status SOLID qTree data color oTree data color return qTree status MIXED Fill quad quadtree front oTree data children back oTree data children newQuadtree Quadtree malloc sizeof Quadtree newQuadtree id nQuadtree newQuadtree status SOLID qTree data children newQuadtree front status SOLID front data color EMPTY qfree data children data color Front data color else back status SOLID back data color EMPTY qTree data children data color back data color else qTree data children data color EMPTY else back node mixed newQuadtree status MIXED octreeToQuadtree back newQuadtree else front node mixed newQuadtree status MIXED octreeToQuadtree back newQuadtree octreeToQuadtree front newQuadtree If consider line sight pixel position view plane scene determine objects scene inter sect line After calculating ray surface intersections identify visi ble surface one whose intersection point closest pixel This visibil ity detection scheme uses ray casting procedures introduced Section 15 Ray casting visibility detection tool based geometric optics methods trace paths light rays Since infinite number light rays scene interested rays pass A ray along line sight pixel position scene Section 10 Ray Casting Method Chapter Visible Surface Detection Methods pixel positions trace light ray paths backward pixels scene The ray casting approach effective visibility detection method scenes curved surfaces particularly spheres We think ray casting variation depth buffer method Sec tion In depth buffer algorithm process surfaces one time calculate depth values projection points surface The calculated surface depths compared previously stored depths determine visi ble surfaces pixel In ray casting process pixels one time cal culate depths surfaces along projection path pixel Ray casting special case ray tracing algorithms Section trace multiple ray paths pick global reflection refraction contributions multiple objects scene With ray casting follow ray pixel nearest object Efficient ray surface intersection calculations developed common objects particularly spheres discuss intersection methods detail Chapter Effective methods determining visibility objects curved surfaces clude ray casting octree methods With ray casting calculate ray surface intersections locate smallest intersection distance along pixel ray With octrees representation established input defini tion objects visible surfaces identified processing pro cedures No special considerations need given different kinds curved surfaces We also approximate curved surface set plane polygon sur faces In list surfaces replace curved surface polygon mesh use one hidden surface methods previously discussed With objects spheres efficient well accu rate use ray casting curved surface equation Curved Surface Representations We represent surface implicit equation form f x z parametric representation Appendix A Spline surfaces instance normally described parametric equations In cases useful ob tain explicit surface equation example height function xy ground plane z fix Many objects interest spheres ellipsoids cylinders cones quadratic representations These surfaces commonly used model molecu lar structures roller bearings rings shafts Sean line ray casting algorithms often involve numerical approxima tion techniques solve surface equation intersection point scan line pixel ray Various techniques including parallel calculations fast hardware implementations developed solving curved sur face equations commonly used objects Surface Contour Plots For many applications mathematics physical sciences engineering fields useful display surface function set contour lines show surface shape The surface may described equation data tables topographic data elevations population density With explicit functional representation plot visible surface contour lines eliminate contour sections hidden visible parts surface To obtain xy plot functional surface write surface representa tion form fx A curve xy plane platted values z within selected range using specified interval Az Starting largest value z plot curves front back eliminate hidden sections We draw curve sections screen mapping xy range function xy pixel screen range Then unit steps taken x corresponding value x value determined Eq given value z One way identify visible curve sections surface maintain list Yam Ypu Values previously calculated pixel x coordinates screen As step one pixel x position next check calculated value stored range yin ANd Yas next pixel If yrin Youx point surface visible plot But calcu lated value outside stored bounds pixel point visible We plot point reset bounds pixel Similar procedures used project contour plot onto xz yz plane shows example surface contour plot color coded contour lines Similar methods used discrete set data points determin ing isosurface lines For example discrete set z values n n grid xy values determine path line constant surface using contour methods discussed Section 21 Each selected con tour line projected onto view plane displayed straight line A color coded surface contour plot Courtesy Los Alamos National Laboratory Section 11 Curved Surfaces ib Hidden line sections dashed fora line passes behind surface b penetrates surface segments Again lines drawn display device front back depth order eliminate contour sections pass behind previously drawn visible contour lines When outline object displayed visibility tests applied surface edges Visible edge sections displayed hidden edge sections either eliminated displayed differently visible edges For ex ample hidden edges could drawn dashed lines could use depth cue ing decrease intensity lines linear function distance view plane Procedures determining visibility object edges referred wireframe visibility methods They also called visible line detection methods hidden line detection methods Special wireframe visibility proce dures developed visible surface methods discussed preceding sections also used test edge visibility A direct approach identifying visible lines scene compare line surface The process involved sifnilar clipping lines arbitrary window shapes except want determine sections lines hidden surfaces For line depth values com pared surfaces determine line sections visible We use coherence methods identify hidden line segments without actually testing coordinate position If line intersections projection surface boundary greater depth surface points line segment intersections completely hidden This usual situation scene also possible lines surfaces inter secting When line greater depth one boundary intersection less depth surface boundary intersection line must penetrate surface interior b In case calculate tersection point line surface using plane equation display visible sections Some visible surface methods readily adapted wireframe visibility testing Using back face method could identify back surfaces object display boundaries visible surfaces With depth sort ing surfaces painted refresh buffer surface interiors background color boundaries foreground color By process ing surfaces back front hidden lines erased nearer sur faces An area subdivision method adapted hidden line removal dis playing boundaries visible surfaces Scan line methods used display visible lines setting points along scan line coincide boundaries visible surfaces Any visible surface method uses scan conver sion modified edge visibility detection method similar way Often three dimensional graphics packages accommodate several visible surface detection procedures particularly back face depth buffer methods A particular function invoked procedure name back Face depthBuf fer In general programming standards GKS PHIGS visibility methods implementation dependent A table available methods listed installation particular visibility detection method selected hidden line hidden surface removal HLHSR function setHLHSRidentifier visibilityPunctionIndex Parameter visibilityFunctionIndex assigned integer code identify visibility method applied subsequently specified output primi tives SUMMARY Here give summary visibility detection methods discussed chapter comparison effectiveness Back face detection fast ef fective initial screening eliminate many polygons visibility tests For single convex polyhedron back face detection eliminates hidden surfaces general back face detection completely identify hid den surfaces Other involved visibility detection schemes correctly produce list visible surfaces A fast simple technique identifying visible surfaces depth buffer z buffer method This procedure requires two buffers one pixel intensities one depth visible surface pixel view plane Fast incremental methods used scan surface scene calcu late surface depths As surface processed two buffers updated An improvement depth buffer approach A buffer provides addi tional information displaying antialiased transparent surfaces Other visi ble surface detection schemes include scan line method depth sorting method painter algorithm BSP tree method area subdivision octree methods ray casting Visibility detection methods also used displaying three dimensional line drawings With curved surfaces display contour plots For wireframe displays polyhedrons search various edge sections surfaces scene visible view plane The effectiveness visible surface detection method depends characteristics particular application If surfaces scene spread z direction little depth overlap depth sorting BSP tree method often best choice For scenes surfaces fairly well sepa rated horizontally scan line area subdivision method used efficiently locate visible surfaces As general rule depth sorting BSP tree method highly effective approach scenes surfaces This scenes usually surfaces overlap depth The scan line method also performs well scene contains small number surfaces Either scan line depth sorting BSP tree method used effectively scenes several thousand polygon surfaces With scenes contain thousand surfaces depth buffer method octree approach performs best The depth buffer method nearly constant processing time independent number surfaces scene This size surface areas decreases number surfaces scene increases Therefore depth buffer method ex hibits relatively low performance simple scenes relatively high perfor Summary mance complex scenes BSP trees useful multiple views generated using different view reference points When octree representations used system hidden surface elimi nation process fast simple Only integer additions subtractions used process need perform sorting intersection calcu lations Another advantage octrees store surfaces The entire solid region object available display makes octree representation useful obtaining cross sectional slices solids If scene contains curved surface representations use octree ray casting methods identify visible parts scene Ray casting methods integral part ray tracing algorithms allow scenes displayed global illumination effects It possible combine implement different visible surface detec tion methods various ways In addition visibility detection algorithms often implemented hardware special systems utilizing parallel processing employed increase efficiency methods Special hardware sys tems used processing speed especially important consideration generation animated views flight simulators REFERENCES Additional sources information visibility algorithms include Elber Cohen Franklin Kankanhalli Glassner Naylor Amanatides Thibault Segal EXERCISES Develop procedure based back face detection technique identifying visible faces convex polyhedron different colored surfaces Assume object defined right handed viewing system xy plane viewing surface Implement back face detection procedure using orthographic parallel projection view visible faces convex polyhedron Assume parts object front view plane provide mapping onto screen viewport display Implement back face detection procedure using perspective projection view visible faces convex polyhedron Assume parts object front view plane provide mapping onto screen viewport display Write program produce animation convex polyhedron The object rotated incrementally axis passes object parallel view plane Assume object lies completely front view plane Use orthographic parallel projection map views successively onto view plane Implement depth buffer method display visible surfaces given polyhe dron How storage requirements depth buffer determined definition objects displayed tmplement depth buffer method display visible surfaces scene contain ing number polyhedrons Set efficient methods storing processing various objects scene Implement A buffer algorithm display scene containing opaque transparent surfaces As optional feature algorithm may extended clude antialiasing 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 Develop program implement scan line algorithm displaying visible surfaces given polyhedron Use polygon edge tables store definition object use coherence techniques evaluate points along scan lines Write program implement scan line algorithm scene containing several polyhedrons Use polygon edge tables store definition object use coherence techniques evaluate points along scan lines Set program display visible surfaces convex polyhedron using painter algorithm That surfaces sorted depth painted screen back front Write program uses depth sorting method display visible surfaces given object plane faces Develop depth sorting program display visible surfaces scene containing several polyhedrons Write program display visible surfaces convex polyhedron using BSP tree method Give examples situations two methods discussed test area subdivision algorithm fail identify correctly surrounding surface ob scures surfaces Develop algorithm would test given plane surface rectangular area decide whether surrounding overlapping inside outside surface Develop algorithm generating quadtree representation visible sur faces object applying area subdivision tests determine values quadtree elements Set algorithm load given quadtree representation object frame buffer display Write program system display octree representation object hidden surfaces removed Devise algorithm viewing single sphere using ray casting method Discuss antialiasing methods incorporated various hidden sur face elimination algorithms Write routine produce surface contour plot given surface function f x Develop algorithm detecting visible line sections scene comparing line scene surface Discuss wireframe displays might generated various visible surface detection methods discussed chapter Set procedure generating wireframe display polyhedron hid den edges object drawn dashed lines Exercises CHAPTER Ilumination Models Surface Rendering Methods R ealistic displays scene obtained generating perspective projec tions objects applying natural lighting effects visible sur faces An illumination model also called lighting model sometimes ferred shading model used calculate intensity light see given point surface object A surface rendering algo rithm uses intensity calculations illumination model determine light intensity projected pixel positions various surfaces scene Surface rendering performed applying illumination model every visible surface point rendering accomplished interpolating tensities across surfaces small set illumination model calculations Scan line image space algorithms typically use interpolation schemes ray tracing algorithms invoke illumination model pixel position Some times surface rendering procedures termed surface shading methods To avoid confusion refer model calculating light intensity single sur face point ilumination model lighting model use term surface rendering mean procedure applying lighting model obtain pixel intensilies projected surface positions scene Photorealism computer graphics involves two elements accurate graphi cal representations objects good physical descriptions lighting ef fects scene Lighting effects include light reflections transparency surface texture shadows Modeling colors lighting effects see object com plex process involving principles physics psychology Fundamen tally lighting effects described models consider interaction electromagnetic energy object surfaces Once light reaches eyes trig gers perception precesses determine actually see scene Phys ical illumination models involve number factors object type object position relative light sources objects light source condi tions set scene Objects constructed opaque materials jess transparent In addition shiny dull sur faces variety surface texture patterns Light sources varying shapes colors positions used provide illumination ef fects scene Given parameters optical properties surfaces relative positions surfaces scene color positions light sources position orientation viewing plane illumination mod els calculate intensity projected particular surface point ina specified viewing direction Mjumination models computer graphics often loosely derived physical laws describe surface light intensities To minimize intensity cal Chapter Numination Models Surface Rendering Methods Light Source Reflecting Surface Light viewed opaque nonluminous surface general combination reflected light light source reflections light reflections surfaces Ne N Diverging ray paths froma paint light source culations packages use empirical models based simplified photometric calculations More accurate models radiosity algorithm calculate light intensities considering propagation radiant energy surfaces light sources scene In following sections first take look basic illumination models often used graphics packages discuss accurate time consuming methods calculating sur face intensities And explore various surface rendering algorithms ap plying lighting models obtain appropriate shading visible sur faces scene When view opaque nonluminous object see reflected light surfaces object The total reflected light sum contributions light sources reflecting surfaces scene Thus surface directly exposed light source may still visible nearby objects illuminated Sometimes light sources referred light emitting sources reflecting surfaces walls room termed light flecting sources We use term light source mean object emitting radiant energy light bulb sun A luminous object general light source light reflec tor For example plastic globe light bulb inside emits reflects light surface globe Emitted light globe may illumi nate objects vicinity The simplest model light emitter point source Rays source follow radially diverging paths source position shown This light source model reasonable approximation sources whose dimensions smal compared size objects scene Sources sun sufficiently far scene accurately modeled point sources A nearby source long fluorescent light accurately modeled distributed light source In case illumi nation effects approximated realistically point source area source small compared surfaces scene An accu rate model distributed source one considers accumulated illu mination effects points surface source When light incident opaque surface part reflected part absorbed The amount incident light reflected surface depends type material Shiny materials reflect incident light dull sur faces absorb incident light Similarly illuminated transparent An object illuminated distributed light source surface incident light reflected transmitted material Surfaces rough grainy tend scatter reflected light al di rections This scattered light called diffuse reflection A rough matte sur face produces primarily diffuse reflections surface appears equally bright viewing directions illustrates diffuse light scattering surface What call color object color diffuse flection incident light A blue object illuminated white light source example reflects blue component white light totally absorbs components If blue object viewed red tight appears black since incident light absorbed In addition diffuse reflection light sources create highlights bright spots called specular reflection This highlighting effect pronounced shiny surfaces dul surfaces An illustration specular reflection shown Here discuss simplified methods calculating light intensities The empiri cal models described section provide simple fast methods calculat ing surface intensity given point produce reasonably good results scenes Lighting calculations based optical properties sur faces background lighting conditions light source specifications Optical parameters used set surface properties glossy matte opaque transparent This controls amount reflection absorption incident light All light sources considered point sources specified coordinate position intensity value color Ambient Light A surface exposed directly light source still visible nearby objects illuminated In basic illumination model set gen eral level brightness scene This simple way model combina tion light reflections various surfaces produce uniform illumination called ambient light background light Ambient light spatial di rectional characteristics The amount ambient light incident object constant surfaces directions We set level ambient light scene parameter I surface illuminated constant value The resulting reflected light constant surface independent viewing direction spatial orientation surface But intensity reflected light surface depends optical properties surface much incident energy reflected much absorbed Diffuse Reflection Ambient light reflection approximation global diffuse lighting effects Diffuse reflections constant surface scene independent viewing direction The fractional amount incident light diffusely Section Basic Illumination Models Diffuse reflections surface Specular reflection superimposed diffuse reflection vectors Chapter Illumination Models Surface Rendering Methods b A surface perpendicular direction incident light illuminated equal sized surface oblique angle b incoming light direction Radiant energy surface area dA direction relative surface normal direction flected set surface parameter k diffuse reflection coeffi cient diffuse reflectivity Parameter k assigned constant value terval according reflecting properties want surface If want highly reflective surface set value ky near This produces bright surface intensity reflected light near incident light To simulate surface absorbs incident light set flectivity value near Actually parameter k function surface color time assume k constant If surface exposed ambient light express intensity diffuse reflection point surface Tambaitt Kale Since ambient light produces flat uninteresting shading surface Fig 19 b scenes rarely rendered ambient light alone At least one light source included scene often point source viewing position We model diffuse reflections illumination point source similar way That assume diffuse reflections surface scattered equal intensity directions independent viewing direc tion Such surfaces sometimes referred ideal diffuse reflectors They also called Lambertian reflectors since radiated light energy point surface governed Lambert cosine law This law states radiant energy small surface area dA direction dy relative surface normal proportional cos The light intensity though depends radiant energy per projected area perpendicular direction dA cosdy Thus Lambertian reflection intensity light viewing directions We discuss photometry concepts terms radiant energy greater detail Section Even though equal light scattering directions perfect diffuse reflector brightness surface depend orientation surface relative light source A surface oriented perpendicular direction incident light appears brighter surface tilted oblique angle direction incoming light This easily seen holding white sheet paper smooth cardboard parallel nearby window slowly rotating sheet away window direction As angle tween surface normal incoming light direction increases less incident light falls surface shown This figure shows beam light rays incident two equal area plane surface patches different spa tial orientations relative incident light direction distant source par Acos An illuminated area projected perpendicular path incoming light rays incident allel incoming rays If denote angle incidence incoming light direction surface normal projected area surface patch perpendicular light direction proportional cos Thus amount illumination number incident light rays cutting across projected surface patch depends cos If incoming light source perpendicular surface particular point point fully illu minated As angle illumination moves away surface normal brightness point drops If J intensity point light source diffuse reflection equation point surface written lag Kal cos A surface illuminated point source angle incidence range cos interval When cos negative light source behind surface If N unit normal vector surface L unit direction vector point light source position surface cos N Land diffuse reflection equation single point source illumination Tain Kal N L Reflections point source illumination calculated world coordinates viewing coordinates shearing perspective transformations ap plied These transformations may transform orientation normal vectors longer perpendicular surfaces represent Transforma tion procedures maintaining proper orientation surface normals discussed Chapter illustrates application Eq positions sur face sphere using various values parameter kz Each pro jected pixel position surface assigned intensity calculated diffuse reflection equation point ight source The renderings figure illustrate single point source lighting lighting effects This might expect see shined small light object completely darkened room For general scenes however expect background light ing effects addition illumination effects produced direct light source We combine ambient point source intensity calculations ob tain expression total diffuse reflection In addition many graphics packages introduce ambient reflection coefficient k modify ambient light intensity surface This simply provides us additional pa rameter adjust light conditions scene Using parameter k write total diffuse reflection equation Tay Kyla kylN L lf To Light N Source Angle incidence unit light source direction vector L unit surface normal N Chapter Iilumination Models Surface Rendering Methods kd ka 2 8 Diffuse reflections spherical surface illuminated point light source values diffuse reflectivity coefficient interval O kS1 Diffuse reflections spherical surface illuminated ambient light single point source values k k interval k k depend surface material properties assigned val ues range shows sphere displayed surface intensitities calculated Eq values parameters k ky Specular Reflection Phong Model When look illuminated shiny surface polished metal apple person forehead see highlight bright spot certain viewing di rections This phenomenon called specular reflection result total near total reflection incident light concentrated region around specular reflection angle shows specular reflection direction point illuminated surface The specular reflection angle equals angle incident light two angles measured opposite sides unit normal surface vector N In figure use R represent unit vector direc tion ideal specular reflection L represent unit vector directed toward point light source V unit vector pointing viewer sur face position Angle viewing anyle relative specular reflection di rection R For ideal reflector perfect mirror incident light reflected specular reflection direction In case would see reflected light vectors V R coincide Objects ideal reflectors exhibit specular reflections finite range viewing positions around vector R Shiny surfaces narrow specu lar reflection range dull surfaces wider reflection range An empirical model calculating specular reflection range developed Phong Bui Tuong called Phong specular reflection model simply Phong model sets intensity specular reflection proportional cos Angle assigned values range cos varies The value assigned specular reflection parameter n determined type sur face want display A shiny surface modeled large value n say smaller values used duller sur faces For perfect reflector n infinite For rough surface chalk cinderblock n would assigned value near Figures 13 14 show effect n angular range expect see specular flections The intensity specular reflection depends material properties surface angle incidence well factors polar ization color incident light We approximately model monachro matic specular intensity variations using specular reflection coefficient WO surface shows general variation W range materials In general W tends increase angle incidence increases At WC incident light reflected The variation specular intensity angle incidence described Fresnel Laws Reflection Using spectral reflection function W write Phong specular refiection model Fooee WCB cos J intensity light source viewing angle relative specular reflection direction R oa oN oR Shiny Surface Oull Surface Large Small n Modeling specular reflections shaded area parameter Specular reflection angle equals angle incidence 5at S S beer S co Ra cost 8 06 4 2 l oo 3ar 45 QO 45 oO cos db Oo cast cos os 2 Nt td L oa lL ce QO Plots cos several values specular parameter As seen transparent materials glass exhibit ap preciable specular reflections approaches At percent incident light glass surface reflected And range reflected intensity less percent incident intensity But many opaque materials specular reflection nearly constant incidence gles In case reasonably model reflected light effects replacing W constant specular reflection coefficient k We simply set k equal value range surface Since V R unit vectcrs viewing specular reflection direc tions calculate value cos dot product V R Assuming specular reflection coefficient constant determine intensity specular reflection surface point calculation Lpec KeliV RY silver Approximate variation specular reflection coefficient function angle incidence different materials dielectric glass Vector R expression calculated terms vectors L N As seen projection L onto direction normal vector ob tained dot product N L Therefore diagram R L N L N specular reflection vector obtained R N DL N L illustrates specular reflections various values k n un sphere illuminated single point light source A somewhat simplified Phong model obtained using halfway vector H L V calculate range specular reflections If replace V R Phong model dot product N H simply replaces empir ical cos calculation empirical cosa calculation The halfway vector obtained L V H TL vl COLE We Ra ey attrition toms os spherical surface varying specular parameter values single light source Section Basic tllumination Models Calculation vector R considering projections onto direction normal vector N Halfway vector H along bisector angle Land V Illumination Models Surface Chapter Rendering Methods If viewer light source sufficiently far surface V L constant surface thus H also constant surface points For nonplanar surfaces N H requires less computation V R since calculation R surface point involves variable vector N For given light source viewer positions vector H orientation di rection surface would produce maximum specular reflection viewing direction For reason H sometimes referred surface ori entation direction maximum highlights Also vector V coplanar vectors L R thus N angle value When V L N coplanar depending spatial relationship three vectors Combined Diffuse Specular Reflections Multiple Light Sources For single point light source mode combined diffuse specular reflections point illuminated surface Tat Topec kl kyl ON L kd N HY illustrates surface lighting effect wioduced various terms Eq If place one point sour scene obtain light flection surface point summing vontributions individual sources T kl S KQN L k N I 10 trl To ensure pixel intensity exceed maximum allowable value apply type normalization procedure A simple approach set maximum magnitude term intensity equation If cal culated term exceeds maximum simply set maximum value An way compensate intensity overflow normalize individual terms dividing magnitude largest term A compli cated procedure first calculate pixel intensities scene cal culated intensities scaled onto allowable intensitv range Warn Model So far considered point light sources The Warn model provides method simulating studio lighting effects controlling light intensity dif ferent directions Light sources modeled points reflecting surface using Phong model surface points Then intensity different directions con trolled selecting values Phong exponent In addition light controls barn doors ane spotlighting used studio photographers sim ulated Warn model Flaps used control amount light emitted source various directions Two flaps provided x z directions Spotlights used control amount light emitted within cone apex point source position The Warn model implemented c id A wireframe scene displayed ambient lighting b surface object assigned different color Using ambient light diffuse reflections due single source k surfaces obtain lighting effects shown c Using ambient light diffuse specular reflections due single light source obtain lighting effects shown PHIGS illustrates lighting effects produced model Intensity Attenuation As radiant energy point light source travels space amplitude attenuated factor distance light traveled This means surface close light source small receives higher inci dent intensity source distant surface large Therefore pro duce realistic lighting effects illumination mode take intensity attenuation account Otherwise illuminating surfaces intensity matter far might light source If two par allel surfaces optical parameters overlap would indistin guishable The two surfaces would displayed one surface Chapter Illumination Models Surface Rendering Methods Studio lighting effects produced Warn model using five light sources illuminate Chevrolet Camaro Courtesy David R Warm General Motors Research Laboratories Our simple point source illumination model however always produce realistic pictures use factor attenuate intensities The factor produces much intensity variations small pro duces little variation large This real scenes usually illuminated point light sources illumination model sim ple accurately describe real lighting effects Graphics packages compensated problems using inverse linear quadratic functions attenuate intensities For example general inverse quadratic attenuation function set f tad ad 11 A user fiddle coefficients a9 obtain variety lighting effects scene The value constant term ay adjusted prevent f becoming large small Also values coefficients attenuation function optical surface parameters scene adjusted prevent calculations reflected intensities ex ceeding maximum allowable value This effective method limiting intensity values single light source used illuminate scene For mul tiple light source illumination methods described preceding section effective limiting intensity range With given set attenuation coefficients limit magnitude attenuation function calculation fa min pv ad vad 12 Using function write basic illumination model T kd fd hK N L N HY 13 l distance light traveled light source Light reflections surface black nylon cushion modeled woven cloth patterns rendered using Monte Carlo ray tracing methods Courtesy Stephen H Westin Program Computer Graphics Comell University Color Considerations Most graphics displays realistic scenes color But illumination model described far considers monochromatic lighting effects To incor porate color need write intensity equation function color properties light sources object surfaces For RGB description color scene expressed terms red green blue components We specify RGB components light source intensities surface colors illumination model calculates RGB components reflected light One way set surface colors speci fying reflectivity coefficients three element vectors The diffuse reflection coefficient vector example would RGB components kag Kac kag Uf want object blue surface select nonzero value range blue reflectivity component k g red green reflec tivity components set zero kyg kig Any nonzero red green com ponents incident light absorbed blue component flected The intensity calculation example reduces single expression Ip Kyplig fi Liplkas N L k p N HY 14 l Surfaces typically illuminated white light sources general set surface color reflected light nonzero values three RGB components Calculated intensity levels color component used adjust corresponding electron gun RGB monitor In original specular reflection model Phong set parameter k con stant value independent surface color This produces specular reflections color incident light usually white gives sur face plastic appearance For nonplastic material color specular flection function surface properties may different color incident light color diffuse reflections We approxi mate specular effects surfaces making specular reflection coeffi cient color dependent Eq 14 illustrates color reflections matte surface Figs 22 23 show color reflections metal Light reflections teapot Teflectance parameters set simulate brushed aluminum surfaces rendered using Monte Carlo ray tracing methods Courtesy Stephen H Westin Program Computer Graphics Cornell University Section Basic IIumination Models Chapter Wumination Models Surface Rendering Methods Light reflections trombones reflectance parameters set simulate shiny brass surfaces Courtesy SOFTIMAGE Inc surfaces Light reflections object surfaces due multiple colored light sources shown Another method setting surface color specify components diffuse specular color vectors surface retaining reflectivity coefficients single valued constants For RGB color representation stance components two surface color vectors denoted S4a Sac Sag Sg S5c The blue component reflected light calcu lated Ig KeSaales fild ligdkySaa N L k S g N H 15 This approach provides somewhat greater flexibility since surface color parame ters set independently reflectivity values Other color representations besides RGB used describe colors scene And sometimes convenient use color model three components color specification We discuss color models detail next chapter For simply represent component color specifi cation spectral wavelength A Intensity calculations ex pressed kSaalen fAdMyilkaSalN L k S N H 16 imd Transparency A transparent surface general produces reflected transmitted light The relative contribution transmitted light depends degree trans Light reflections due multiple light sources various colors Courtesy Sun Microsystems parency surface whether light sources illuminated surfaces behind transparent surface illustrates intensity contributions surface lighting transparent object When transparent surface modeled intensity equations must modified include contributions light passing surface In cases transmitted light generated reflecting objects back surface Reflected light objects passes transparent surface contributes total surface intensity Both diffuse specular transmission take place surfaces transparent object Diffuse effects important partially transparent sur face frosted glass modeled Light passing materials scattered blurred image background objects obtained Diffuse fractions generated decreasing intensity refracted light spreading intensity contributions point refracting surface onto fi nite area These manipulations time comsuming lighting models employ specular effects Realistic transparency effects modeled consideririg light refraction When light incident upon transparent surface part reflected part refracted Because speed light different different materi als path refracted light different incident light The direction refracted light specified angle refraction function index refraction material direction incident light Index refraction material defined ratio speed light vacuum speed light material Angle refraction calculated angle incidence index refraction n incident material usually air index refraction refracting material according Snell law 17 sin sin h A ray traced view transparent glass surface showing light transmission objects behind glass light reflection glass surface Courtesy Eric Haines 3D EYE tc incident light transparent object Light emission transparent surface general combination reflected transmitted light To Light N Source L teflection direction tefraction direction Reflection direction R refraction direction T fora ray light incident upon surface index refraction incident fight Refraction light glass object The emerging refracted ray travels along path parallel incident light path dashed line Background Object P Transparent ae Object Projection Plane The intensity background object point P combined reflected intensity surface transparent object along perpendicular projection line dashed Actually index refraction material function wave length incident light different color components light ray refracted different angles For applications use average index refraction different materials modeled scene The index refraction air approximately crown glass Using values Eq 17 angle incidence yields angle refraction illustrates changes path direc tion light ray refracted glass object The overall effect fraction shift incident light parallel path Since calculations trigonometric functions Eq 17 time consuming refraction effects could modeled simply shifting path incident light small amount From Snell law diagram obtain unit transmission vector T refraction direction r ir cos cos FL 18 N unit surface normal L unit vector direction light source Transmission vector T used locate intersections fraction path objects behind transparent surface Including refraction ef fects scene produce highly realistic displays determination fraction paths object intersections requires considerable computation Most scan line image space methods model light transmission approximations reduce processing time We return topic refraction discussion ray tracing algorithms Section A simpler procedure modeling transparent objects ignore path shifts altogether In effect approach assumes change index refraction one material another angle refraction always angle incidence This method speeds calculation tensities produce reasonable transparency effects thin polygon sur faces We combine transmitted intensity Ian surface background object reflected intensity Iq transparent surface using transparency coefficient k We assign parameter k value specify much background light transmit ted Total surface intensity calculated T K lea Kilerans The term k opacity factor For highly transparent objects assign k value near Nearly opaque objects transmit little light background objects set k value near materials opacity near It also possible allow k function position surface different parts object transmit less background intensity according values assigned k Transparency effects often implemented modified depth buffer z buffer algorithms A simple way process opaque objects first determine depths visible opaque surfaces Then depth positions transparent objects compared values previously strored depth buffer If transparent surface visible reflected intensity calcu lated combined opaque surface intensity previously stored frame buffer This method modified produce accurate displays using additional storage depth parameters transparent ow Incident Light froma Distant Source Objects modeled shadow regions surfaces This allows depth values transparent surfaces compared well depth values opaque surfaces Visible transpar ent surfaces rendered combining surface intensities visible opaque surfaces behind Accurate displays transparency antialiasing obtained A buffer algorithm For pixel position surface patches overlapping surfaces saved sorted depth order Then intensities transparent opaque surface patches overlap depth combined proper vis ibility order produce final averaged intensity pixel discussed Chapter A depth sorting visibility algorithm modified handle transparency first sorting surfaces depth order determining whether visible surface transparent If find visible transparent surface reflected surface intensity combin surface intensity objects behind obtain pixel intensity projected surface point Shadows Hidden surface methods used locate areas light sources produce shadows By applying hidden surface method light source view position determine surface sections seen light source These shadow areas Once determined shadow areas Jisht sources shadows could treated surface patterns stored pattern arrays illustrates generation shading pat terns two objects table distant light source All shadow areas figure surfaces visible position light source The scene shows shadow effects produced multiple light sources Shadow patterns generated hidden surface method valid selected viewing position long light source positions changed Surfaces visible view position shaded according light ing model combined texture patterns We display shadow areas ambient light iniensity combine ambient light specified surface textures Values intensitv calculated illumination model must converted one allowable intersitv levels particular graphics system use Some Section Displaying Light Intensities Rendering Methods systems capable displaying several intensity levels others capa ble two levels pixel In first case convert inten sities lighting model one available levels storage frame buffer For bilevel systems convert intensities halftone pat terns discussed next section Assigning Intensity Levels We first consider grayscale values video monitor distributed range distribution corresponds per ception equal intensity intervals We perceive relative light intensities way perceive relative sound intensities logarithmic scale This means ratio two intensities ratio two tensities perceive difference pair intensities As example perceive difference intensities 20 22 difference 80 88 Therefore display n successive intensity levels equal perceived brightness intensity levels monitor spaced ratio successive intensities constant h_k hobble 20 food Ba Here denote lowest level displayed monitor highest J Any intermediate intensity expressed terms Jy rly 21 We calculate value r given values J n particular sys tem substituting k preceding expression Since Va r 22 Thus calculation Eq 21 rewritten e 23 As example Ip system n r four intensity values The lowest intensity value Ij depends characteristics monitor typically range 005 around 025 As saw Chapter black region displayed monitor always intensity value due reflected light screen phosphors For black white monitor bits per pixel I 01 ratio successive inten sities approximately r 0182 The approximate values intensities system 0100 0102 0104 0106 0107 0109 9821 0000 With color system set intensity levels component color model Using RGB model example relate blue compo nent intensity level k lowest attainable blue value Eq 21 cee intensity A typical monitor response curve showing displayed screen 0 intensity asa function normalized electron gun voltage normalized electron gun voltage Igy r ilpo 24 un Tg 25 Tho n number intensity levels Similar expressions hold color components Gamma Correction Video Lookup Tables Another problem associated display calculated intensities non linearity display devices Illumination models produce linear range inten sities The RGB color 25 25 25 obtained lighting model represents one half intensity color Usually calculated intensi ties stored image file integer values one byte three RGB components This intensity file also linear pixel value one half intensity pixel value A video monitor however nonlinear device If set voltages electron gun proportional linear pixel values displayed intensities shifted according monitor response curve shown To correct monitor nonlinearities graphics systems use video lookup table adjusts linear pixel values The monitor response curve described exponential function l av 26 Parameter displayed intensity parameter V input voltage Val ues parameters depend characteristics monitor used graphics system Thus want display particular intensity value J correct voltage value produce intensity pvr Ve 27 Section Displaying Light Intensities normalized elect gun valtage pt 0 pixel intensity value A video lookup correction curve mapping pixel intensities electron gun voltages using gamma correction Values pixel intensity monitor voltages normalized interval This calculation referred gamma correction intensity Monitor gamma values typically The National Television System Com mittee NTSC signal standard shows gamma correction curve using NTSC gamma value Equation 27 used set video lookup table converts integer pixel values image file values control electron gun voltages We combine gamma correction logarithmic intensity mapping produce lookup table contains conversions If input intensity value illumination model first locate nearest intensity J table values created Eq 20 Eq 23 Alternatively could deter mine level number intensity value calculation k round log 28 Q compute intensity value level using Eq 23 Once intensity value JI calculate electron gun voltage L Vr V 29 Values V placed lookup tables values k would stored frame buffer pixel positions If particular system lookup table computed values V stored directly frame buffer The com bined conversion logarithmic intensity scale followed calculation V using Eq 29 also sometimes referred gamma correction A continuous tone photograph printed b two intensity levels c four intensity levels eight intensity levels If video amplifiers monitor designed convert linear input pixel values electron gun voltages combine two intensity con version processes In case gamuma correction built hardware logarithmic values J must precomputed stored frame buffer color table Displaying Continuous Tone Images High quality computer graphics systems generally provide intensity levels color component acceptable displays obtained many ap plications fewer levels A four level system provides minimum shading ca pability continuous tone images photorealistic images gener ated systems capable intensity levels per pixel shows continuous tone photograph displayed various intensity levels When small number intensity levels used reproduce continuous tone image borders different intensity regions called contours clearly visible In two level reproduction features photograph barely identifiable Using four intensity levels begin identify original shading patterns contouring effects glaring With eight intensity levels contouring effects still obvious begin better indication original shading At intensity levels contouring effects diminish reproductions close original Reproductions continuous tone images using intensity levels show subtle differences original An enlarged section photograph reproduced halftoning method showing tones represented varying size dots When output device limited intensity range create apparent increase number available intensities incorporating multiple pixel po sitions display intensity value When view small region con sisting several pixel positions eyes tend integrate average fine detail overall intensity Bilevel monitors printers particular take advantage visual effect produce pictures appear dis played multiple intensity values Continuous tone photographs reproduced publication newspa pers magazines books printing process called halftoning produced pictures called halftones For black white photograph intensity area reproduced series black circles white background The diameter circle proportional darkness required tensity region Darker regions printed larger circles lighter regions printed smaller circles white area shows en larged section gray scale halftone reproduction Color halftones printed using dots various sizes colors shown Book maga zine halftones printed high quality paper using approximately cir cles varying diameter per centimeter Newspapers use lower quality paper lower resolution dots per centimeter Halftone Approximations In computer graphics halftone reproductions approximated using rectangu lar pixel regions called halftone patterns pixel patterns The number intensity Color halftone dot patterns The top half clock color halftone enlarged factor b factor c Section Halftone Patterns Dithering Techniques 1 O421 06 08 Os A pixel grid used display five intensity evels bilevel system The intensity values would mapped grid listed pixel pattern Oc O42i O8sl A 3by pixel grid used display intensities bilevel system The intensity values would mapped grid listed pixel pattern levels display method depends many pixels clude rectangular grids many levels system display With pixels grid ona bilevel system represent intensity levels shows one way set pixel patterns represent five tensity levels could used bilevel system In pattern pixels turned pattern one pixel turned pattern tour pixels turned An intensity value I scene mapped particular pattern ac cording range listed grid shown figure Pattern used pattern I pattern used With pixel grids bilevel system display intensity lev els One way set pixel patterns levels shown Pixel positions chosen level patterns approximate creasing circle sizes used halftone reproductions That pixel posi tions near center grid far lower intensity levels expand ward intensity level increases For pixel grid size represent pixel patterns various possible intensities mask pixel position numbers As example following mask used generate nine grid patterns intensity levels shown Chapter Illumination Models Surface Rendering Methods 5 30 To display particular intensity level number k turn pixel whose position number less equal k Although use pixel patterns increases number intensities displayed reduce resolution displayed picture factor n along x axes A screen area stance reduced area containing intensity points grid patterns And patterns would reduce area intensity positions along side Another problem pixel grids subgrid patterns become apparent grid size increases The grid size used without distorting tensity variations depends size displayed pixel Therefore systems lower resolution fewer pixels per centimeter must satisfied fewer intensity levels On hand high quality displays require least intensity levels This means need pixel grids And achieve res olution equivalent halftones books magazines must display dots per centimeter Thus need able display x dots per centimeter Some devices example high quality film recorders able dis play resolution Pixel grid patterns halftone approximations must also constructed minimize contouring visual effects present original scene Contouring minimized evolving successive grid pattern previous pattern That form pattern level k adding posi tion grid pattern level k Thus pixel position one grid level higher levels Figs 36 37 We minimize troduction visual effects avoiding symmetrical patterns With pixel grid instance third intensity level zero would better repre sented pattern symmetrical arrange ments b The symmetrical patterns figure would produce vertical horizontal diagonal streaks large area shaded intensity level For hard copy output devices film recorders print ers isolated pixels effectly reproduced Therefore grid pattern single pixel one isolated pixels avoided ta For pixel grid pattern preferred patterns b representing third intensity level Halttone grid patterns isolated pixels effectively reproduced hard copy devices Intensity levels obtained halftone approximations using pixel grids four level system Halftone approximations also used increase number inten sity options systems capable displaying two intensities per pixel For example system display four intensity levels per pixel use pixel grids extend available intensity levels In four grid patterns zero represent several levels since pixel position display three intensity values zero Fig ure 40 shows one way assign pixel intensities obtain distinct levels Intensity levels individual pixels labeled levels system labeled Similarly use pixel grid patterns increase number intensi ties displayed color system As example suppose three bit per pixel RGB system This gives one bit per color gun monitor providing eight colors including black white Using pixel grid pat terns phosphor dots used represent particular color value shown Each three RGB colors four phos phor dots pattern allows five possible settings per color This gives us total different color combinations Dithering Techniques The term dithering used various contexts Primarily refers techniques approximating halftones without reducing resolution pixel grid patterns But term also applied halftone approximation methods using pixel grids sometimes used refer color halftone approximations Random values added pixel intensities break contours often ferred dither noise Various algorithms used generate ran An RGB pixel grid pattern Chapter Iumination Models Surface Rendering Methods dom distributions The effect add noise entire picture tends soften intensity boundaries Ordered dither methods generate intensity variations one one map ping points scene display pixels To obtain n intensity levels set ann n dither matrix D whose elements distinct positive integers range n For example generate four intensity levels Pr lo 31 generate nine intensity levels Dy 32 98 The matrix elements D D order pixel mask set ting pixel grids respectively For bilevel system determine display intensity values comparing input intensities matrix elements Each input intensity first scaled range n If inten sity applied screen position x calculate row column num bers dither matrix xmoda j ymodn 33 If f Dif turn pixel position x Otherwise pixel turned Elements dither matrix assigned accordance guide lines discussed pixel grids That want minimize added visual effect displayed scene Order dither produces constant intensity areas identical generated pixel grid patterns values matrix elements correspond grid mask Variations pixel grid displays occur boundaries intensity levels Typically number intensity levels taken multiple Higher order dither matrices obtained lower order matrices recurrence relation D AD DIA DU 4Dyyy DX1 2U _ nf2 34 4Dy D2 4Day DA2 U yr assuming n Parameter U unity matrix elements As example D specified Eq 31 recurrence relation 34 yields 5 p Hol 4 35 10 Another method mapping picture n points display area pixels error diffusion Here error input intensity value displayed pixel intensity level given position dispersed diffused pixel positions right current pixel position Starting matrix M intensity values obtained scanning photograph want construct array pixel intensity values area screen We first scanning across rows M left right top bot tom determining nearest available pixel intensity level element M Then error value stored matrix M displayed tensity level pixel position distributed neighboring elements M using following simplified algorithm G Y j n j Determine available intensity level I closest value M ls err M Miyat M err Miny Mia Bert ity Mini TY ert Morijes Mister ert Once elements matrix I assigned intensity level values map matrix area display device printer video moni tor Of course disperse error past last matrix column j last matrix row For bilevel system available intensity levels Parameters distributing error chosen satisfy following relationship Bty 8s1 36 One choice error diffusion parameters produces fairly good sults B 16 16 16 16 illustrates error distribution using parameter values Error diffusion sometimes produces ghosts picture repeating echoing certain parts picture partic ularly facial features hairlines nose outlines Ghosting column j ra row qo Y NN 7T tI 16 i6 row Fraction intensity error distributed neighboring pixel positions using error diffusion scheme Section Haiftone Patterns Dithering Techniques Chapter SS Itlumination Models Surface Rendering Methods 48 32 15 31 58 21 50 61 13 38 54 26 44 2z 35 41 11 One possible distribution scheme w 63 dividing intensity array dot diffusion classes numbered duced choosing values error diffusion parameters sum value less rescaling matrix values dispersion errors One way rescale multiply elements M add Another method improving picture quality alternate scanning matrix rows right left left right A variation error diffusion method dot diffusion In method n array intensity values divided classes numbered shown The error matrix value displayed intensity distributed neighboring matrix elements larger class number Distribution class numbers based minimiz ing number elements completely surrounded elements lower class number since would tend direct errors surrounding elements one position In section consider application illumination model ren dering standard graphics objects formed polygon surfaces The ob jects usually polygon mesh approximations curved surface objects may also polyhedra curved surface approximations Scan line algorithms typically apply lighting model obtain polygon surface ren dering one two ways Each polygon rendered witha single intensity intensity obtained point surface using interpola tion scheme Constant Intensity Shading A fast simple method rendering object polygon surfaces con stant intensity shading also called flat shading In method single inten sity calculated polygon All points surface polygon displayed intensity value Constant shading useful quickly displaying general appearance curved surface In general flat shading polygon facets provides accurate rendering object following assumptions valid The object polyhedron 1s approximation object curved surface Section Polygon Rendering Methods The normal vector vertex V calculated average surface normais polygon sharing vertex All light sources illuminating object sufficiently far surface N L attenuation function constarit surface The viewing position sufficiently far surface V R con stant surface Even conditions true still reasonably approximate surface lighting effects using small polygon facets flat shading calculate intensity facet say center polygon Gouraud Shading This intensity interpolation scheme developed Gouraud generally ferred Gouraud shading renders polygon surface linearly interpolat ing intensity values across surface Intensity values polygon matched values adjacent polygons along common edges thus eliminating intensity discontinuities occur flat shading Each polygon surface rendered Gouraud shading performing following calculations Determine average unit normal vector polygon vertex Apply illumination model vertex calculate vertex intensity Linearly interpolate vertex intensities surface polygon At polygon vertex obtain normal vector averaging surface normals polygons sharing vertex illustrated Thus vertex position V obtain unit vertex normal calculation Ny k l Ny Ne k Once vertex normals determine intensity vertices lighting model demonstrates next step interpolating intensities along polygon edges For scan line intensity intersection scan line polygon edge linearly interpolated intensities edge end points For example polygon edge endpoint vertices positions intersected scan line point A fast method ob taining intensity point interpolate intensities I I using vertical displacement scan line 37 For Gouraud shading intensity point linearly interpolated intensities vertices The intensity point linearly interpolated intensities vertices An interior point p assigned intensity value linearly interpolated x intensities positions scan line B41 A 38 Yi Ye mH Similarly intensity right intersection scan line point interpo lated intensity values vertices Once bounding intensities established scan line interior point point p interpolated bounding intensities points _ ne ey 39 xX Xe X5 X4q Incremental calculations used obtain successive edge intensity values scan lines obtain successive intensities along scan line As shown intensity edge position x interpolated po PO BOY 40 yi Ya Y2 obtain intensity along edge next scan line I r honk 41 Ye scan lines x ox4 Incremental interpolation intensity values along polygon edge successive scan lines A polygon mesh approximation object rendered flat shading b Gouraud shading c Similar calculations used obtain intensities successive horizontal pixel positions along scan line When surfaces rendered color intensity color com ponent calculated vertices Gouraud shading combined hidden surface algorithm fill visible polygons along scan line An example object shaded Gouraud method appears Gouraud shading remeves intensity discontinuities associated constant shading model deficiencies Highlights surface sometimes displayed anomalous shapes linear intensity interpolation cause bright dark intensity streaks called Mach bands ap pear surface These effects reduced dividing surface greater number polygon faces using methods Phong shad ing require calculations Phong Shading A accurate method rendering polygon surface interpolate normal vectors apply illumination model surface point This method developed Phong Bui Tuong called Phong shading normal vector interpolation shading It displays realistic highlights surface greatly reduces Mach band effect A polygon surface rendered using Phong shading carrying fol lowing steps e Determine average unit normal vector polygon vertex Linearly imterpolate vertex normals surface polygon Apply illumination model along scan line calculate projected pixel intensities surface points Interpolation surface normals along polygon edge two vertices illustrated The normal vector N scan line intersection point along edge vertices obtained vertically inter polating edge endpoint normals Chapter Mumination Models Surface Rendering Methods N N scan line Interpolation surface normals N along polygon edge n 4y BON 42 Mi Y2 Incremental methods used evaluate normals scan lines along individual scan line At pixel position along scan line illumina tion model applied determine surface intensity point Intensity calculations using approximated normal vector point along scan line produce accurate results direct interpolation intensities Gouraud shading The trade however Phong shading requires considerably calculations Fast Phong Shading Surface rendering Phong shading speeded using approxima tions illumination model calculations normal vectors Fast Phong shad ing approximates intensity calculations using Taylor series expansion triangular surface patches Since Phong shading interpolates normal vectors vertex normals express surface normal N point x triangle N Ax By C 43 vectors A B C determined frum three vertex equations N Ax By C k 44 x denoting vertex position Omitting reflectivity attenuation parameters write cal culation light source diffuse reflection surface point x L N Tau TNT _ L Ax By IL Ax By Cl 45 _ Lt Aix L By tL IL Ay By C We rewrite expression form ax c dx exy fy gx thy 46 Laut parameters b c used represent various dot products For example L A 47 I Finally express denominator Eq 46 Taylor series expansion retain terms second degree x This yields dag Tyx Taxy T3y Trav Ty To 48 function parameters b c forth Using forward differences evaluate Eq 48 two addi tions pixel position x initial forward difference parameters evaluated Although fast Phong shading reduces Phong shading calculations still takes approximately twice long render surface fast Phong shading Gouraud shading Normal Phong shading using forward differences takes six seven times longer Gouraud shading Fast Phong shading diffuse reflection extended include specu lar reflections Calculations similar diffuse reflections used evaluate specular terms N H basic illumination model In ad dition generalize algorithm include polygons triangles finite viewing positions In Section 15 introduced notion ray casting ray sent pixel position locate surface intersections object modeling using constructive solid geometry methods We also discussed use ray casting method determining visible surfaces scene Section 10 Ray tracing extension basic idea Instead merely looking visible surface pixel continue bounce ray around scene illustrated collecting intensity contributions This provides simple power ful rendering technique obtaining global reflection transmission effects The basic ray tracing algorithm also provides visible surface detection shadow effects transparency multiple light source illumination Many ex tensions basic algorithm developed produce photorealistic displays Ray traced displays highly realistic particularly shiny ob jects require considerable computation time generate An example global reflection transmission effects possible ray tracing shown Section Ray Tracing Methods Chapter Illumination Models Surface Rendering Methods pixel positions projection projection plane reference point Tracing ray projection reference point pixel position multiple reflections transmissions Basic Ray Tracing Algorithm We first set coordinate system pixel positions designated xy plane The scene description given reference frame From center projection determine ray path passes center screen pixel position Illumination effects accumulated along ray path assigned pixel This rendering approach based prin ciples geometric optics Light rays surfaces scene emanate directions pass pixel positions projection plane Since infinite number ray paths determine contributions particular pixel tracing light path backward pixel scene We first consider basic ray tracing algorithm one ray per pixel equivalent viewing scene pinhole camera gee sah _ A ray traced scene showing global reflection transmission illumination effects object Pe oN AG surfaces Courtesy Evans ar Sutheriand _ pixel screen area ae centered viewing coordinate origin nn ee projection reference point Ray tracing coordinate reference frame For pixel ray test surface scene determine tersected ray If surface intersected calculate distance pixel tu surtace intersection point The smallest calculated intersection dis tance identifies visible surface pixel We reflect ray visible surface along specular path angle refiection equals angle inci dence If surface ts transparent also send ray surface refraction direction Reflection refraction rays referred secondary rus This procedure repeated secondary ray Objects tested tersection nearest surface along secondary ray path used recur sively produce next generation reflection refraction paths As rays pixel ricochet scene successively intersected surface added toa binary ray tracing tree shown We use left branches tree represent reflection paths right branches represent transmission paths Maximum depth ray tracing trees set user option determined amount storage available A path tree terminated reaches preset maximum ray strikes light source The intensity assigned pixel determined accumulating tensity contributions starting bottom terminal nodes ray tracing tree Surface intensity node tree attenuated distance parent surface next node tree added intensity parent surface Pixel intensity sum attenuated intensities reat node ray tree If surfaces intersected pixel ray ray tracing tree emply pixel assigned intensity value back ground If pixel ray intersects nonreflecting light source pixel signed intensity source although light sources usuallv placed bevand path initial rays shows surface intersected ray unit vectors needed reflected light intensity calculations Unit vector u direc bon rav path N unit surface normal R unit reflection vector L unit vector pomting light source H unit vector halfway tween V opposite u L The path along L referred shadow ray It object intersects shadow ray surface point light Section Ray Tracing Methods INumination Models Surface Rendering Methods Projection reference point Reflection refraction ray paths scene screen pixel b Binary ray tracing tree paths shown source surface shadow respect source Ambient light surface calculated k diffuse reflection due source proportional KAN L specular reflection component proportional k H N As discussed Section specular reflection direction secondary ray path R depends surface normal incorning ray direction R u Qu N N 49 For transparent surface also need obtain intensity contributions light transmitted material We locate source con tribution tracing secondary ray along transmission direction T shown The unit transmission vector obtained vectors u N T Bu cos Ecos N 50 n r reflected light ray source incoming ray Unit vectors surface object intersected incoming ray along direction u refracted tay path incoming ray Refracted ray path T transparent material Parameters indices refraction incident material refracting material respectively Angle refraction calculated Snell law _ cos JI cos 51 Ray Surface Intersection Calculations A ray described initial position Py unit direction vector u illustrated The coordinates point P along ray distance Po computed ray equation P Pyt su 52 Initailly P set position pixel projection plane could chosen projection reference point Unit vector u initially ob Section Ray Tracing Methods illumination Models Surface Chaoter Rendering Methods Describing ray initial x position vector Py unit direction Z vector u tained position pixel ray passes projec tion reference point P P u ip Pl 53 Pou Porp At intersected surface vectors Py u updated secondary rays ray surface intersection point For secondary rays reflection direction u R transmission direction T To locate surface intersections simultaneously solve ray equation surface equation individ ual objects scene The simplest objects lo ray trace spheres If sphere radius r center position P point P surface must satisfy sphere equation Ip P r2 54 Substituting ray equation 52 P su P r 55 If let AP P Py expand dot product obtain quadratic equa tion A ray intersecting sphere radius r centered position P Section Ray Tracing Methads A sphereflake rendered ray tracing using spheres light sources Courtesy Eric Haines SD EYE Inc u AP AP r2 56 whose solution u AP V u APY AP 57 If discriminant negative ray intersect sphere Otherwise surface intersection coordinates obtained ray equation 52 using smaller two values Eq 57 For small spheres far initial ray position Eq 57 sus ceptible roundoff errors That ri aP could lose r term precision error AP We avoid cases rearranging calculation distance u AP V7 AP u AP ul 58 shows snowflake pattern shiny spheres rendered ray trac ing display global surface reflections Polyhedra require processing spheres locate surface intersec tions For reason often better initial intersection test bounding volume For example shows polyhedron bounded sphere If ray intersect sphere need testing polyhedron But ray intersect sphere first locate front faces test u N 59 N surface normal For face polyhedron satisifies equality 59 solve plane equation N P D 60 surface position P also satisfies ray equation 52 Here N A B C Chapter ilumination Models Surface Rendering Methods Polyhedron enclosed bounding sphere D fourth plane parameter Position P plane ray path N Py su D 61 And distance initial ray position plane _D N Py N u 62 This gives us position infinite plane contains polygon face position may inside polygon boundaries So need perform inside outside test Chapter determine whether ray tersected face polyhedron We perform test face satisfying inequality 59 The smallest distance inside point identifies inter sected face polyhedron If intersection positions Eq 62 side points ray intersect object Similar procedures used calculate ray surface intersection positions objects quadric spline surfaces We combine ray equation surface definition solve parameter In many cases numerical root finding methods incremental calculations used locate intersection plane intersection point La polygon Figure J4 Ray intersection plane polygon Section Ray Tracing Methods A ray traced scene showing global reflection surface texture patterns Courtesy Sun Microsystems points surface shows ray traced scene containing multiple objects texture patterns Reducing Object Intersection Calculations Ray surface intersection calculations account much percent processing time ray tracer For scene many objects pro cessing time ray spent checking objects visible along ray path Therefore several methods developed reducing pro cessing time spent intersection calculations One method reducing intersection calculations enclose groups adjacent objects within bounding volume sphere box Fig We test ray intersections bounding volume If ray intersect bounding object eliminate intersection tests enclosed surfaces This approach extended include hierarchy bounding volumes That enclose several bounding volumes within larger volume carry intersection tests hierarchically First test outer bounding volume necessary test smaller inner bounding volumes Space Subdivision Methods Another way reduce intersection calculations use space subdivision meth ods We enclose scene within cube successively subdivide cube subregion cell contains preset maximum num ber surfaces For example could require cell contain one surface If parallel arid vector processing capabilities available maximum number surfaces per cell determined size vector _ bounding sphere A group objects enclosed within bounding sphere Chapter Ilurnination Models Surace Rendering Methods Ray intersection cube enclosing objects scene registers number processors Space subdivision cube stored octree binary partition tree In addition perform uniform subdivision dividing cube eight equal size octants step perform adaptive subdivision subdivide regions cube containing objects We trace rays individual cells cube performing tersection tests within cells containing surfaces The first object surface intersected ray visible surface ray There trade cell size number surfaces per cell If set maximum number surfaces per cell low cell size become small much sav ings reduced intersection tests goes cell traversal processing illustrates intersection pixel ray front face cube enclosing scene Once calculate intersection paint front face cube determine initial cell intersection checking inter section coordinates cell boundary positions We need process ray cells determining entry exit points cell traversed ray intersect object surface exit cube enclosing scene Given ray direction u ray entry position P cell potential exit faces uN 63 If normal vectors cell faces aligned coordi nates axes N Ray traversal subregion cell cube enclosing scene need check sign component u determine three candidate exit planes The exit position candidate plane obtained ray equation Pours Pin 64 distance along ray P Pau Substituting ray equa tion plane equation cell face Ni Pots D 65 solve ray distance candidate exit face D N P Nou 66 select smallest This calculation simplified norma vec tors N aligned coordinate axes For example candidate normal vector plane XX X 67 u u uy u x value right boundary face cell Various modifications made cell traversal procedures speed processing One possibility take trial exit plane k one perpen dicular direction largest component u The sector trial plane Tig 64 containing P determines true exit plane If intersec tion point P u sector trial plane true exit plane done If intersection point sector true exit plane top plane simply need calculate exit point top boundary cell Simi larly sector identifies bottom plane true exit plane sectors identify true exit plane left right cell planes respectively When trial exit point falls sector need carry two additional intersection calculations identify true exit plane Implementation methods parallel vector machines provides improvements perfor mance The scene ray traced using space subdivision methods Without space subdivision ray tracing calculations took times longer Eliminating polygons also speeded processing For scene containing spheres polygbns algorithm executed times faster basic ray tracer illustrates another ray traced scene using spatial subdivision parallel processing methods This image Rodin Thinker ray traced million rays seconds The scene shown rendered light buffer technique form spatial partitioning Here cube centered point light source side cube partitioned grid squares A sorted list ob jects visible light square maintained ray tracer speed processing shadow rays To determine surface illumina tion effects square shadow ray computed shadow ray processed list objects square Section Ray Tracing Methods Sectors trial exit plane Chapter Rendering Methods Intersection testa ray tracing programs also reduced direc Nlumination Models Surface tional subdivision procedures considering sectors contain bundle rays Within sector sort surfaces depth order Each ray needs test objects within sector contains ray Antialiased Ray Tracing Two basic techniques antialiasing ray tracing algorithms supersampling adaptive sampling Sampling ray tracing extension sampling methods discussed Chapter In supersampling adaptive sampling A parallel ray traced scene containing spheres polygon surfaces The ray tracing algorithm used rays per pixel tree depth Spatial subdivision methods processed scene times faster basic ray tracing algorithm Alliant FX Courtesy Lee Hian Quek information Technology Institute Republic Singapore _ aimed se SD ers Lineal ail Mil aie Leni nan aca This ray traced scene took seconds render Kendall Square Research KSR1 parallel computer processors Rodin Thinker modeled primitives Two light sources one primary ray per pixel used obtain global illumination effects 675 rays processed Courtesy M Keates R J Hubbold Department Computer Science University Manchester tb A room scene illuminated light sources rendered using ray tracing light buffer technique process shadow rays A closeup b part room shown illustrates global illumination effects The room modeled polygons spheres cylinders quadrics Rendering time minutes VAX 780 compared minutes without using light buffers Courtesy Eric Haines Donald P Greenberg Program Computer Graphics Cornell University Sector fora Bundle Rays Directional subdivision space All rays sector need test surfaces within sector depth order pixel treated finite square area instead single point Supersampling uses multiple evenly spaced rays samples pixel area Adaptive sam pling uses unevenly spaced rays regions pixel area For example rays used near object edges obtain better estimate pixel tensities Another method sampling randomly distribute rays pixel area We discuss approach next section When multiple rays Rendering Methods Subdividing pixel nine subpixels one ray subpixel corner Ray positions centered subpixel areas Pixel Pasitions Projection Plane Projection Reference Point Supersampling four rays per pixel one pixel comer per pixel used intensities pixel rays averaged produce overall pixel intensity illustrates simple supersampling procedure Here one ray generated corner pixel If intensities four rays approximately equal small object lies four rays divide pixel area subpixels repeat process As example pixel divided nine subpixels using rays one sub pixel corner Adaptive sampling used subdivide subpixels nearly equal intensity rays subtend small object This subdivision process continued subpixel approximately equal intensity rays upper bound say reached num ber rays per pixel The cover picture book rendered adaptive subdivision ray tracing using Rayshade version Macintosh II An extended light source used provide realistic soft shadows Nearly million primary rays generated million shadow rays million reflection rays Wood grain marble surface patterns generated using solid texturing methods noise function Total rendering time extended light source hours Each image stereo pair shown generated hours using point light source Instead passing rays pixel corners generate rays subpixel centers With approach weight rays ac cording one sampling schemes discussed Chapter Another method antialiasing displayed scenes treat pixel ray cone shown Only one ray generated per pixel ray finite cross section To determine percent pixel area coverage objects calculate intersection pixel cone object surface For sphere requires finding intersection two circles For polyhedron must find intersection circle polygon Distributed Ray Tracing This stochastic sampling method randomly distributes rays according various parameters illumination model Mlumination parameters Projection Reference Point A pixel ray cone clude pixel area reflection refraction directions camera lens area time Aliasing effects thus replaced low level noise improves picture quality allows accurate modeling surface gloss translucency fi nite camera apertures finite light sources motion blur displays moving objects Distributed ray tracing also referred distribution ray tracing essen tially provides Monte Carlo evaluation multiple integrals occur accurate description surface lighting Pixel sampling accomplished randomly distributing number rays pixel surface Choosing ray positions completely random however result rays clustering together small region pixel area leaving parts pixel unsampled A better approximation light distribution pixel area obtained using technique called jittering regular subpixel grid This usually done initially dividing pixel area unit square subareas shown generating random jitter position subarea The random ray positions obtained jittering center coordinates subarea small amounts assigned values interval We choose ray po sition cell center coordinates x jitter position x Integer codes randomly assigned rays table lookup used obtain values parameters reflection angle time etc explained following discussion Each subpixel ray processed scene determine intensity contribution ray The ray intensities averaged produce overall pixel inten sity If subpixel intensities vary much pixel subdivided To model camera lens effects set lens assigned focal length f front projection plane distribute subpixel rays lens area As suming rays per pixel subdivide lens area zones Each ray sent zone corresponding assigned code The ray po sition within zone set jittered position zone center Then ray projected scene jittered zone position focal point lens We locate focal point ray distance f lens along line center subpixel lens center shown Objects near focal plane projected sharp images Objects front back focal plane blurred To obtain better displays focus objects increase number subpixel rays Ray reflections surface intersection points distributed spec ular reflection direction R according assigned ray codes The Section Ray Tracing Methods Pixel sampling using subpixel areas jittered ray position center coordinates subarea incoming N ray Distributing subpixel rays reflection direction R transmission direction T Distributing subpixel rays Direction camera lens focal length f maximum spread R divided angular zones ray flected jittered position zone center corresponding integer code We use Phong model cos determine maximum reflection spread If material transparent refracted rays distributed transmission direction T similar manner Extended light sources handled distributing number shadow rays area light source demonstrated The light source divided zones shadow rays assigned jitter directions various zones Additionally zones weighted according intensity light source within zone size projected zone area onto object surface More shadow rays sent zones higher weights If shadow rays blocked opaque objects surface light source penumbra generated surface point illus trates regions umbra penumbra surface partially shielded light source We create motion blur distributing rays time A total frame time frame time subdivisions determined according motion dynam ics required scene Time intervals labeled integer codes ray assigned jittered time within interval corresponding ray code Objects moved positions time ray traced ub Cee Extended N EOE Light L max Source Distributing shadow rays finite sized light source Earth Penumbra Umbra penumbra regions created solar eclipse surface earth Section Ray Tracing Methods A scene entitled rendered distributed ray tracing illustrating motion blur penumbra effects Courtesy Pixar Pixar All rights reserved scene Additional rays used highly blurred objects To reduce calculations use bounding boxes spheres initial ray intersection tests That move bounding object according motion requirements test intersection If ray intersect bounding object need process individual surfaces within bourding volume Figure 78 shows scene displayed motion blur This image rendered using distributed ray tracing pixels rays per pixel In addition motion blurred reflections shadows displayed penumbra areas resulting extended light sources around room illumi nating pool table Additional examples objects rendered distributed ray tracing meth ods given Figs 79 80 illustrates focusing refrac tion antialiasing effects distributed ray tracing A brushed aluminum wheel showing reflectance shadow effects generated distributed ray tracing techniques Courtesy Stephen H Westin Program Computer Graphics Cornell University A room scene rendered distributed ray tracing methods Courtesy Jokn Snyder Jed Lengyel Devendra Kalra Al Barr Computer Graphics Lab California Institute Technology Copyright Caltech Ascene showing focusing antialiasing illumination effects possible combination ray tracing radiosity methods Realistic physical models light illumination used generate refraction effects including caustic shadow glass Courtesy Peter Shirley Department Computer Science Indiana University We accurately mode diffuse reflections surface considering ra diant energy transfers surfaces subject conservation energy laws This method describing diffuse reflections generally referred ra diosity model Basic Radiosity Model In method need consider radiant energy interactions surfaces scene We determining differential amount radiant energy dB leaving surface point scene summing energy con tributions surfaces obtain amount energy transfer sur faces With reference dB visible radiant energy emanating surface point direction given angles within differential solid angle dw per unit time per unit surface area Thus dB units joules sec ond meter watts meter Intensity luminance diffuse radiation direction ra diant energy per unit time per unit projected area per unit solid angle units watts meter steradians dB _ dw cos 68 Visible radiant energy emitted surface point direction within solid angle dw Direction Energy Transfer unit surface element projected area perpendicular direction energy transfer equal tocos Assuming surface ideal diffuse reflector set intensity I con stant viewing directions Thus dB dw proportional projected sur face area To obtain total rate energy radiation surface point need sum radiation directions That want tal energy emanating hemisphere centered surface point B 48 69 For perfect diffuse reflector constant express radiant energy B B cos deo 70 Also differential element solid angle dw expressed Appendix A dw sinpdd Total radiant energy surface point sum contributions directions hemisphere centered surface point Section Radiosity Lighting Model Chapter illumination Models Surface Rendering Methods Surface k An enclosure surfaces radiosity model 2a WZ B cosdsinddgde 71 In A model light reflections various surfaces formed set ting enclosure surfaces Each surface enclosure ei ther reflector emitter light source combination reflector emitter We designate radiosity parameter B total rate energy leaving surface k per unit area Incident energy parameter H sum energy contributions surfaces enclosure arriving surface k per unit time per unit area That Hy BF 72 parameter Fj form factor surfaces j k Form factor F fractional amount radiant energy surface j reaches surface k For scene n surfaces enclosure radiant energy surface kis described radiosity equation B Ey ply n 73 E BF jel If surface k light source F Otherwise E rate energy emitted surface k per unit area watts meter Parameter p reflectivity factor surface k percent incident light reflected directions This flectivity factor related diffuse reflection coefficient used empirical il lumination models Plane convex surfaces see self incidence takes place form factor F surfaces To obtain illumination effects various surfaces enclosure need solve simultaneous radiosity equations n surfaces given array values F p Fi That must solve pF eBe BF Ee k 23 74 jtk pFy prFi2 AF B E TPif pe mn PY Be PLD Be 95 Pin PF Fae B E We convert intensity values I dividing radiosity values B For color scenes calculate individual RGB components radios ity Bz Big Byp color components p E Before solve Eq 74 need determine values form factors F We considering energy transfer surface j surface k The rate radiant energy falling small surface element dA area element dA 4B dA U cosd dwidA 76 But solid angle dw written terms projection area element dA perpendicular direction dB _ 4A _ cosddA dw r 77 Surface k Surface j Rate energy transfer dB surface element area dA surface element dA Section Radiosity Lighting Model Chapter IHumination Models Surface Rendering Methods express Eq 76 dB dA I cos cos dy dA dA mu r2 78 The form factor two surfaces percent energy emanating area dA incident dA _ energy incident dA E Ar44 total energy leaving dA 79 I cos dj COs aA dA B dA Also B mi r cos cos dy dA dA day 80 The fraction emitted energy area dA incident entire surface k cos cos dy Faa dA aay Ay Wc ar 81 A area surface k We define form factor two surfaces area average previous expression cos cos Fs b COSHr A dA A suet J sur 82 Integrals 82 evaluated using numerical integration techniques stipu lating following conditions Sp Fx k conservation energy AF Afi uniform light reflection F j assuming plane convex surface patches Each surface scene subdivided many small polygons smaller polygon areas realistic display appears We speed calculation form factors using hemicube approximate hemisphere This replaces spherical surface set linear plane surfaces Once form factors evaluated solve simultaneous lin ear equations 74 using say Gaussian elimination LU decomposition meth ods Appendix A Alternatively start approximate values B solve set linear equations iteratively using Gauss Seidel method At iteration calculate estimate radiosity surface patch k using previously obtained radiosity values radiosity equation n B Ey p BiFn yl We display scene step improved surface rendering viewed iteration little change calculated radiosity val ues Progressive Refinement Radiosity Method Although radiosity method produces highly realistic surface rendings tremendous storage requirements considerable processing time needed calculate form factors Using progressive refinement restruc ture iterative radiosity algorithm speed calculations reduce storage requirements iteration From radiosity equation radiosity contribution two surface patches calculated B due B pp BF 83 Reciprocally B due By pBiFy j 84 rewrite B due B Bagh 85 This relationship basis progressive refinement approach ra diosity calculations Using single surface patch k calculate form fac tors F shoot light patch surfaces environment Thus need compute store one hemicube associated form factors time We discard values choose another patch next iteration At step display approximation rendering scene Initially set B E surface patches We select patch highest radiosity value brightest light emitter calcu late next approximation radiosity patches This process repeated step light sources chosen first order highest ra diant energy patches selected based amount light ceived light sources The steps simple progressive refinement ap froach given following algorithm Section Radiosity Lighting Mcdel Chapter Illumination Models Surface Rendering Methods Nave Chartres Cathedral rendered progressive refinement radiosity model John Wallace John Lin using Hewlett Packard Starbase Radiosity Ray Tracing software Radiosity form factors computed Tay tracing methods Courtesy Eric Haines 3D EYE Inc Hewlett Packard Co patch k set hemicube calculate form factors F patch drad BF A Ac 4B 4B Arad B B Srad AB At step surface patch highest value AB A selected shooting patch since radiosity measure radiant energy per unit area And choose initial values AB B E surface patches This progres sive refinement algorithm approximates actual propagation light scene Displaying rendered surfaces step produces sequence views proceeds dark scene fully illuminated one After first step surfaces illuminated light sources nonemitting patches visible chosen emitter To produce useful initial views scene set ambient light level patches illumina tion At stage iteration reduce ambient light according amount radiant energy shot scene shows scene rendered progressive refinement ra diosity model Radiosity renderings scenes various lighting conditions illustrated Figs 88 90 Ray tracing methods often combined radiosity model produce highly realistic diffuse specular surface shadings Section Radiosity Lighting Model Image constructivist museum rendered progressive refinement radiosity method Courtesy Shenchang Eric Chen Stuart Feldman Julie Dorsey Program Computer Grapitics Cornell University Cornell University Program Computer Graphics Simulation stair tower Engineering Theory Center Building Cormell University rendered progressive refinement radiosity method Courtesy Keith Howie Ben Trumbore Program Computer Graphics Cornell University Cornell University Program Computer Graphics fa b Simulation two lighting schemes Parisian garret Metropolitan Opera production La Boheme day view b night view Courtesy Julie Dorsey Mark Shepard Program Computer Graphics Cornell University Cornell University Program Computer Graphics Spherical Environment Map Oxyects meee co Scene A spherical enclosing universe ee containitg environment map ENVIRONMENT At PPING An alternate procedure tor modeling global reflections 1s define array tensity values describes environment around single object set objects Instead intercbject rav tracing radiosity calculations pick global specular dittuse illumination effects simply map environment array onto a2 obleect relationship viewing direction This procedure ferred environment mapping also called reflection mapping although transparency effects cond also modeled environment map Environ ment mapping sometimes referred pocr person ray tracing method since fast approximation accurate global illumination rendering techniques discussed previous two sections The environment map defined surface enclosing universe Information environment map includes intensity values light sources sky backy ound objects shows enclosing universe sphere cube cylinder often used enclosing universe To render surtace object project pixel areas onto surface reflect projected pixel area onto environment map pick surface shading attributes pixel If object cransparent also refract projected pial area environment map The environment map ping process reflection projected pixel area illustrated Pixel intensity determined averaging intensity values within inter sected region environment map oN p Surface Pixel Projection onto Enviranment Map _ Figure 92 Projecung pixel area surface Picection reflecting area Refers ce Point environtient map So far discussed rendering techniques displaying smooth surfaces typically polygons splines However objects smooth even surfaces We need surface texture model accurately objects brick walls gravel roads shag carpets In addition surfaces contain patterns must taken account rendering procedures The surface vase could contain painted design water glass might family crest en graved surface tennis court contains markings alleys service areas base line four lane highway dividing lines mark ings oil spills tire skids illustrates objects displayed various surface detail Modeling Surface Detail Polygons A simple method adding surface detail model structure patterns polygon facets For large scale detail polygon modeling give good sults Some examples large scale detail squares checkerboard di viding lines highway tile patterns linoleum floor floral designs smooth low pile rug panels door lettering side panel truck Also could model irregular surface small randomly oriented poly gon facets provided facets small Scenes illustrating computer graphics generation surface detail Deborah R Fi Premyslaw Prusinkiewicz Johannes Battjes b Deborah R Fowler Hans Metnhardt Przemysiaw Prusinkiewicz University Calgary c Courtesy SOFTIMAGE Inc Section Adding Surface Detail Chapter Niumination Models aud Surface Rendering Methods Texture Object Image Space Space Space Array u v Surface ix Pixel Coordinates Parameters Coordinates Texture Surface Viewing Transformation Projection Transformation Coordinate reference systems texture space object space image space Surface pattern polygons generally overlaid larger surface polygon processed parent surface Only parent polygon processed visible surface algorithms illumination parameters surface detail polygons take precedence parent polygon When intricate fine surface detail modeled polygan methods noi practical For example would difficult accurately model surface structure raisin polygon facets Texture Mapping A common method adding surface detail map texture patterns onto surfaces objects The texture pattern may either defined rectangular array procedure modifies surface intensity values This approach referred texture mapping pattern mapping Usually texture pattern defined rectangular grid intensity values texture space referenced coordinate values shown Fig 94 Surface positions scene referenced wv object space coordi nates pixel positions projection plane referenced xy Cartesian coordinates Texture mapping accomplished one two ways Either map texture pattern object surfaces projection plane map pixel arcas onto object surfaces texture space Mapping texture pattern pixel coordinates sometimes called texture scanning map ping pixel coordinates texture space referred pixel order scanning Or inverse scanning imuiye order scanning To simplify calculations mapping texture space object space often specified parametric linear functions w fist bt e 48a v fGt bf c The object image space mapping accomplished concatenation viewing projection transformations A disadvantage mapping texture space pixel space thal selected texture patch usually match pixel boundaries thus requiring calculation fractional area pixel coverage Therefore mapping pixel space texture space Fig 95 commonly used texture mapping method This avoids pixel subdivision calculations allows antialiasing filtering procedures eas Projected Pixel Area ww Thee ae Phat oe Pixel Surface Area Rectangular Pattern Array Texture mapping projecting pixel areas texture space Extended Pixel Area Extended area pixel includes centers adjacent pixels ily applied An effective antialiasing procedure project slightly larger pixel area includes centers neighboring pixels shown applying pyramid function weight intensity values texture pattern But mapping image space texture space require calculation inverse viewing projection transformation Mj inverse texture map transformation M7 In following example illustrate approach mapping defined pattern onto cylindrical surface Example Texture Mapping To illustrate steps texture mapping consider transfer pattern shown cylindrical surface The surface parameters Chapter lucunation Madels Surface Render ng Methods z NS os NO uv ao x e c Of O75 fa b Mapping texture pattern defined unit square cylindrical surface b And parametric representation surface Cartesian reference frame FrcOsh Y rsini te We map arrav pattern surface following linear transforma tion maps pattern origin lower left corner surface u s7 v Next select viewing position perform inverse viewing transforma tion pixel coordinates Cartesian reference cylindrical surface Cartesian coordinates mapped surface parameters trans formation w tan Gy x v z projected pixel positians mapped texture space inverse trans formation 2u il Intensity values pattern array covered projected pixel area averaged obtain pixel intersity Procedural Texturing Methods Another method adding surface texture use procedural definitions color variations applied objects scene This approach avoids transfarmation calculations invelved transferring two dimensional texture patterns object surfaces When values assigned throughout region three dimensional space object color variatiors referred salid textures Values fexture A scene surface characteristics generated using solid texture methods Courtesy Peter Shirley Computer Science Department Indiana University space transferred object surfaces using procedural methods since usu ally impossible store texture values points throughout region space Other procedural methods used set texture values two dimen sional surfaces Solid texturing allows cross sectional views three dimensional abjects bricks rendered texturing outside sur faces As examples procedural texturing wood grains marble patterns created using harmonic functions sine curves defined three dimensional space Random variations wood marble texturing attained su perimposing noise function harmonic variations shows scene displayed using solid textures obtain wood grain surface pat terns The scene rendered using procedural descriptions terials stone masonry polished gold banana leaves A scene rendered VG Shaders modeled RenderMan using polygonal facets gem faces quadric surfaces bicubic patches In addition surface texturing procedural methods used create steamy jungle atmosphere forest canopy dappled lighting effect Courtesy VALIS Group Reprinted Graphics Gems Il edited David Kirk Copyright Academic Press Inc Section Adding Surface Detail Chapter Nlumination Models Surface Rendering Methods Bump Mapping Although texture mapping used add fine surface detail good method modeling surface roughness appears objects anges strawberries raisins The illumination detail texture pattern usually correspond illumination direction scene A better method creating surface bumpiness apply perturbation function surface normal use perturbed normal illumination model cal culations This techniques called bump mapping If P u v represents position parametric surface obtain surface normal point calculation N P x P 87 P P partial derivatives P respect parameters u v To obtain perturbed normal modify surface position vector adding small perturbation function called bump function P u v Plu v b u v n 88 This adds bumps surface direction unit surface normal n N Nj The perturbed surface normal obtained N PxXP 89 We calculate partial derivative respect w perturbed position vector P Le bn 90 P bn bn Assuming bump function small neglect last term write P P bn 91 Similarly P P n 92 And perturbed surface normal N P xP bP X n b n x P b n X n But n X n 50 N N P Xn b n x PL 93 The final step normalize N use iJlumination model calculations Surface roughness characteristics rendered bump mapping Courtesy Peter Shirley Computer Science Department Indiana University b SOFTIMAGE Inc The stained glass knight motion picture Young Sherlock Holmes A combination bump mapping environment mapping texture mapping used render armor surface Courtesy Industrial Light Magic Copyright Paramount Pictures Amblin There several ways specify bump function b u v We actually define analytic expression bump values usually ob tained table lookups With bump table values b obtained quickly linear interpolation incremental calculations Partial derivatives b b approximated finite differences The bump table set random patterns regular grid patterns character shapes Random pat terns useful modeling irregular surfaces raisin repeat ing pattern could used model surface orange example To tialiase subdivide pixel areas average computed subpixel intensities shows examples surfaces rendered bump mapping An example combined surface rendering methods given The armor stained glass knight film Yourg Sherlock Holmes rendered combination bump mapping environment mapping texture map ping An environment map surroundings combined bump map produce background illumination reflections surface roughness Then ad ditional color surface illumination bumps spots dirt ard stains seams rivets added produce overall effect shown Frame Mapping This technique extension bump mapping In frame mapping perturb surface normal N local coordinate system attached Section Adding Surface Detail Chapter Nluminatian Models Surtat e Rendering Methods Figure H 1o2 A local coordinate system surface point N The local coordinates defined surface tangent vector T binor mal veclor B TN Frame mapping used model anisotropic surfaces We onent T along grain surtace apply directional perturbations addition bump perturbations ir che direction N In way model wood grain patterns cross thread patterns cloth streaks marble similar materi als Both bump directional perturbations obtained table lookups SUMMARY In general object 1s illuminated radiant energy light emitting soutces reflective surfaces objects scene Light sources modeled es point sources distributed extended sources Ob jects either opaque transparent And lighting effects described terms diffuse specular components reflections refractions An empirical puint light source iumination model used de scribe diffuse reflections Lambert cosine law describe specular flections Mhony model General background ambient lighting modeled tixed intensity level coefficient ot reflection sur face In basic model approximate transparency effects combining surface intensities using transparency coefficient Accurate geometric modeling light paths transparent materials obtained calculating refraction angles using Snell law Color incorporated mode assigning triple RGB values te intensities surface reflection coefficients We also extend basic model incorporate distributed light sources studio lighting effects intensity attenuation Intensity values calculated illumination model must mapped intensity levels available display system use A loganthmic intensity scale used provide set intensity Ievels equal perceived brightness In addition gamma correction applied intensity values correct nonlinearity diaplay devices With bilevel monitors use halftone pat terns dithering techniques simulate range intensity values Halftone approximations also used increase number ef intensity options systems capable displaying two irtensities per pixel Or dered dither error diffision dot diffusion methods used simulate range intensities number points plotted scene equal number pixels display device Surface rendering accomplished applying basic illumination model objects scence We apply illumination model using either con stant intensity shading Gouraud shading Phong shading Constant shading accurate polyhedrons curved surface polygon meshes References viewing light source positions far objects scene Gouraud shading approximates light reflections curved surfaces calculating inten sity values polygon vertices interpolating intensity values across polygon facets A accurate slower surface rendering procedure Phong shading interpolates average narmal vectors polygon ver tices polygon facets Then surface intensities calculated using terpolated normal vectors Fast Phong shading used speed calcu lations using Taylor series approximations Ray tracing provides accurate n ethod obtaining global specular flection transmission effects Pixel rays traced scene bouncing object object accumulating intensity contributions A ray tracing tree constructed pixel intensity values combined ter minal nodes tree back root Object intersection calculations ray tracing reduced space subdivision methods test ray object tersections within subregions total space Distributed distribution ray tracing traces multiple rays per pixel distributes rays randomly various ray parameters direction time This provides accurate method modeling surface gloss translucency finite camera apertures dis tributed light sources shadow effects motion blur Radiosity methods provide accurate modeling diffuse reflection effects calculating radiant energy transfer various surface patches scene Progressive refinement used speed radiosity calculations considering energy transfer one surface patch time Highly photorealis tic scenes generated using combination ray tracing radiosity A fast method approximating global illumination effects environment mapping An environment array used store background intensity informa tion scene This array mapped objects scene based specified viewing direction Surface detail added objects using polygon facets texture map ping bump mapping frame mapping Small polygon facets overlaid larger surfaces provide various kinds designs Alternatively texture pat terns defined two dimensional array mapped object surfaces Bump mapping means modeling surface irregularities applying bump function perturb surface normals Frame mapping extension bump mapping allows horizontal surface variations well vertical variations REFERENCES A general discussion energy propagation transfer equations rendering processes perception light color given Glassner Algorithms various surface rendering techniques presented Glassner Arvo Kirk For discussion ordered dither error diffusion dot diffusion see Knuth Additional information ray tracing methods tound Quek Hearn Glassner Shirley Koh Hearn Radiosity methods dis cussed Goral et al Cohen Greenberg Cohen et al Wallace Elmquist Haines Chen et al Dorsey Sillion Greenberg He et al Sillion et al Schoeneman et al Lischinski Tampieri Greenberg Chapter t4 Murination Models Surface Rendering Methods EXERCISES 10 11 12 13 14 15 16 17 18 19 20 Write routine imelement Eq basic illumination mode using single point light source constant surface shading faces specified polyhe dron The object description given set polygon tables including sur face normals polygon faces Additional input parameters include ambient intensity light source intensity sudace reflection coefficients All coordinate information specified directly viewrng reference frame Modify routine n Exercise render polygon surface mesh using Gouraud shading Modify routine Exercise render polygon surface mesh using Phong shading Write routine implement Eq basic illumination model using single point light source Gouraud surface shading tales specified polygon mesh The object des ription given set polygon tables including sur face normals polygon faces Additional input includes values ambient intensity light source intensity surface reflection cvefficients spec ular reflection parameter All coordinate information specified directly viewing reference frame Modify routine xercise render polygon surfaces using Phong shad ing Modify routine Exercise include linear intensity attenuation func tion Modify routine Exercise render pulygon surfaces using Phong shad ing linear intens ty attenuation function Modify routine ixercise impiement Eq 13 specified num ber polyhedrans light sources scene Modify routine xercise implement Eq 14 specified num ber polyhedrons light sources scene Modify routine Exercise implement Fq 15 specified num ber polyhedrons light sources iy scene Modify routine Exercise implernent Eqs 15 aid 19 specified number ight sources polyhedrons e ther opaque transparent scene Discuss differenies might expect lo see appearance specula retlec tions modeled N H compared specular reflections modeled V Rr Verify 2a din Fip 18 vectors coplanar general 2a Discuss diterent visible surface detection hous cambined intensity model displaying set pelyhedrons opaque sucaces Discuss var ous visinle suface detection Mmetyods mod tied ta process transparent ofyects Are ary visible surtace detection methods tho cannut Fandle transparent surlaces Set algorithms based one ot wisibie surtace detection methods wil identify shadow areas na scene illuminated distant port source How many intensity levels displayed halftane approximations using npixel grids pixel displayed mm citterent intensities How many different Color combinattons generated sing halttone approxi ttons twa level RGB system pixel grd Write routine disp av given set surrace intensily varatians using halftone ap proximations pixel grids two intensity levels 1s per pixel Write ouline generale ordered dither matrices using recurrence relation Eq 34 21 22 23 24 25 26 27 28 29 30 31 32 33 Write procedure display given array intensity values using ordered dither method Write procedure implement error diffusion algorithm given n array intensity values Write program implement basic ray tracing algorithm scene containing single sphere hovering checkerboard ground square The scene illu minated single point light source viewing position Write program implement basic ray tracing algorithm scene containing specified arrangement spheres polygon surfaces illuminated given set point light sources Write program implement basic ray tracing algorithm using space subdivi sion methods specified arrangement spheres polygon surfaces iNumi nated given set point light sources Write program implement following features distributed ray tracing pixel sampling jittered rays per pixel distributed reflection directions distributed tefraction directions extended light sources Set algorithm modeling motion blur moving object using distrib uted ray tracing Implement basic radiosity algorithm rendering inside surfaces cube one inside face cube light source Devise algorithm implementing progressive refinement radiosity method Write routine transform environment map surface sphere Write program implement texture mapping tor spherical surfaces b polyhedrons Given spherical surface write bump mapping procedure generate bumpy surface orange Write bump mapping routine produce surface normal variations speci fied bump function Exercises CHAPTER Color Models Color Applications ob4 ur discussions color point concentrated mecha nisms generating color displays combinations red green blue light This mode helpful understanding color represented video monitor several color models useful well graphics ap plications Some models used describe color output printers plot ters models provide intuitive color parameter interface user A color model method explaining properties behavior color within particular context No single color model explain pects color make use different models help describe different perceived characteristics color PROPERTIES OF LIGHT What perceive light different colors narrow frequency band within electromagnetic spectrum A frequency bands within spectrum called radio waves microwaves infrared waves X rays shows approximate frequency ranges electromag netic bands Each frequency value within visible band corresponds distinct color At low frequency end red color X hertz highest frequency see violet color X hertz Spectral colors range reds orange yellow low frequency end greens blues violet high end z 29 z Z g e gs e x Frequency 108 1081978 thertz Electromagnetic spectrum Chapter Colo Models Color Applications Time variations one electric frequency component plane polarized electromagnetic wave Since light electromagnetic wave describe various colors terms either frequency f wavelength A wave In illustrate oscillations present monochromatic electromagnetic wave po larized electric oscillations one plane The wavelength fre quency monochromatic wave inversely proportional proportionality constant speed light c c Frequency constant materials speed light wavelength material dependent Ina vacuum c X cm sec Light wavelengths small length units designating spectral colors usually either angstroms 1A cm nanometers nm cm An equivalent term nanometer millimicron Light red end spectrum wave length approximately nanometers nm wavelength violet light end spectrum nm Since wavelength units somewhat convenient deal frequency units spectral colors typically specified terms wavelength A light source sun light bulb emits frequencies within visible range produce white light When white light incident upon ob ject frequencies reflected absorbed object The combination frequencies present reflected light determines per ceive color object If low frequencies predominant reflected light object described red In case say perceived light dominant frequency dominant wavelength red end spectrum The dominant frequency also called hue simply color light Other properties besides frequency needed describe various char acteristics light When view source light eves respond color dominant frequency two basic sensations One call brightness perceived intensity light Intensity radiant energy emitted per unit time per unit solid angle per unit projected area source Radiant energy related Juminance source The second Energy Frequency Energy distribution white light source Red Violet perceived characteristic purity saturation light Purity describes washed pure color light appears Pastels pale colors described less pure These three characteristics dominant frequency brightness purity commonly used describe different properties perceive source light The term chromaticity used refer collectively two properties describing color characteristics purity dominant fre quency Energy emitted white light source distribution visible frequencies shown Each frequency component within range red violet contributes less equally total energy color source described white When dominant frequency present energy distribution source takes form We would describe light color corresponding dominant frequency The energy density dominant light component labeled Ep figure contributions frequencies produce white light energy density Ey We calculate brightness source area curve gives total energy density emitted Purity de pends difference Ep Ey The larger energy Ep dom inant frequency compared white light component Ey pure light We purity percent Fy purity percent Ey Ep When view light formed combination two sources see resultant light characteristics determined original sources Two different color light sources suitably chosen intensities used produce range colors If two color sources combine pro Energy E Ew Red Viol Frequency ee roret Dominant Energy distribution light source Frequency dominant frequency near red end frequency range Section Properties Light Chapter Color Models Color Applications Color Matching RGB Amounts Ainm Amounts RGB primaries needed display spectral colors duce white light referred complementary colors Examples complementary color pairs red cyan green magenta blue yellow With judicious choice two starting colors form wide range colors Typically color models used describe com binations light terms dominant frequency hue use three colors obtain reasonably wide range colors called color gamut model The two three colors used produce colors color model referred primary colors No finite set real primary colors combined produce possible visible colors Nevertheless three primaries sufficient purposes colors color gamut specified set primaries still described extended methods If certain color produced combining three primaries mix one two primaries color obtain match combination remaining primaries In extended sense set primary colors considered describe colors shows amounts red green blue needed produce spectral color The curves plotted called color matching functions obtained aver aging judgments large number observers Colors vicinity nm matched subtracting amount red light combi nation blue green lights This means color around nm de scribed combining color amount red light produce blue green combination specified diagram Thus RGB color monitor display colors neighborhood S00 STANDARD PRIMARIES AND THE CHROMATIC TY DIAGRAM Since finite set color light sources combined display possible colors three standard primaries defined International Com mission Illumination referred CIE Commission Internationale de Eclairage The three standard primaries imaginary colors They defined mathematically positive color matching functions specity Color Matching CIE Amounts Amounts CIE primaries needed display spectral colors amount primary needed describe spectral color This provides international standard definition colors CIE primaries eliminate negative value color matching problems associated selecting set real primaries XYZ Color Model The set CIE primaries generally referred XYZ X Y Z color model X Y Z represent vectors three dimensional additive color space Any color C expressed C XX YY ZZ X Y Z designate amounts standard primaries needed match C In discussing color properties convenient normalize amounts Eq luminance X Y Z Normalized amounts thus calculated x Y Z yayen Yo xeyez xs ezZ x z Thus color represented x amounts Since normalized luminance parameters x called chromaticity values depend hue purity Also specify colors x values obtain amounts X Y Z Therefore complete description color typically given three values x Y The remaining CIE amounts calculated X mae z z x Using chromaticity coordinates x represent colors two dimensional diagram CIE Chromaticity Diagram When plot normalized amounts x colors visible spectrum obtain tongue shaped curve shown This curve called CIE chromaticity diagram Points along curve pure colors Section Standard Primaries Chromaticity Diagram Chapter Color Models Color Applications Spectral Colors Yellow Red CIE chromaticity diagram Spectra 2 4 06 x color positions along curve labeled wavelength units nm electromagnetic spectrum labeled according wavelength nanometers red end violet end spectrum The line joining red violet spectral points called purple line part spectrum Interior points represent possible visible color combinations Point C diagram corre sponds white light position Actually point plotted white light source known illuminant C used standard approximation average daylight Luminance values available chromaticity diagram normalization Colors different luminance chromaticity map point The chromaticity diagram useful following Comparing color gamuts different sets primaries Identifying complementary colors Determining dominant wavelength purity given color Color gamuts represented chromaticity diagram straight line segments polygons Al colors along line joining points C C Fig obtained mixing appropriate amounts colors C C If greater proportion C used resultant color closer C C The color gamut three points C3 C C triangle vertices three color positions Three primaries generate colors side bounding edges triangle Thus chromaticity diagram helps us understand set three primaries additively combined generate colors since triangle within diagram encompass colors Color gamuts video monitors hard copy devices conveniently com pared chromaticity diagram Since color gamut two points straight line complementary col ors must represented chromaticity diagram two points situated opposite sides C connected straight ine When mix proper amounts two colors C C obtain white light We also use interpretation color gamut two primaries de termine dominant wavelength color For color point C draw straight line trom C C intersect spectral curve point x x Color gamuts defined Representing complementary Determining dominant chromaticity diagram colors chromaticity wavelength purity two color three color diagram chromaticity diagram system primaries C Color C represented combination white light C spectral color C Thus dominant wavelength C C This method de termining dominant wavelength work color points Cand purple line Drawing line C point C takes us point C purple line visible spectrum Point C referred nonspectral color dominant wavelength taken compliment C lies spectral curve point C Nonspectral colors purple magenta range spectral distributions subtractive dominant wavelengths They generated subtracting spectral dominant wavelength C white light For color point C determine purity relative distance C C along straight line joining C C If denotes distance C C distance C C calculate pu rity ratio Color C figure percent pure since situated one fourth total distance C C At position C color point would percent pure An artist creates color painting mixing color pigments white blacx pigments form various shades tints tones scene Starting pigment pure color pure hue artist adds black pigment produce different shades color The black pigment darker shade Similarly different tints color obtained adding white pig ment original color making lighter white added Tones color produced adding black white pigments To many color concepts intuitive describing color set three numbers give relative proportions primary colors It generally much easier think making coler lighter adding white making color darker adding black Therefore graphics packages providing Chapter Color Models Color Applications color palettes user often employ two color models One model pro vides intuitive color interface user others describe color com ponents output devices Based tristimulus theory vision eyes perceive color stim ulation three visual pigments cones retina These visual pigments peak sensitivity wavelengths nm red nm green nm blue By comparing intensities light source perceive color light This theory vision basis displaying color output video monitor using three color primaries red green blue referred RGB color model We represent model unit cube defined R G B axes shown The origin represents black vertex coordi nates white Vertices cube axes represent primary col ors remaining vertices represent complementary color primary colors As XYZ color system RGB color scheme additive model Intensities primary colors added produce colors Each color point within bounds cube represented triple R G B values R G B assigned range Thus color C expressed RGB components C RR GG BB The magenta vertex obtained adding red blue produce triple white sum red green blue vertices Shades gray represented along main diagonal cube origin black white vertex Each point along diagonal equal contribu tion primary color gray shade halfway black Grayscale Green Yeltow ens Cyan white Black a4 J Red R oO ee Blus Magenta The RGB color model defining gs colors additive process within unit cube ial ib Two views RGB color cube along grayscale diagonal white black b along grayscale diagonal black white TABLE RGB X Y CHROMACITY COORDINATES NTSC Standard CIE Model Approx Color Monitor Values R 670 330 735 265 628 346 G 210 710 274 747 268 588 B 140 080 167 009 150 070 O 02 0 06 x RGB color gamut white represented The color graduations along front top planes RGB cube illustrated Chromaticity coordinates NTSC standard RGB phosphor listed Table Also listed RGB chromaticity coordinates CIE RGB color model approximate values used phosphors color monitors shows color gamut NTSC standard RGB rrimaries Section RGB Color Model Chapter Color Models Color Applications Whereas RGB monitor requires separate signals red green blue components image television monitor uses single composite signal The National Television System Committee NTSC color model forming com posite video signal YIQ model based concepts CIE XYZ model In YIQ color model parameter Y XYZ model Lu minance brightness information contained Y parameter chro maticity information hue purity incorporated J Q parame ters A combination red green blue intensities chosen Y parameter yield standard luminosity curve Since Y contains luminance information black white television monitors use Y signal The largest bandwidth NTSC video signal MHz assigned Y information Parameter contains orange cyan hue information provides flesh tone shading occupies bandwidth approximately MHz Para meter Q carries green magenta hue information bandwidth MHz An RGB signal converted television signal using NTSC en coder converts RGB values YIQ values modulates superim poses J Q information Y signal The conversion RGB values YIQ values accomplished transformation Y 299 587 144 R 275 G Q 212 528 311 _B This transformation based NTSC standard RGB phosphor whose chro tMaticity coordinates given preceding section The larger proportions red green assigned parameter Y indicate relative importance hues determining brightness compared blue An NTSC video signal converted RGB signal using NTSC decoder separates video signal YIQ components con verts RGB values We convert YIQ space RGB space inverse matrix transformation Eq R 000 956 620 G B 000 108 705 Q A color model defined primary colors cyan magenta yellow CMY useful describing color output hard copy devices Unlike video monitors produce color pattern combining light screen phosphors hard copy devices plotters produce color picture coating paper color pigments We see colors reflected light subtractive process As noted cyan formed adding green blue light Therefore white light reflected cyan colored ink reflected light must red component That red light absorbed subtracted ink Similarly magenta ink subtracts green component incident light yellow subtracts blue component A unit cube representation CMY model illustrated In CMY model point represents black components incident light subtracted The origin represents white light Equal amounts primary colors produce grays along main diagonal cube A combination cyan magenta ink produces blue light red green components incident light absorbed Other color combinations obtained similar subtractive process The printing process often used CMY mode generates color point collection four ink dots somewhat RGB monitor uses col lection three phosphor dots One dot used primary colors cyan magenta yellow one dot black A black dot included cause combination cyan magenta yellow inks typically produce dark gray instead black Some plotters produce different color combinations spraying ink three primary colors allowing mix dry We express conversion RGB representation CMY repre sentation matrix transformation Cc K MI Ll Y B white represented RGB system unit column vector Sim ilarly convert CMY color represeniation RGB representation matrix transformation c 1M ia black represented CMY system unit column vector Instead set color primaries HSV model uses color descriptions intuitive appeal user To give color specification user selects spectral color amounts white black added ob tain different shades tints tones Color parameters model Aue H saturation S value V Section HSV Color Model M G rayseate Magenta Blue Red Nie Black Cyan White c Yellow Green The CMY color model defining colors subtractive process inside unit cube Chapter Green Color Models Color Applications Cyan Yellow Blue Red R Magenta RGB Color Cube Color Hexagon b When RGB color cube viewed along diagonal white black color cube outline hexagon b The three dimensional representation HSV model derived RGB cube If imagine viewing cube along diagonal white vertex origin black see outline cube hexagon shape shown The boundary hexagon represents various hues used top HSV jhexcone In hexcone saturation measured along horizontal axis value along vertical axis center hexcone Hue represented angle vertical axis ranging red Vertices hexagon separated intervals Yellow green cyan opposite red H Complementary colors apart V Value Yellow Wal Cyan White V H Hue Angle Vad Biack SiSaturation The HSV hexcone v Tints Pure Hue White V Shades Black Cross section HSV hexcone showing regions shades tints tones Saturation S varies It represented madel ratio purity selected hue maximum purity S A selected hue said one quarter pure value S 25 At S gray scale Value V varies apex hexcone top The apex represents black At top hexcone colors maximum intensity When V S pure hues White point V S This intuitive model users Starting selection fora pure hue specifies hue angle H sets V describe color want terms adding either white black pure hue Adding black decreases setting V S held constant To get dark blue V could set H Similarly white added hue selected parameter S decreased keeping V constant A light blue could designated S V H By adding black white decrease V S An interface model typically presents HSV parameter choices color palette Color concepts associated terms shades tints tones repre sented cross sectional plane HSV hexcone Adding black pure hue decreases V side hexcone Thus various shades represented values V Adding white pure tone pro duces different tints across top plane hexcone parameter values V S Various tones specified adding black white producing color points within triangular cross sectional area hexcone The human eye distinguish different hues dif ferent tints saturation levels For number shades value set tings detected depending hue selected About shades dis cernible yellow colors different shades seen blue end spectrum This means distinguish x x 720 different colors For graphics applications hues saturation lev els value settings sufficient With range parameters HSV color model 384 colors would available user system would need bits color storage per pixel Color lookup tables could used duce storage requirements per pixel increase number available colors Section HSV Color Mode Chapter Color Models Color Applications If HSV color parameters made available user graphics package parameters transformed RGB settings needed color monitor To determine operations needed transformation first consider HSV hexcone derived RGB cube The diagonal cube trom black origin white corresponds V axis hexcone Also subcube RGB cube corresponds hexagonal cross sectional area hexcone At cross section sides hexagon radial lines V axis vertex value V For set RGB values V equal maximum value set The HSV point corresponding set RGB values lies hexagonal cross section value V Parameter S determined relative distance point V axis Parameter H determined calculating relative position point within sextant hexagon An algorithm mapping set RGB values corre sponding HSV values given following procedure include math h Input h v range Outputs r g bk range void hsviloRgb float h float float v float r int float aa bb cc ft float yg float b Grayscale tr se tg bey else th h h ios floor nh f h aa v 5s bb sv co v Ss switch case r v g cc b aa break case tr bb g vi b ad break case r aa g v th cc break case r aa g bb h v break case r cc g aa b v break case r v g aa b bb break We obtain transformation HSV parameters RGB parameters determining inverse equations rgbToHsv procedure These verse operations carried sextant hexcone The resulting transformation equations summarized following algorithm Kinclude math h define MIN b b define MAX b b define NO_HUE Input r g b range Outputs h v range ioe void rgbToHsyv float r float g float b floac h float float v float max MAX r MAX g b min MIN r MIN g b float delta max min yvo max max delta max else h NO_HUE else r max h g b delta else g max I th b x delta else b max h x g delta h h th h HLS COLOR MODEL Another model based intuitive color parameters HLS system used Tektronix This model double cone representation shown The three color parameters model called hue H lightness L saturation S Hue meaning HSV model It specifies angle vertical axis locates chosen hue In model H corresponds blue The remaining colors specified around perimeter cone order HSV model Magenta red cyan lo cated H Again complementary colors apart double cone The vertical axis model called lightness L At L black white L Gray scale along L axis pure hues lie L plane Saturation parameter S specifies relative purity color This para meter varies pure hues S L As S decreases hues said less pure At gray scale As HSV model HLS system allows user think terms making selected hue darker lighter A hue selected hue angle H desired shade tint tone obtained adjusting L S Colors made lighter increasing L made darker decreasing L When S decreased colors move toward gray Section HLS Color Model Chapter Color Models Color Applications L Lightness ded Yeliow Blue H Hue Angle L Black S Saturation The HLS double cone A graphics package provide color capabilities way aids us making color selections Various combinations colors selected using sliders color wheels system also designed aid selection har monizing colors In addition designer package follow basic color rules designing color displays presented user One method obtaining set coordinating colors generate set subspace color model If colors selected regular intervals along straight line within RGB CMY cube example expect obtain set well matched colors Randomly selected hues expected produce harsh clashing color combinations Another consideration selection color combinations different colors perceived different depths This occurs eyes focus colors according frequency Blues particular tend recede Displaying blue pattern next red pattern cause eye fatigue continually need refocus attention switched one area This problem reduced separat ing colors using colors one half tess color hexagon HSV model With technique display contains either blues greens reds yellows As gencral rule use smaller number colors produces pleasing display large number colors tints shades blend better pure hues For background gray complement one fore ground colors usually best SUMMARY In chapter discussed basic properties light concept color model Visible light characterized narrow frequency distribu tion within electromagnetic spectrum Light sources described terms dominant frequency hue luminance brightness purity sai uration Complementary color sources combine produce white light One method defining color model specify set two primary colors combined produce various colors Common color models defined three primary colors RGB CMY madels Video monitor displays use RGB model hardcopy devices produce color put using CMY model Other color models based specification lumi nance purity values include Y Q HSV HLS color models Intuitive color models HSV HLS models allow colors specified selecting value hue amounts white black added selected hue Since model specified finite set color parameters capable describing possible colors set three hypothetical colors called CIE primaries adopted standard defining color combinations The set CIE primaries commonly referred XYZ color model Plot ting normalized values X Y standards produces CIE chromaticity diagram gives representation color terms hue purity We use diagram compare color gamuts different color models identify complementary colors determine dominant frequency purity given color An important consideration generation color display selec tion harmonious color combinations We following simple rules Coordinating colors usually selected within small subspace color model Also avoid displaying adjacent colors differ widely ir dominant frequency And limit displays small number color combinations formed tints shades rather pure hues REFERENCES A comprehensive discussion science color given Wyszecki Stiles Color models color display techniques discussed Durrett Hall Travis Algorithms various color applications presented n Glassner Arvo Kirk For additional infoymation human visual sys tem perception light color see Glassnet References Chapter Color Models Color Applications EXERCISES 10 11 12 Derive expressions converting RGB color parameters HSV values Derive expressions converting HSV color values RGB values Write interactive procedure allows selection HSV color parameters irom displayed menu HSV values converted RGB values storage frame buffer Derive expressions converting RGB color values HLS color parameters Derive expressions converting HLS color values RGB values Write program allows interactive selection HLS values color menu converts values ta corresponding RGB values Write program produce set colors linearly interpolated tween two specified positions RGB space Write interactive routine selecting color values within specified sub space RGB space Write program produce set cofors linearly interpolated tween two specified positions HSV space Write program produce set colors linearly interpolated tween two specified positions HLS space Display two RGB color grids side side video monitor Fill one grid set randomly selected RGB colors fill grid set colors selected small RGB subspace Experiment different random selections different RGB subspaces compare two color grids Display two color grids Exercise 11 using color selections either HSV HLS calor space CHAPTER Computer Animation S ome typical applications computer generated animation entertain ment motion pictures cartoons advertising scientific engineering studies training education Although tend think animation implying object motions term computer animation generally refers time sequence visual changes scene In addition changing object posi tion translations rotations computer generated animation could dis play time variations object size color transparency surface texture Adver tising animations often transition one object shape another example transforming motor oi automobile engine Computer animations also generated changing camera parameters position orienta tion focal length And produce computer animations changing lighting effects parameters procedures associated illumination rendering Many applications computer animation require realistic displays An ac curate representation shape thunderstorm natural phenomena described numerical model important evaluating reliability model Also simulators training aircraft pilots heavy equipment oper ators must produce reasonably accurate representations environment En tertainment advertising applications hand sometimes interested visual effects Thus scenes may displayed exaggerated shapes unrealistic motions transformations There many entertain ment advertising applications require accurate representations computer generated scenes And scientific engineering studies real ism goal For example physical quantities often displayed pseudo colors abstract shapes change tume help researcher un derstand nature physical process In general animation sequence designed following steps Storyboard layout Object definitions Key frame specifications Generation frames This standard approach animated cartoons applied animation ap plications well although many special applications fol low sequence Real time computer animations produced flight simulators instance display motion sequences response settings aircraft con trols And visualization applications generated solutions numer ical models For frame frame animation frame scene separately generated stored Later frames recorded film consecutively displayed real time playback mode The storyboard outline action It defines motion sequence set basic events take place Depending type animation produced storyboard could consist set rough sketches could list basic ideas motion An object definition given participant action Objects defined terms basic shapes polygons splines In addition sociated movements object specified along shape A key frame detailed drawing scene certain time anima tion sequence Within key frame object positioned according time frame Some key frames chosen extreme positions ac tion others spaced time interval key frames great More key frames specified intricate motions simple slowly varing motions In betweens intermediate frames key frames The num ber betweens needed determined media used display animation Film requires frames per second graphics terminals freshed rate frames per second Typically time intervals motion set three five betweens pair key frames Depending speed specified motion key frames duplicated For minute film sequence duplication would need frames With five betweens pair key frames would need key frames If motion complicated could space key frames little farther apart There several tasks may required depending appli cation They include motion verification editing production synchro nization soundtrack Many functions needed produce general ani mations computer generated Figures show examples computer generated frames animation sequences One frame award winning computer animated short film Luxe Jr The film designed using key frame animation system cartoon animation techniques provide lifelike actions lamps Final images rendered multiple light sources procedural texturing techniques Courtesy Pixar Pixar Section Design Animation Sequences One frame short film Tin Toy first computer animated film win Oscar Designed using key frame animation system film also required extensive facial expression modeling Final images rendered using procedural shading self shadowing techniques motion blur texture mapping Courtesy Pixar Pixar GENERAL COMPUTER ANIMATION FUNCTIONS Some steps development animation sequence well suited com puter solution These include object manipulations rendering camera mo tions generation betweens Animation packages Wave front example provide special functions designing animation processing individual objects One function available animation packages provided store man age object database Object shapes associated parameters stored updated database Other object functions include motion genera tion object rendering Motions generated according speci fied constraints using two dimensional three dimensional transformations Standard functions applied identify visible surfaces apply rendering algorithms Another typical function simulates camera movements Standard motions zooming panning tilting Finally given specification key frames betweens automatically generated On raster systems generate real time animation limited applications using raster operations As seen Section simple method trans lation xy plane transfer rectangluar block pixel values one location another Two dimensional rotations multiples also simple perform although rotate rectangular blocks pixels arbitrary angles using antialiasing procedures To rotate block pixels need de termine percent area coverage pixels overlap rotated block Sequences raster operations executed produce real time ani mation either two dimensional three dimensional objects long Strict animation motions projection plane Then viewing visi ble surface algorithms need invoked We also animate objects along two dimensional motion paths using color table transformations Here predefine object successive positions along motion path set successive blocks pixel values color table Real time raster color table animation entries We set pixels first position object values set pixels object positions background color The animation accomplished changing color table values object successively positions along animation path preceding position set background intensity Design control animation sequences handled set animation routines A general purpose language C Lisp Pascal FORTRAN often used program animation functions several specialized animation languages developed Animation functions include graphics editor key frame generator generator standard graphics routines The graphics editor allows us design modify object shapes using spline surfaces constructive solid geometry methods representation schemes A typical task animation specification scene description This includes positioning objects light sources defining photometric parameters light source intensities surface illumination properties setting camera parameters position orientation lens characteristics Another stan dard function action specification This involves layout motion paths objects camera And need usual graphics routines viewing perspective transformations geometric transformations generate cbject move ments function accelerations kinematic path specifications visible sur face identification surface rendering operations Key frame systems specialized animation languages designed simply generate betweens user specified key frames Usually ob ject scene defined set rigid bodies connected joints limited number degrees freedom As example single arm robot six degrees freedom called arm sweep shoulder swivel elbow extension pitch yaw roll We extend number de grees freedom robot arm nine allowing three dimensional trans lations base If also allow base rotations robot arm total degrees freedom The human body comparison degrees freedom Parameterized systems allow object motion characteristics specified part object definitions The adjustable parameters control object characteristics degrees freedom motion limitations allowable shape changes Section Computer Animation Languages Chapter Computer Animation LA Translational rotational degrees freedom base robot arm Elbow Kon renin Shoutder A Swivel Yaw rn Roll Pitch Degrees freedom stationary single arm robot Scripting systems allow object specifications animation sequences defined user input serip From script library various objects motions constructed We generate set betweens specification two key frames Motion paths given kinematic description set spline curves motions physically tased specifying forces acting objects animated For complex scenes separate frames individual components objects called cefs celluloid transparencies acronym cartoon anima tion Given animation paths interpolate positions individual objects two times With complex object transformations shapes objects may change time Examples clothes facial features magnified detail evolving shapes exploding disintegrating objects transforming one object object If surfaces described polygon meshes number edges per polygon change one frame next Thus total num ber line segments different different frames Morphing Transformation object shapes one form another called morphing shortened torm metamorphosis Morphing methods applied motion transition involving change shape Given two key frames object transformation first adjust object specification one frames number polygon edges number vertices two frames This preprocessing step il lustrated A straight line segment key frame k transformed two line segments key frame k Since key frame k extra vertex add vertex vertices key frame k balance number vertices edges two key frames Using linear interpolation generate betweens transition added vertex key frame k vertex along straight line path shown An example triangle linearly expanding quadrilateral given Figures 10 show examples morphing television advertising v Key Key Frame k Frame k An edge vertex positions key frame k evolves two connected edges key frame k Linear interpolation transforming line segment key frame two connected line segments key frame k Key Frame k Linear interpolation transforming triangle quadrilateral We state general preprocessing rules equalizing key frames terms either number edges number vertices added key frame Suppose equalize edge count parameters L L denote number line segments two consecutive frames We define Lina Max Ly Lea Linn Min Ly Ly N Las mod Ll N ine mun Transformation STP oil engine block Courtesy Salicon Graphres inc b eed tot td Transtormation moving automobile running tiger Courtesy Exxon Company USA arid Pactfic Data Images Then preprocessing accomplished dividing N edges keyframe N sections dividing remaining lines keyframe N sections As example L L would divide lines keyframe sections The remaining lines keyframe left intact If equalize vertex count use parameters V V de note number vertices two consecutive frames In case define Vinax MAX VyE Ver Vinin min V V Nis Vinax mod Vann Venax N int T min Preprocessing using vertex count performed adding N points N line sections keyframerun adding N points remaining edges keyframegin For triangle quadrilateral example V V Both N N would add one point one edge keyframe No points would added remaining lines keyframe Simulating Accelerations Curve fitting techniques often used specify animation paths key frames Given vertex positions key frames fit positions linear nonlinear paths illustrates nonlinear fit key frame positions This determines trajectories betweens To simulate accel erations adjust time spacing betweens For constant speed zero acceleration use equal interval time spacing betweens Suppose want n betweens key frames times The time interval key frames divided n subintervals yielding spacing ho Al nel We calculate time fB f jdt jf 4H determine values coordinate positions color physical para meters Nonzero accelerations used produce realistic displays speed changes particularly beginning end motion sequence We model start slow portions animation path spline Section Key Frame Systems Fitting key frame vertex positions nonlinear splines trignometric functions Parabolic cubic time functions applied acceleration modeling trignometric functions commonly used animation packages To model increasing speed positive acceleration want time spacing frames increase greater changes position occur object moves faster We obtain increasing interval size function cos6 O0 w For betweens time jth would calculated cos ft j tBy ty asf Ss Af time difference two key frames gives plot trigonometric acceleration function spacing We model decreasing speed deceleration sin range The time position defined jw tBe j ty Atsin j n I J J J T ty In positions motion constant speed LE A trigonometric acceleration function corresponding spacing n ja Eq producing increased coordinate changes object moves time interval A plot function decreasing size time intervals shown five betweens Often motions contain speed ups slow downs We model combination increasing decreasing speed first increasing time spacing decrease spacing A function accomplish time changes sind t8 tB OF 2345 v z A trigonometric deceleration function corresponding spacing n jr Eq producing decreased coordinate changes object moves time interval Bs A trigonometric accelerate decelerate function corresponding spacing n Eq cos The time jth calculated 1Bp arf coetintn NY j Af denoting time difference two key frames Time intervals moving object first increase time intervals decrease shown Fig 15 Processing betweens simplified initially modeling skeleton wireframe objects This allows interactive adjustment motion sequences After animation sequence completely defined objects fully ren dered There several ways motions objects specified ani mation system We define motions explicit terms use abstract general approaches Direct Motion Specification The straightforward method defining motion sequence direct specifi cation motion parameters Here explicitly give rotation angles translation vectors Then geometric transformation matrices applied transform coordinate positions Alternatively could use approximating mf Po og ro og rOe oy ay ra oi ow ay vi e rene u rel eros U Ys g vi 4 yy x Approximating motion bouncing ball damped sine function Eq 10 equation specify certain kinds motions We approximate path bouncing ball instance damped rectified sine curve yaX A Isin ox le 10 A initial amplitude w angular frequence phase angle k damping constant These methods used simple user pro grammed animation sequences CGoal Directed Systems At opposite extreme specify motions take place gen eral terms abstractly describe actions These systems referred goal directed determine specific motion parameters given goals animation For example could specify want object walk run particular destination Or could state want object pick specified object The input directives inter preted terms component motions accomplish selected task Human motions instance defined hierarchical structure sub motions torso limbs forth Kinematics Dynamics We also construct animation sequences using kinematic dynamic descrip tions With kinematic description specify animation giving motion parameters position velocity acceleration without reference forces cause motion For constant velocity zero acceleration designate motions rigid bodies scene giv ng initial position velocity vector Chapter Computer Animation object As example velocity specified km sec vector gives direction straight line motion path speed magnitude velocity km sec If also specify accelerations rate change velocity generate speed ups slow downs curved motion paths Kinematic specification motion also given simply describing motion path This often done using spline curves An alternate approach use inverse kinematics Here specify ini tial final positions objects specified times motion parameters computed system For example assuming zero accelerations de termine constant velocity accomplish movement object fom initial position final position This method often used com plex objects giving positions orientations end node object hand foot The system determines motion parameters nodes accomplish desired motion Dynamic descriptions hand require specification forces produce velocities accelerations Descriptions object behav ior irfluence forces generally referred physically based modeling Chapter Examples forces affecting object motion include electro magnetic gravitational friction mechanical forces Object motions obtained force equations describing physical laws Newton laws motion gravitational friction processes Euler Navier Stokes equations describing fluid flow Maxwell equations electromagnetic forces For example general form Newton second law particle mass m1 F au 11 F force vector v velocity vector If mass constant solve equation F acceleration vector Otherwise mass function time relativistic motions motions space vehicles consume measurable amounts fuel per unit time We also use inverse dy namics obtain forces given initial final positions objects type motion Applications physically based modeling include complex rigid body sys tems nonrigid systems cloth plastic materials Typically numeri cal methods used obtain motion parameters incrementally dy namical equations using initial conditions boundary values SUMMARY A computer animation sequence set specifying storyboard object definitions key frames The storyboard outline action key frames define details object motions selected positions animation Once key frames established sequence tweens generated construct smooth motion one key frame next A computer animation involve motion specifications objects scene well motion paths camera moves scene Com puter animation systems include key frame systems parameterized systems Scripting systems For motion two dimensions use raster anima tion techniques discussed Chapter For applications key frames used detine steps morph ing sequence changes one object shape another Other meth ods include generation variable time intervals simulate accelerations decelerations motion Motion specifications given terms translation rotation para meters motions described equations kinematic dy namic parameters Kinematic motion descriptions specify positions velocities accelerations Dynamic motion descriptions given terms forces acting objects scene REFERENCES For additional information computer animation systems techniques see Magnenat Thalmann Thalmann Barzel Watt Wait Algorithms animation applications presented Glassner Arvo Kirk Gas cuel Ngo Marks van de Panne Fiume Snyder et al Morphing techniques discussed Beier Neely Hughes Kent Carlson Parent Sederberg Greenwood A discussion animation techniques PHIGS given Gaskins EXERCISES Design storyboard layout accompanving key trames animation sin gle polyhedron Write program generate betweens key frames specified Exercise using linear interpolation Expand animation sequence Exercise include two moving ob jects Write program generate betweens jor key frames Exercise using linear erpolation Write morphing program transform sphere specilied polyhedron Sel animation specification invalving accelerations implement Eq Sel animation specification involving accelerations decelerations implement spacing calculations given Eqs Set animation specification implementing acceleration deceleration calcu latians Eq Write program simulate linear two dimensional motion filled circle inside given rectangular area The circle given initial velocity circle rebound walls angle reflection equal angle incidence 10 Convert program Exercise ball paddle game replacing one side rectangle short line segment moved back forth intercept circle path The game circle escapes interior rectangle Initial input parameters include circle position direction speed The game score include number times circle intercepted pad dle 11 Expand program Exercise simulate three dimensional motion sphere moving inside parallelepiped Interactive viewing parameters set view motion different directions 12 Write program implement simulation bouncing ball using Eq 10 13 Write program implement motion bouncing bail using downward Exercises Chapter Computer Animation 14 15 Zravitational force ground plane friction force Initially ball pro jected space given velocity vector Write program implement two player pillbox game The game imple mented flat plane fixed pillbox positions random terrain features pillbox placements generated start game Write program implement dynamic motion specifications Specify scene two objects initial motion parameters specified forces Then generate animation solution force equations For example objects could earth moon sun attractive gravitational forces propor tional mass inversely proportional distance squared APPENDIX Mathematics Computer Graphics omputer graphics algorithms make use many mathematica concepts techniques Here provide brief reference topics ana lytic geometry linear algebra vector analysis tensor analysis complex numbers numerical analysis areas referred graphics algorithms discussed throughout book A COORDINATE REFERENCE FRAMES Graphics packages typically require coordinate parameters specified respect Cartesian reference frames But many applications non Cartesian coordinate systems useful Spherical cylindrical symmetries often exploited simplify expressions involving object descriptions manipu lations Unless specialized graphics system available however must first convert non Cartesian descriptions Cartesian coordinates In section first review standard Cartesian coordinate systems consider common non Cartesian systems Two Dimensional Cartesian Reference Frames Figure A shows two possible orientations Cartesian screen reference sys tem The standard coordinate orientation shown Fig A coordi nate origin lower left corner screen commonly used reference Figure A Screen Cartesian reference systems coordinate origin lower left screen corner b coordinate origin upper left corner Figure A A polar coardinate reference frame formed concentric circles radial lines Figure A Relationship polar Cartesian coordinates frame Some systems particularly personal computers orient Cartesian refer ence frame Fig A b origin upper left corner In addition possible graphics packages select position center screen coordinate origin Polar Coordinates xy Plane A frequently used non Cartesian system polar coordinate reference frame Fig A coordinate position specified radial distance r coordinate origin angular displacement horizontal Posi tive angular displacements counterclockwise negative angular displace ments clockwise Angle measured degrees one complete counterclockwise revolution origin The relation Carte sian polar coordinates shown Fig A Considering right triangle Fig A using definition trigonometric functions transform polar coordinates Cartesian coordinates expressions x rcos rsind A The inverse transfarmation Cartesian polar coordinates r Very tan A x Other conics besides circles used specify coordinate positions For example using concentric ellipses instead circles give coordinate positions elliptical coordinates Similarly types symmetries ex ploited hyperbolic parabolic plane coordinates Section A Coordinate Reference Frames Figure A Right triangle hypotenuse r sides x Appendix A Figure A An angle subtended circular arc length radius r Angular values specified degrees given dimen sionless units radians Figure A shows two intersecting lines plane circle centered intersection point P The value cf angle radians given Ia A length circular arc subtending r radius cir cle Total angular distance around point P length circle perimeter 2a divided r radians Three Dimensianal Cartesian Reference Frames Figure A shows conventional orientation coordinate axes three dimensional Cartesian reference system This called right handed sys tem right hand thumb points positive z direction imagine grasping z axis fingers curling positive x axis positive axis illustrated Fig A b Most computer graph ics packages require object descriptions manipulations specified right handed Cartesian coordinates For discussions throughout book cluding appendix assume Cartesian reference frames right handed Another possible arrangement Cartesian axes left handed system shown Fig A For system left hand thumb points positive z direction imagine grasping z axis fingers left hand curl positive x axis positive axis This orientation axes sometimes convenient describing depth objects relative display screen If screen locations described xy plane left handed system coordinate origin lower left screen comer positive z values indi cate positions behind screen Fig A Larger values along posi tive z axis interpreted farther viewer Three Dimensional Curvilinear Coordinate Systems Any non Cartesian reference frame referred curvilinear coordinate sys tem The choice coordinate system particular graphics application de pends number factors symmetry ease computation visu axis axis ate oN ed see Zaxis x axis axis x axis Figure A b Coordinate representation point P position x z right handed Cartesian reference system B Figure A Left handed Cartesian coordinate system superimposed surface af video monitor Figure A A general curvilinear coordinate reference frame alization advantages Figure A shows general curvilinear coordinate reference frame formed three coordinate surfaces surface one coordi nate held constant For instance x x surface defined x held constant Coordinate axes reference frame intersection curves coordi nate surfaces If coordinate surfaces intersect right angles thogonal curvilinear coordinate system Nonorthogonal reference frames useful specialized spaces visualizations motions governed laws general relativity general used less frequently graphics applications orthogonal systems A cylindrical coordinate specification spatial position shown Fig A relation Cartesian reference frame The surface constant pis vertical zZ axis Ply z axis Figure A x axis Cylindrical coordinates p z Section A Coordinate Reference Frames Appendix A Figure A Spherical coordinates r cylinder surface constant vertical plane containing z axis surface constant z horizontal plane parallel Cartesian xy plane We transform cylindrical coordinate specification Cartesian reference frame calculations x pcos psin z z A Figure A shows spherical coordinate specification spatial position reference Cartesian reference frame Spherical coordinates sometimes ferred polar coordinates space The surface constant r sphere sur face constant vertical plane containing z axis surface cylindrical coordinates surface constant cone apex coordinate origin If cone xy plane If cone xy plane We transfrom spherical coordinate specification Cartesian reference frame calculations x rcos sing rsin sing z rcosd A Solid Angle We define solid angle analogy two dimensional angle tween two intersecting lines Eq A Instead circle consider sphere center position P The solid angle w within cone shaped region apex P defined w A A area spherical surface intersected cone Fig A r radius sphere Also analogy two dimensional polar coordinates dimension less unit solid angles called steradian The total solid angle point total area spherical surface divided r steradians Figure A A solid angle w subtended spherical surface patch area A radius r A POINTS AND VECTORS There fundamental difference concept point vector A point position specified coordinate values reference frame distance origin depends choice refer ence frame Figure A illustrates coordinate specification two reference frames In frame A point coordinates given values ordered pair x In frame B point coordinates distance ori gin frame B A vector hand defined difference two point positions Thus two dimensional vector Fig A V P P x A V V Cartesian components Cartesian elements V V projec tions V onto x axes Given two point positions obtain vector components way coordinate reference frame We describe vector directed line segment two fundamental properties magnitude direction For two dimensional vector Fig A calculate vector magnitude using Pythagorean theorem frame B Oo x frame A Figure A Position point P respect two different Cartesian reference frames Section A Points Vectors Appendix A Figure A Direction angles Figure A A gravitational force vector F velocity vector v Ys Figure A Vector V ay plane Cartesian reference frame lvl V V2 A The direction two dimensional vector given terms angu lar displacement x axis tan A x A vector properties magnitude direction matter position vector within single coordinate system And vector magnitude independent coordinate representation Of course change coor dinate representation values vector components change For three dimensiunal Cartesian space calculate vector magnitude lvl VVi V2 A Vector direction given direction angles B vector makes coordinate axes Fig A Direction angles posi tive angles vector makes positive coordinate axes We calculate angles Vv lv V l cosB TI cosy vl A 1D cosa The values cosa cos8 cosy called direction cosines vector Actu ally need specify two direction cosines give direction V since cos cos B cos A Vectors used represent quantities properties magnitude direction Two common examples force velocity Fig A A force thought push pull certain amount ina par Figure A Two vectors added geometrically positioning two vectors end end b drawing resultant vector start first vector tip second vector ticular direction A velocity vector specifies fast speed object moving certain direction Vector Addition Scalar Multiplication By definition sum two vectors obtained adding corresponding com ponents Vit Va Way Van Vi Vag Vis Vin 13 Vector addition illustrated geometrically Fig A We obtain vector sum placing start position one vector tip vector draw ing summation vector Fig A Addition vectors scalars undefined since scalar always one numerical value vector mt numerical components n dimen sional space Scalar multiplication three dimensional vector defined aV aV aV aV A For example scalar parameter value component V doubled We also multiply two vectors two possible ways The multiplication carried either obtain another vector obtain scalar quantity Scalar Product Two Vectors Vector multiplication producing scalar defined V Vi Vil Valcos OS 15 angle two vectors Fig A This product called scalar product dot product two vectors It also referred inner product particularly discussing scalar products tensor analysis Equa tion A valid coordinate representation interpreted product parallel components two vectors Section A Points Vectors wane Figure A The dot product two vectors obtained multiplying parallel components Appendix A In addition coordinate independent form scalar product express product specific coordinate representations For Cartesian reference frame scalar product calculated Vi V2 VisVag ViyVoy ViVa A The dot product vector simply another statement Pythagorean theorem Also scalar product two vectors zero two vectors perpendicular orthogonal Dot products commutative V V2 VV A operation produces scalar dot products distributive respect vector addition V V2 V3 Vy V2 Vy V3 A Vector Product Two Vectors Multiplication two vectors produce another vector defined V xV ulVv V sing O50 sa 19 u unit vector magnitude perpendicular V V Fig A The direction u determined right hand rule We grasp axis perpendicular plane V V fingers right hand curl V V Our right thumb points direction u This product called vector product cross product two vectors Equa tion A valid coordinate representation The cross product two vec tors vector perpendicular plane two vectors magnitude equal area parallelogram formed two vectors We also express cross product terms vector components specific reference frame In Cartesian coordinate system calculate com ponents cross product Vy X Va ViyVaz VirVoye VieVax VisVoe VirVay ViyW2 20 If let u u u represent unit vectors magnitude along x z axes write cross product terms Cartesian components using de terminant notation Vix Me Figure A The cross product two vectors vector direction perpendicular two orginal vectors magnitude equal area shaded parallelogram u uu VixV Vi Vy Ve A Vx Vy Va The cross product two parallel vectors zero Therefore cross product vector zero Also cross product commutative anticommutative V x V V x V A And cross product associative V Xx Vy X Va V XV X Vy A But cross product distributive respect vector addition Vy X V2 Va CV X V2 V1 V3 A A BASIS VECTORS AND THE METRIC TENSOR We specify coordinate axes reference frame set vectors one axis Fig A Each coordinate axis vector gives direction axis point along axis These vectors form linearly independent set vectors That axis vectors written linear combinations Also vector space written linear combi nation axis vectors set axis vectors called basis set base vectors space In general space referred vector space basis contains minimum number vectors represent vector space linear combination base vectors Orthonormal Basis Often vectors basis normalized vector magnitude In case set unit vectors called normal basis Also Cartesian reference frames commonly used coordinate systems coordinate axes mutually perpendicular set base vectors referred orthogonal basis If addition base vectors unit vectors orthonormal basis satisfies following conditions uu allk u u k A Most commonly used reference frames orthogonal nonorthogonal coor dinate reference frames useful applications including relativity ory visualization certain data sets For two dimensional Cartesian system orthonormal basis Section A Basis Vectors Metric Tensor Figure A My Curvilinear coordinate axis vectors Appendix A u uy A And orthonormal basis three dimensional Cartesian reference frame u uy A Metric Tensor Tensors generalizations notion vector Specifically tensor quantity number components depending tensor rank dimension space satisfy certain transformation properties con verted one coordinate representation another For orthogonal systems transformation properties straightforward Formally vector tensor rank one scalar tensor rank zero Another way view classi fication note components vector specified one sub script scalar always single value hence subscripts A ten sor rank two thus two subscripts three dimensional space tensor rank two nine components three values subscript For general curvilinear coordinate system elements coeffi cients metric tensor space defined Sa Uys A Thus metric tensor rank two symmetric Metric tensors several useful properties The elements metric tensor used de termine distance two points space transformation equa tions conversion another space components various differential vector operators gradient divergence curl within space In orthogonal space x j k A And Cartesian coordinate system assuming unit base vectors ifj k otherwise 50 The unit base vectors polar coordinates expressed terms Cartesian base vectors u u cos uysing u rsin u rcos A Substituting expressions Eq A obtain elements metric tensor written matrix form flo Blo A For cylindrical coordinate reference frame base vectors u u cos u sind Uy U psin u pcos u A And matrix representation metric tensor cylindrical coordinates g p A We write base vectors spherical coordinates u u cos sing u sin sing u cosd u u rsinOsing uyrcos sind ug urcos cosd uyrsin cos u rsind A Then matrix representation metric tensor spherical coordinates B Fsin A Oo Ff A MATRICES A matrix rectangular array quantities numbers functions numerical expressions called elements matrix Some examples matrices x 60 01 00 ee x _ 00 eh le 3h a2 ay A We identify matrices according number rows number columns For examples matrices left right order When number rows number columns second example matrix called square matrix In general write n matrix ay ay sae ay My AQ Ay A A Amr ann represent elements matrix A The first subscript ele ment gives row number second subscript gives column number A matrix single row single column represents vector Thus last two matrix examples A respectively row vector column vec tor In general matrix viewed collection row vectors col lection column vectors When various operations expressed matrix form standard mathe matical convention represent vector column matrix Following convention write matrix representation three dimensional vector Section A Matrices Appendix A Cartesian coordinates Vy v A Vv We use matrix representation points vectors must keep mind distinction It often convenient consider point vector start position coordinate origin within single coor dinate reference frame points properties vectors main invariant switching one coordinate system another Also general apply vector operations vector addition dot product cross product points Sealar Multiplication Matrix Addition To multiply matrix A scalar value multiply element scalar As example 3a Matrix addition defined matrices number rows number columns For two n matrices sum obtained adding corresponding elements For example 15 val 35 61 Matrix Multiplication The product two matrices defined generalization vector dot prod uct We multiply n matrix A p q matrix B form matrix product AB providing number columns A equal number rows B ie p We obtain product matrix forming sums products elements row vectors A corresponding ele ments column vectors B Thus following product C AB A obtain q matrix C whose elements calculated mn Cy abe A kel In following example matrix postmultiplied trix produce product matrix Qo i1 alk l 3 4 38 14 22 Vector multiplication matrix notation produces result dot product providing first vector expressed row vector second vector expressed column vector This vector product results matrix single element matrix If multiply vectors reverse order obtain matrix 12 J223 10 12 As previous two vector products illustrate matrix multiplication general commutative That ABBA A But matrix multiplication distributive respect matrix addition A B C AB AC A Matrix Transpose The transpose A matrix obtained interchanging rows columns For example T abcJFF A c For matrix product transpose AB BTAT A Determinant Matrix For square matrix combine matrix elements produce single number called determinant Determinants defined recursively For matrix second order determinant defined fu 999 Ay707 A ay Section A Matrices Appendix A We calculate higher order determinants terms lower order determi nants To calculate determinants order greater select col umn k ann n matrix compute determinant detA ay detAy A pl detA n n determinant submatrix obtained A deleting jth row kth column Alternatively select row j calculate determinant n deta ay detAy A kel Calculating determinants large matrices n say done efficiently using numerical methods One way compute determinant de compose matrix two factors A LU elements matrix L diagonal zero elements matrix U diagonal zero We compute product diagonals L U obtain detA multiplying two products together This method based following property determinants det AB detA det B A Another method calculating determinants based Gaussian elimination procedures Section A Matrix Inverse With square matrices obtain inverse matrix determi nant matrix nonzero lf inverse exists matrix said non singular matrix Otherwise matrix called singular matrix For prac tical applications matrix represents physical operation expect inverse exist The inverse ann n square matrix A denoted A AA A A I1 A identiy matrix All diagonal elements I value diagonal elements zero Elements inverse matrix A calculated elements Aas det A a4 a5q A aq element jth row kth column A A n n submatrix obtained deleting kth row jth column matrix A Again numerical methods used evaluate determinant elements inverse matrix large values n A COMPLEX NUMBERS By definition complex number z ordered pair real numbers z x A x called real part z called imaginary part z Real imaginary parts complex number designated x Re z Im A Geometrically complex number represented complex plane Fig te complex numbers arise solutions equations e r 2r real number solutions Thus complex numbers complex arithmetic set extensions real numbers provide solutions equations Addition subtraction scalar multiplication complex numbers carried using rules two dimensional vectors Multiplication complex numbers defined Xp Ye Yo Oyt2 Wie HY2 XY A This definition complex numbers gives result real number multiplication imaginary parts zero O rg xyx2 Thus write real number complex form x x Similarly pure imaginary number real part equal The complex number called imaginary unit denoted A imaginary axis Figure A Position point z complex reataxis plane Section A Complex Numbers Appendix A Electrical engineers often use symbol j imaginary unit symbol used represent electrical current From rule complex multi plication Therefore real number V A Using mule complex multiplication write pure imaginary number form iy Also addition nile write complex number sum z Oy Therefore another representation complex number zextiy A usual form used practical applications Another concept associated complex number complex conjugate zox A Modulus absolute value complex number defined jzl Ve A gives length vector representing complex number e distance origin complex plane point z Real imaginary parts division two complex numbers obtained _ He x yi Yo xb yf A YY2 X2y1 ae 2ay2 WD B A particularly useful representation complex numbers express tea imaginary parts terms polar coordinates Fig A z r cos isin A imaginary axis Figure A Polar coordinate position reslxaxis complex number z We also write polar form z res 62 base natural logarithms e 718281828 cos isin A Euler formula Complex multiplications divisions easily ob tained Byhq reat And nth reots complex number calculated Vi Vilcos Zar isin aryl k n A64 n The roots lie circle radius center origin complex plane form vertices regular polygon n sides A QUATERNIONS Complex number concepts extended higher dimensions quaternions numbers one real part three imaginary parts written g st iatjb ke A coefficients b c imaginary terms rea numbers pa rameter real number called scalar part Parameters j k defined properties P pP R ij ji k A From properties follows jka kj ki ik j 67 Section A Quaternions Appendix A Scalar multiplication defined analogy corresponding opera tions vectors complex numbers That four components quaternion multiplied scalar value Similarly quaternion addition defined Gz Ss Sp fa ay f b key cy A Multiplication two quaternions carried using operations Eqs A A An ordered pair notation quaternion also formed analogy complex number notation q v A v vector b c In notauon quaternion addition expressed G2 V vy A Quaternion multiplication expressed terms vector dot cross products S15 Vy V2 1V_ Sv VX Vo A As extension complex operations magnitude squared quater nion defined using vector dot product Iqit sttvey A And inverse quaternion qi Tare A qq q q A NONPARAMETRIC REPRESEN TATIONS When write object descriptions directly terms coordinates ref erence frame use respresentation called nonparametric For example represent surface either following Cartesian functions fix z z fix A The first form A gives implicil expression surface second form gives explicit representation x independent variables z dependent variable Similarly represent three dimensional curved line nonparamet ric form intersection two surface functions could represent curve pair functions flx z g x A coordinate x selected independent variable Values depen dent variables z determined Eqs A step values x one line endpoint endpoint Nonparametric representations useful describing objects within given reference frame disadvantages used graphics algorithms If want smooth plot must change independent variable whenever first derivative slope either f x g x becomes greater This means must continually check values derivatives may become infinite points Also Eqs A provide awkward format representing multiple valued functions For instance implicit equation circle centered origin xy plane yor P explicit expression multivalued function sVAa x In general convenient representation object descriptions graphics algorithms terms parametric equations A PARAMETRIC REPRESENTATIONS Euclidean curves one dimensional objects positions along path three dimensional curve described single parameter u That express three Cartesian coordinates terms parameter yu point curve represented following vector point function relative particular Cartesian reference frame PQ x u u u A Often coordinate equations set parameter u defined unit interval For example circle xy plane center coordinate origin could defined parametric form x u rcos u rsin zlu O usl 77 Other parametric forms also possible describing circles circular arcs Curved plane Euclidean surfaces two dimensional objects po sitions surface described two parameters u v A coordinate position surface represented parametric vector function P x x u v yu v z u v A Section A Parametric Representations Appendix A Figure A Section spherical surface described lines constant u lines constant v Eqs A Cartesian coordinate values x z expressed functions parameters u v As curves often possible arrange parametric descriptions parameters u v defined range from0 A spherical surface center coordinate origin example de scribed equations x u v rsin au cos 10 u v r sin ans sin u rcos mu A r radius sphere Parameter u describes lines constant lati tude surface parameter v describes lines constant longitude By keeping one parameters fixed varying subinterval range could plot latitude longitude lines spher ical section Fig A A NUMERICAL METHODS In computer graphics algorithms often necessary solve sets linear equa tions nonlinear equations integral equations functional forms Also visualize discrete set data points may useful display continuous curve surface function approximates points data set In sec tion briefly summarize common algorithms solving various numer ical problems Solving Sets Linear Equations For variables x k write system n linear equations AX App F AyyXy Ay Xy Aygk Ay X yy Xy AygXz Aan Xy B A values parameters b known This set equations expressed matrix form AX B A A n square matrix whose elements coefficients aj X column matrix x values B column matrix b values The solution set simultaneous linear equation expressed matrix form X A B A depends inverse coefficient matrix A Thus system equations solved A nonsingular matrix deter minant nonzero One method solving set equations Cramer Rule det A k deta A A matrix A kth column replaced elements B This method 1s adequate problems variables For three four variables method extremely inetficient due large number multiplications needed evaluate determinant Evaluation single n n determinant requires n multiplications We solve system equations efficiently using variations Gaussian elimination The basic ideas Gaussian elimination illustrated following set two simultaneous equations x 2x A 3x 4x To solve set equations multiply first equation add two equations elimunate x term yielding equation 2x solution x This value substituted either original equations obtain solution x Efficient algo tithms devised carry elimination back substitution steps Gaussian elimination sometimes susceptable high roundoff errors may possible obtain accurate solution In cases may able obtain solution using Gauss Seidel method We start initial guess values variables x repeatedly calculate successive ap proximations difference successive values small At iteration calculate approximate values variables _ yax ay3 Minkn X ay Oy ky BX Oak nx Xp EL A My If rearrange matrix A diagonal element magnitude greater sum magnitudes elements acrass row Gauss Seidel method guaranteed converge solution Finding Roots Nonlinear Equations A root function f x value x satisfies equation f x One popular methods finding roots nonlinear equations New ton Raphson algorithm This algorithm iterative procedure approximates function f x straight line step iteration shown Fig A We start initial guess x value root calcu Section A Numerical Methods tangent line Figure A Approximating curve initial value xq straight line tangent curve point late next approximation root x determining tangent line xp crosses x axis At xg slope first derivative curve af _ feo A dx xXq Xy Thus next approximation root x Xp xo A Oo fo f We repeat procedure calculated approximation difference successive approximations small enough If Newton Raphson algorithm converges root converge faster root finding method But may always converge For example method fails derivative f x point iteration Also depending oscillations curve successive approximation may diverge position root The Newton Raphson algorithm ap plied function complex variable f z sets simultaneous nonlin ear functions real complex Another method slower guaranteed converge bisection method Here need first determine x interval contains root apply binary search procedure close root We first look midpoint interval determine whether root lower upper half terval This procedure repeated successive subinterval differ ence successive midpoint positions smaller preset value A speedup attained interpolating successive x positions instead halv ing subinterval false position method Evaluating Integrals Integration summation process For function single variable x inte gral f x area curve illustrated Fig A An integral fix numerically approximated following summation food feooda A b k f x approximation f x interval Ax For example approximate curve constant value subinterval add areas resulting rectangles Fig A The smaller subdivisions interval fram b better approximation point Actually Section A Numerical Methods Figure A The integral f x equal ta amount area function x axis interval froma b f x J xg xy vas x Figure A Approximating integral sum areas small rectangles intervals get small values successive rectangular areas get lost roundoff error Polynomial approximations function subinterval generally give better results rectangle approach Using linear approximation obtain subareas trapezoids approximation methad ferred trapezoid rule lf use quadratic polynomial parabola ap proximate function subinterval method called Simpson rule integral approximation b Ax n n faddx Aa fb fly fx A oddk evenk interval bis divided n equal width intervals b Ax A n n multiple Xo Xy Xo Ax k n For functions high frequency oscillations Fig A approxima tion methods previously discussed may give accurate results Also multiple integrals involving several integration variables difficult solve Simp fix Figure A _ _ A function high frequency b x oscillations son rule approximation methods In cases apply Monte Carlo integration techniques The term Monte Carlo applied method uses random numbers solve deterministic problems We apply Monte Carlo method evaluate integral function one shown Fig A generating n random positions rectangular area contains f x interval b Fig A An approximation integral calculated b fade ho sou A parameter Noun count number random points tween f x x axis A random position x rectangular region computed first generating two random numbers r carrying calculations Vinx Yin x r b Y Ymin 72h A Similar methods applied multiple integrals Random numbers r r uniformly distributed interval We obtain random numbers randam number function high level language statistical package use following algorithm called linear congruential generator aiy e modm k ik A EF parameters c ig integers ig starting value called seed Parameter chosen large possible particular machine values c chosen make string random numbers long possible value repeated For example machine bit integer representations set toy Yonex olxyl b Figure A A rectangular area enclosing Yeni function f x interval b Fitting Curves Data Sets Section A waa Numerical Methods A standard method fitting function linear nonlinear set data points least squares algorithm For two dimensional set data points yy yd K first select functional form f x could straight line function polynomial function curve shape We determine differences deviations f x values x compute sum deviations squared E Sly fool A k Parameters function f x determined minimizing expression E For example linear function fx ag yx parameters ap assigned values minimize E We determine val ues solving two simultaneous linear equations result minimization requirements That E minimum partial de rivative respect partial derivative respect 0E dE Ay 0a Similar calculations carried functions For polynomial fi a9 x agx x need solve set n linear equations determine valves parameters And also apply least squares fitting functions several variables f xy Xz X linear nonlinear variables Bibliography AKELEY K AND T JERMOLUK High Performance Polygon Rendering proceedings SIGGRAPH Computer Graphics pp 246 AKELEY K RealityEngine Graphics proceed ings SIGGRAPH Computer Graphics Proceedings pp 116 AMANATIDES J Ray Tracing Cones pro ceedings SIGGRAPH Computer Graphics pp 135 AMBURN P E GRANT AND T WHITTED Managing Geometric Complexity Enhanced Procedural Mod els proceedings SIGGRAPH Computer Graph ics pp 196 AN YO K Y USAMI AND T KURIHARA A Simple Method Extracting Natural Beauty Hair proceedings SIGGRAPH Computer Graphics pp 120 APPLE COMPUTER INC inside Macintosh Volume Addison Wesley Reading MA APPLE Computer INC Human Interface Guidelines The Apple Desktop Interface Addison Wesley Reading MA Arvo J AND D Kirk Fast Ray Tracing Ray Clas sification proceedings SIGGRAPH Computer Graphics pp 64 Arvo J AND D Kikk Particle Transport Image Synthesis proceedings SIGGRAPH Computer Graphics pp 66 ARvo J ED Graphics Gems H Academic Press Inc San Diego CA ATHERTON P R A Scan Line Hidden Surface Re moval Procedure Constructive Solid Geometry proceedings SIGGRAPH Computer Graphics pp 82 Bararr D Analytical Methods Dynamic Simu lation Non Penetrating Rigid Bodies proceedings SIGGRAPH Computer Graphics pp 232 Bararr D AND A WITKIN Dynamic Simulation Non Penetrating Flexible Bodies proceedings SIGGRAPH Computer Graphics pp 308 BARKANS A C High Speed High Quality An tialised Vector Generation proceedings SIG GRAPH Computer Graphics pp 326 BARNSLEY M F A JACQUIN F MALASSENT ET AL Harnessing Chaos Image Synthesis proceed ings SIGGRAPH Computer Graphics pp 1490 Barnsey M Fractals Everywhere Second Edition Academic Press Inc San Diego CA Barr A H Superquadrics Angle Preserving Transformations EEE Computer Graphics Applica tions pp 23 Barr A H Ray Tracing Deformed Surfaces proceedings SIGGRAPH Computer Graphics pp 296 Barsky B A AND J C BEATTY Local Control Bias Tension Beta Splines ACM Transactions Graphics pp 134 Barsky B A A Discription Evaluation Vari ous D Models EEE Computer Graphics Applica tions pp 52 Barzel R aND A H Barr A Modeling System Based Dynamic Constraints proceedings SIG GRAPH Computer Graphics pp Barze R Physically Based Modeling Computer Graphics Academic Press Inc San Diego CA Baum D R MANN K P SmrtH FT AL Making Radiosity Usable Autamatic Preprocessing Mesh ing Techniques Generation Accurate Radiosity Solutions proceedings SIGGRAPH Computer Graphics pp 61 Becker S C W A BARRETT AND D R OLSEN Jr Interactive Measurement Three Dimensional Ob jects Using Depth Buffer Linear Probe ACM Transactions Graphics pp 207 Becker B G N L Max Smooth Transitions Bump Rendering Algorithms proceedings SIGGRAPH Computer Graphics Proceedings pp 190 Brier T AND S NEELY Feature Based Image Meta morphosis proceedings SIGGRAPH Com puter Graphics pp 42 BERGMAN L H Fucus E GRANT ET AL Image Rendering Adaptive Refinement proceedings SIGGRAPH Computer Graphics pp 38 BERGMAN L D J S RICHARDSON D C RICHARDSON ET AL VIEW Eploratory Molecular Visualization System User Definable Interaction Sequences proceedings SIGGRAPH Computer Graphics Pro ceedings pp 126 Bezier P Numerical Control Mathematics Appli cations translated A R Forrest A F Pankhurst John Wiley Sons London Bier E A S A MacKay D A STEWART ET AL Snap Dragging proceedings SIGGRAPH Computer Graphics pp 248 Bier E A M C STONE K PIER ET AL Toolglass Magic Lenses The See Through Interface pro ceedings SIGGRAPH Computer Graphics Proceed ings pp 80 Bishop G AND D M WIEMER Fast Phong Shading proceedings SIGGRAPH Computer Graphics pp 106 BLAKE J W PHIGS PHIGS Plus Academic Press London BLESER T TAE Plus Styleguide User Interface De scription NASA Goddard Space Flight Center Green belt MD Bunn J F anp M FE NeweLt Texture Reflec tion Computer Generated Images CACM 10 pp 547 BLINN J F Models Light Reflection Com puter Synthesized Pictures Computer Graphics pp 198 BLINN J F AND M E NEWELL Clipping Using Ho mogeneous Coordinates Computer Graphics pp 251 BLINN J F Simulation Wrinkled Surfaces Computer Graphics pp 292 BLINN J F A Generalization Algebraic Surface Drawing ACM Transactions Graphics pp 256 BLINN J F Light Reflection Functions Simula tion Clouds Dusty Surfaces proceedings SIGGRAPH Computer Graphics pp 29 BLINN J F A Trip Down Graphics Pipeline The Homogeneous Perspective Transform EEE Com puter Graphics Applications pp 80 BLOOMENTHAL J Modeling Mighty Maple proceedings SIGGRAPH Computer Graphics pp 312 Bono P R J L ENCARNACAO E R A Hopcoop ET AL GKS The First Graphics Standard EEE Com puter Graphics Applications pp 23 Booth K S M P BryDEn W B Cowan ET AL On Parameters Human Visual Performance An In vestigation Benefits Antialiasing IEEE Com puter Graphics Applications pp 41 BRESENHAM J E Algorithm Computer Control A Digital Plotter IBM Systems Journal pp 30 BRESENHAM J E A Linear Algorithm Incremen tal Digital Display Circular Arcs CACM pp 106 Brooks F P Jr Walkthrough A Dynamic Graph ics System Simulating Virtual Buildings Interactive 3D Brooks F P Jr Grasping Reality Through Tlu sion Interactive Graphics Serving Science CHI pp 11 Brooks J P FREDERICK M QUH YOUNG J J BATTER ET AL Project GROPE Haptic Display Scientific Visualization proceedings SIGGRAPH Com puter Graphics pp 185 Brown M H AND R SEDGEWICK A System Al gorithm Animation proceedings SIGGRAPH Computer Graphics pp 186 Brown J R AND S CUNNINGHAM Programming User Interface John Wiley Sons New York BRUDERLIN A AND T W CALVERT Goal Directed Dynamic Animation Human Walking proceed ings SIGGRAPH Computer Graphics pp 242 BRUNET P AND I NavaZo Solid Representation Operation Using Extended Octrees ACM Transactions Graphics pp 197 BRYSON S AND C Levit The Virtual Wind Tunnel IEEE Computer Graphics Applications pp 34 Burt P J AND E H ADELSON A Multiresolution Spline Application Image Mosaics ACM Transactions Graphics pp 236 BuxTon W M R LaMB D SHERMAN ET AL To wards Comprehensive User Interface Management System proceedings SIGGRAPH Computer Graphics pp 42 BuxTon W R HILL aND P ROWLEY Issues Techniques Touch Sensitive Tablet Input pro ceedings SIGGRAPH Computer Graphics pp 224 CaLvert T A BRUDERLIN DILL ET AL Desktop Animation Multiple Human Figures IEEE Computer Graphics Applications pp 26 CAMBELL G F A DEFANTI FREDERIKSEN ET AL Two Bit Pixel Full Color Encoding proceedings SIGGRAPH Computer Graphics pp 224 Camps Lt IIL A T AND D FUsseLL Adaptive Mesh Generation Global Diffuse Illumination proceedings SIGGRAPH Computer Graphics pp 164 Carp S K J D MACKINLAY AND G G ROBERTSON The Information Visualizer Information Work space CHI pp 188 CARIGNAN M Y YANG N M THALMANN T AL Dressing Animated Synthetic Actors Complex Deformable Clothes proceedings SIGGRAPH Computer Graphics pp 104 CARLBOM I I CHAKRAVARTY AND D VANDERSCHEL A Hierarchical Data Structure Representing Spatial Decomposition D Objects IEEE Compuler Graphics Applications pp 31 CARPENTER L The A Buffer An Antialiased Hid den Surface Method proceedings SIGGRAPH Computer Graphics pp 108 CARROLL J M AND C CARRITHERS Training Wheels User Interface CACM pp 806 CASALE M S AND E L STANTON An Overview Analytic Solid Modeling IEEE Computer Graphics Applications pp 56 CATMULL FE Computer Display Curved Sur faces proceedings IEEE Conference Com puter Graphics Pattern Recognition Data Structures Also Freeman pp 315 CaTMULL E An Analytic Visible Surface Algo rithm Independent Pixe Processing proceed ings SIGGRAPH Computer Graphics pp 115 CHAZELLE B AND J INCERPI Triangulation atl Shape Complexity ACM Transactions Graphics pp 152 Cuen M S J MOUNTFURD AND A SELLEN A Study Interactive 3D Rotation Using 2D Control Devices proceedings SIGGRAPH Computer Graphics pp 130 Cuen S E H E RUSHMEIER G MILLER ET AL A Progressive Multi Pass Method Global Ilumina tion proceedings SIGGRAPH Computer Graphics pp 174 CHIN N AND S FEINER Near Real Time Shadow Generation Using BSP Trees proceedings SIG GRAPH Computer Graphics pp 106 CHUANG R AND G ENTIS D Shaded Computer Animation Step Step EEE Computer Graphics Applications pp 25 CHUNG J C ET AL Exploring Virtual Worlds Head Mounted Visual Displays Proceedings SPiE Meeting Non Holographic True Dimensional Display Technologies January pp 20 CLARK J H The Geometry Engine A VLSI Georm etry System Graphics proceedings SIG GRAPH Computer Graphics pp 133 Couen M F AND D P GREENBERG The Hemi Cube A Radiosity Solution Complex Environ ments proceedings SIGGRAPH Computer Graphics pp 40 COHEN M F S E CHEN J R WALLACE ET AL A Progressive Refinement Approach Fast Radiosity Image Generation proceedings SIGGRAPH Computer Graphics pp 84 COHEN M F AND J R WALLAC Radtosity Realis inc Image Synthesis Academic Press Boston MA Cook R L AND K E TorraNcr A Reflectance Model Computer Graphics ACM Transactions Graphics pp 24 Cook R L T PorTER AND L CARPENTER Distrib uted Ray Tracing proceedings SIGGRAPH Computer Graphics pp 145 Cook R L Shade Trees proceedings af SIG GRAPH Computer Graphics pp 231 Cook R L Stochastic Sampling Computer Graphics ACM Transactions Graphics pp 72 Coon R L L Carpenter aso EB Carmutt The Reyes Image Rendering Architecture proceedings SIGGRAPH Computer Graphics pp 102 CoouUILLART S AND P JANCENE Animated Free Form Deformation An Interactive Animation Tech nique proceedings SIGGRAPH Computer Graphics pp 26 Crow F C The Ahasing Problem Computer Synthesizec Shaded Images CACM pp 805 Crow F C Shadow Algorithms Computer Graphics proceedings SIGGRAPH Computer Graphics pp 248 Crow F C The Lise Grayscale Improved Raster Display Vectors Characters proceed ings SIGGRAPH Computer Graphics pp Crow FC A Comparison Antialiasing Tech niques EEE Computer Graphics Applications pp 49 Crow F C A More Flexible Image Generation En vironment proceedings SIGGRAPH Com puter Graphics pp 18 Cruz Neira C D J SANDIN AND T A DEFANTI Surround Screen Projection Based Virtual Reality The Design Implementatior CAVE proceed ings SIGGRAPH Computer Graphics Proceedings pp 142 CUNNINGHAM S N K CRAIGHILL M W FONG ET AL ED Computer Grapincs Using Object Oriented Pro gramming John Wiley Sons New York CuTLer E D GILLY AND T O ReIuty ED Tue X Win dow System Nutshell Second Edition O Reilly Assoc Inc Sebastopol CA Cyrus M AND J Beck Generalized Two Three Dimensional Clipping Computers Graph ics pp 28 Day A M The Implementation Algorithm Find Convex Hull Set Three Dimensional Points ACM Transactions Graphics pp 132 De Reerve P C EDELIN J FRANCON ET aL Plant Models Faithful Botanical Structure Develop ment proceedings SIGGRAPH Computer Graphics pp 158 DEERING M High Resolution Virtual Reality proceedings SIGGRAPEL Computer Graphics pp 202 DEERING M F AND S R NELSON Leo A System Cost Effective 3D Shaded Graphics proceedings ot SIGGRAPH Computer Graphics Proceedings pp 108 Demko S L HODGES AND B NAYLOR Construction Fractal Objects Iterated Function Systems proceedings SIGGRAPH Computer Graphics pp 278 Derr S W aND W E Howarp Flat Panel Dis plays Scientific American pp 97 DeRose T D Geometric Continuity Shape Para meters Geometric Constructions Catmull Rom Splines ACM Transactions Graphics pp 41 DicivaL EQUIPMENT Corp Digital Equipment Cor poration XUI Style Guide Maynard MA Dirre M AND J SWENSEN An Adaptive Subdivi sion Algorithm Parallel Architecture Realistic Image Synthesis proceedings SIGGRAPH Computer Graphics pp 158 Doskin D L Gurpas J HERSHBERGER ET AL An Efficiert Algorithm Finding CSG Representation Simple Polygon proceedings SIGGRAPH Computer Graphics pp 40 Doctor L J AND J G TORBERG Display Tech niques Octree Encoded Objects IEEE Computer Graphics Applications pp 38 Dorsey J O FX SILLION AND D P GREENBERG Design Simulation Opera Lighting Projec tion Effects proceedings SIGGRAPH Cont puter Graphics pp 50 Dresin R A L CARPENTER AND P HANRAHAN Volume Rendering proceedings SIGGRAPH Computer Graphics pp 74 Durr T Compositing 3D Rendered Images proceedings SIGGRAPH Computer Graphics pp 44 DurerETT H J ED Color Computer Academic Press Boston DUVANENKO V Improved Line Segment Clipping Dr Dobb Journal July DYER S AND S WHITMAN A Vectorized Scan Line Z Buffer Rendering Algorithm IEEE Computer Graph ics Applications pp 45 Dyer S A Dataflow Toolkit Visualization IEEE Computer Graphics Applications pp 69 EarNsHaw R A ED Fundamental Algorithms Computer Graphics Springer Verlag Berlin EDFISBRUNNER H Algorithms Computational Geometry Springer Verlag Berlin EDELSBRUNNER H AND E P MUCKE Simulation Simplicity A Technique Cope Degenerate Cases Geometric Algorithms ACM Transactions Graph ics pp 104 ELBER G AND E COHEN Hidden Curve Removal Free Form Surfaces proceedings SIGGRAPH Computer Graphics pp 104 ENDERLE G K KANSY AND G PFAFF Computer Graphics Programming GKS The Graphics Standard Springer Verlag Berlin Farin G Curves Surfaces Computer Aided Geo metric Design Academic Press Boston MA Farouk R T AND J K Hinps A Hierarchy Geo metric Forms IEEE Computer Graphics Applications pp 78 FEDER J Fractals Plenum Press New York FEINER S S Nacy AND A VAN Dam An Experi mental System Creating Presenting Interactive Graphical Documents ACM Transactions Graphics pp 77 FeRWERDA J A AND D P GREENBERG A Psy chophysical Approach Assessing Quality An tialiased Images IEEE Computer Graphics Applica tons pp 95 FisHKIN K P AND B A Barsky A Family New Algorithms Soft Filling proceedings SIG GRAPH Computer Graphics pp 244 Fume E L The Mathematical Structure Raster Graphics Academic Press Boston Fotey J D V L WALLACE AND P CHAN The Human Factors Computer Graphics Interaction Tech niques IEEE Computer Graphics Applications 11 pp 48 Fotey J D Interfaces Advanced Computing Scientific American pp 135 Fotey J D A VAN Dam K FEINER ET AL Com puter Graphics Principles Practice Addison Wesley Reading MA Fournier A D FUSSEL AND L CARPENTER Com puter Rendering Stochastic Models CACM pp 384 Fournier A AND D Y MONTUNO Triangulating Simple Polygons Equivalent Problems ACM Transactions Graphics pp 174 FOURNIER A AND W T REEVES A Simple Model Ocean Waves proceedings SIGGRAPH Com puter Graphics pp 84 FOURNIER A AND D FUSSELL On Power Frame Buffer ACM Transactions Graphics pp 128 FOURNIER A AND E Fiume Constant Time Filtering Space Variant Kernels proceedings SIG GRAPH Computer Graphics pp 238 Fow er D R H MEINHARDT AND P PRUSINKIEWICZ Modeling Seashells proceedings SIGGRAPH Computer Graphics pp 387 Fox D AND M WalITE Computer Animation Primer McGraw Hill New York Francis G K A Topological Picturebook Springer Verlag New York FRANKLIN W R AND M S KANKANHALLI Parallel Object Space Hidden Surface Removal proceedings SIGGRAPH Computer Graphics pp 94 FREEMAN H eb Tutorial Selected readings In teractive Computer Graphics IEEE Computer Society Press Silver Springs MD FRENKEL K A Volume Rendering CACM pp 435 FRieDER G D GORDON AND R A REYNOLD Back Front Display Voxel Based Objects EEE Com puter Graphics Applications pp 60 FRIEDHOFF R M AND W BENZON The Second Com puter Revolution Visualization Harry N Abrams Inc New York Fucus H S M PIZer E R HEINZ S H BLoOMBER L Tsai AND D C STRICKLAND Design Lmage Editing Space Filling Three Dimensional Display Based Standard Raster Graphics System Proceed ings SPIE August pp 127 Fucus H Poutton J EYLes ET Pixel Planes A Heterogeneous Multiprocessor Graphics System Using Processor Enhanced Memories proceedings SIGGRAPH Computer Graphics pp 88 Fujimoto A ano K Iwata Jag Free Images Raster Displays EEE Computer Graphics Applica _ Hons pp 34 FUNKHOUSER T A AND C H SEQUIN Adaptive Dis play Algorithms Interactive Frame Rates During Vi sualizatior Complex Virtual Environments pro ceedings SIGGRAPH Computer Graphics Proceedings pp 254 GALYEAN T A AND J F HucHes Sculpting An In teractive Volumetric Modeling Technique proceed ings SIGGRAPH Computer Graphics pp 274 GaRDNER G Y Visual Simulation Clouds proceedings SIGGRAPH Computer Graphics pp 304 GascueL M P An Implicit Formulation Pre cise Contact Modeling Flexible Solids pro ceedings SIGGRAPH Computer Graphics pp 320 GaskINS T PHIGS Programming Manual O Reilly Associates Sebastopo CA GHARACHORLOO N S Gupta R F SPROULL ET AL A Characterization Ten Rasterization Algorithms proceedings SIGGRAPH Computer Graphics pp 368 GirarD M Interactive Design 3D Computer Animated Legged Animal Motion EEE Computer Graphics Applications pp 51 GLASSNER A S Space Subdivision Fast Ray Tracing EFF Compuier Graphics Applications pp 22 GLASsNER A S Adaptive Precision Texture Mapping proceedings SIGGRAPH Computer Grapltics pp 306 GLASSNER A S Spacetime Ray Tracing Anima tion IEEE Computer Graphics Applications pp 70 GLASSNER A S ED An Introduction Ray Tracing Academic Press San Diego CA GLASSNER A ED Graphics Gems Academic Press San Diego CA GLASSNER A S Geometric Substitution A Tutor jal IEEE Computer Graphics Applications pp 36 GLASSNER A S Principles Digital Image Synthesis Morgan Kaufmann Inc New York GLEICHER M AND A WITKIN Through Lens Camera Control proceedings SIGGRAPH Computer Graphics pp 349 GOLDSMITH J AND J SALMON Automatic Creation Object Hierarchies Ray Tracing IEEE Computer Graphics Applications pp 20 GONZALEZ R C AND P WINT2 Digital Image Process ing Addison Wesley Reading MA Goop D M J A WHITESICE D R WIxXoN AND S J Janes Building A User Derived Interface CACM 10 pp 1042 GoopMan T AND R SPENCE The Effect System Response Time Interactive Computer Aided Prob lem Solving proceedings SIGGRAPH Com puter Graphics pp 104 Gora C M K E ToRRANCE D P GREENBERG ET AL Modeling Interaction Light Between Dif fuse Surfaces proceedings SIGGRAPH Com puter Graphics pp 222 Goxvon D AND S CHEN Fron Back Display BSP Trees JEEE Computer Graphics Applications pp 85 Gorter J P SCHRODER MF COHEN ET AL Wavelet Radiosity proceedings SIGGRAPH Camputer Graphics Proceedings pp 230 GREEN M The University Alberta User Interface Management System proceedings SIGGRAPH Camputer Graphics pp 214 GREENE N M Kass AND G MILLER Hierarchical Z Buffer Visibility proceedings SIGGRAPH Computer Graphics Proceedings pp 238 Hareeru P AND K AKELLY The Accumulation Buffer Hardware Support High Quality Render ing proceedings SIGGRAPH Computer Graph ics pp 318 HAHN J K Realistic Animation Rigid Bodies proceedings SIGGRAPH Computer Graphics pp 308 HALL R A AND D P GREENBERG A Testbed Re alistic Image Synthesis 1EFE Computer Graphics Applications pp 20 Hatt R Hiemmation ami Color Computer Gener ated Imagery Springer Verlag New York HANRAHAN P Creating Volume Models Edge Vertex Graphs proceedings SIGGRAPH Computer Graphics pp 84 HANRAHAN P AND J LAWSON A Language Shading Lighting Calculations proceedings SIGGRAPH Computer Graphics pp 298 Hart J C D J SANDIN AND L H KAUFFMAN Ray Tracing Deterministic 3D Fractals proceedings SIGGRAPH Computer Graphics pp 296 Hart J C T A DEFANTI Efficient Antialiased Rendering D Linear Fractals proceedings SIGGRAPH Computer Graphics pp 100 HE X D P O HEYNEN R L PHILLIPS ET AL A Fast Accurate Light Reflection Model proceedings SIGGRAPH Computer Graphics pp 254 HEARN D AND P Baker Scientific Visualization An Introduction Eurographics Technical Report Se ries Tutorial Lecture HECKBERT P Color Image Quantization Frame Buffer Display proceedings SIGGRAPH Com puter Graphics pp 307 HECKBERT P AND P HANRAHAN Beam Tracing Polygonal Objects proceedings SIGGRAPH Computer Graphics pp 127 Hopcoop FR A D A Duce J R GALLOP ET AL Introduction Graphical Kernel System GKS Acadc mic Press London Hopcoon FR A AND D A Duce A Primer PHIGS John Wiley Sons Chichester England Hope H T DEROSE T MCDONALD ET AL Mesh Optimization proceedings SIGGRAPH Com puter Graphics Proceedings pp 26 Howarp T L J W T Hewrrt R J HUBBOLD ET ac A Practical Introduction PHIGS PHIGS Plus Addi son Wesley Wokingham England HuGues J F Scheduled Fourier Volume Morph ing proceedings SIGGRAPH Computer Graph ics pp 46 Hurrric H AND M Nanas B Spline Surfaces A Tool Computer Painting IEEE Computer Graphics Applications pp 47 Tkebo T High Speed Techniques D Color Graphics Terminal FEE Computer Graphics Appli cations pp 58 IMMEL D S M FE COHEN AND D P GREENBERG A Radiosity Method Non Diffuse Environments proceedings SIGGRAPH Computer Graphics pp 142 Isaacs P M AND M F COHEN Controlling Dv namic Simulation Kinematic Constraints Behavior Functions Inverse Dynamics proceedings SIGGRAPH Computer Graphics pp 224 Jarvis J FC N Jupice aND W H NINKE A Sur vey Techniques Image Display Continuous Tone Pictures Bilevel Displays Computer Graphic Image Processing pp 40 JOHNSON S A Clinical Varifocal Mirror Display System University uf Utah Proceedings SPIE August pp 148 Kanrya J T New Techniques Ray Tracing Pro cedurally Defined Objects ACM Transactions Graph ies pp 181 Kaliya J T The Rendering Equation proceed ings SIGGRAPH Computer Graphics pp 150 Kayrva J T AND T L Kay Rendering Fur Three Dimensional Textures proceedings SIG GRAPH Computer Graphics pp 280 Kappet M R An Ellipse Drawing Algorithm Faster Displays Fundamental Algorithms Com puter Graphics Springer Verlag Berlin pp 280 Karasick M D LIEBER AND L R NACKMAN Effi cient Delaunay Triangulation Using Rational Arith metic ACM Transactions Graphics pp 91 Kass M CONDOR Constraint Based Dataflow proceedings SIGGRAPH Computer Graphics pp 330 Kasson J M AND W PLourFE An Analysis Se jected Computer Interchange Color Spaces ACM Transactions Graphics pp 405 KaurMan A Efficient Algorithms 3D Scan Conversion Parametric Curves Surfaces Vol umes proceedings SIGGRAPH Computer Graphics pp 179 KawaGucHl Y A Morpholog cal Study Form Nature proceedings SIGGRAPH Computer Graphics pp 232 Kay T L anp J T Kana Ray Tracing Complex Scenes proceedings SIGGRAPH Computer Graphics pp 278 Kay D C AND J R Levine Grapltics File Formats Windcrest McGraw Hill New York Kasey A D M C Matin ann G M NIELSON Terrain Simulation using Model af Stream Erosion proceedings SIGGRAPH Computer Graphics pp 264 Ken J R WOE CARLSON AND R E PARENT Shape Transformation Polyhedral Objects proceedings SIGGRAPH Computer Graphics pp 54 Kirk D aND J Arvo Unbiased Sampling Tech niques Image Synthesis proceedings SIG GRAPH Computer Graphics pp 156 Kirk D ED Graphics Gems Hl Academic Press San Diego CA Knutu D E Digital Halftones Dot Diffusion ACM Transactions Graphics pp 273 Kocuanek D H U ano R H Bartets Interpolat ing Splines Local Tension Continuity Bias Control proceedings SIGGRAPH Contputer Graphics pp 41 Kon E K anD D HEARN Fast Generation Sur face Structuring Methods Terrain Other Natural Phenomena proceedings Eurographs Com puter Graphics Forum pp C 180 Korien J U AND N BADLER Techniques Gen erating Goal Directed Motion Articulated Struc tures IEEE Computer Graphics Applications pp 81 KOREN J U AND N I BADLER Temporal antialias ing Computer Generated Animation proceed ings SIGGRAPH Computer Graphics pp 388 Lasseter J Principles Traditional Animation Applied 3D Computer Animation proceedings SIGGRAPH Computer Graphics pp 44 Laur D AND P HANRAHAN Hierarchical Splatting A Progressive Refinement Algorithm Volume Ren dering proceedings SIGGRAPH Computer Graphics pp 288 LaurEL B The Art Human Computer Interface De sign Addision Wesley Reading MA Lee M E R A REDNER AND P USELTON Statisi cally Optimized Sampling Distributed Ray Tracing proceedings SIGGRAPH Computer Graphics pp 68 LEVINTHAL A AND T PORTER CHAP A SIMD Graphics Processor proceedings SIGGRAPH Computer Graphics pp 82 Lzvoy M Display Surfaces Volume Data IEEE Computer Graphics Applications pp 37 Levoy M A Hybrid Ray Tracer Rendering Polygon Volume Data IEEE Computer Craphics Applications pp 40 Lewss J P Algorithms Solid Noise Synthesis proceedings SIGGRAPH Computer Graphics pp 270 Lian Y D 4NnD B A BARSKy An Analysis Al gorithm Polygon Clipping CACM 11 pp 877 LIANG Y D AND B A Barsky A New Concept anc Method Line Clipping ACM Transactions Graph ics pp 22 Lien S L M SHANTZ AND V PRaTT Adaptive For ward Differencing Rendering Curves Surfaces proceedings SIGGRAPH Computer Graphics pp 118 LINDLEY C A Practical Ray Tracing C John Wiley Sons New York LISCHINSKI D F TAMPIERI AND D P GREENBERG Combining Hierarchical Radiosity Discontinuity Meshing proceedings SIGGRAPH Computer Graphics pp 208 Latwinowicz P C Inkwell A D Animation System proceedings SIGGRAPH Computer Graphics pp 122 LODDING K N Iconic Interfacing IEEE Computer Graphics Applications pp 20 Loxe T S D Tan H S SEAH ET AL Rendering Fireworks Displays EEE Computer Graphics Appli cations pp 43 Loomis J H Poizner U BELLUGI ET AL Computer Graphic Modeling American Sign Language pro ceedings SIGGRAPH Computer Graphics pp 114 LORENSON W E AND H CLINE Marching Cubes A High Resolution 3D Surface Construction Algorithm proceedings SIGGRAPH Camputer Graphics pp 169 MACcKINLAy J D S K CARD AND G G ROBERTSON Rapid Controlled Movement Through Virtual 3D Workspace SIGGRAPH pp 176 MACKINLAY D G G ROBERTSON AND S K Carp The Perspective Wall Detail Context Smoothly In tegrated CHI pp 179 MAGNENAT THALMANN N AND D THALMANN Com puter Animation Theory Practice Springer Verlag Tokyo MAGNENAT THALMANN N AND D THALMANN Image Synthesis Springer Verlag Tokyo MAGNENAT THALMANN N AND D THALMANN Complex Models Animating Synthetic Actors IEEE Computer Graphics Applications pp 45 MANDELBROT B B Fractals Form Chance Di mension Freeman Press San Francisco MANDELBROT B B The Fractal Geometry Nature Freeman Press New York Mantyta M An Introduction Solid Modeling Computer Science Press Rockville MD Max N L AND D M LERNER A Two Half D Motion Blur Algorithm proceedings SIGGRAPH Computer Graphics pp 94 Max N L Atmospheric Illumination Shad ows proceedings SIGGRAPH Computer Graphics pp 124 Max N L Cone Spheres proceedings SIG GRAPH Computer Graphics pp 62 Metaxas D AND D TERZOPOULOS Dynamic Defor mation Solid Primitives Constraints pro ceedings SIGGRAPH Computer Graphics pp 312 Mever G W H E RUSHMEIER M F COHEN ET AL An Experimental Evaluation Computer Graphics Imagery ACM Transactions Graphics pp 50 Mever G W AND D P GREENBERG Color Defective Vision Computer Graphics Displays IEEE Com puter Graphics Applications pp 40 Meyers D S SKINNER AND K SLOAN Surfaces Contours ACM Transactions Graphics pp 258 MILLER G P The Motion Dynamics Snakes Worms proceedings SIGGRAPH Com puter Graphics pp 178 MILLER J V D E BREEN W E LORENSON ET AL Geometrically Deformed Models A Method Ex tracting Closed Geometric Models Volume Data proceedings SIGGRAPH Computer Graphics pp 226 MITCHELL D P Spectrally Optimal Sampling Distribution Ray Tracing proceedings SIC GRAPH Computer Graphics pp 165 MrTcHELL D P AND P HANRAHAN Mlumination Curved Reflectors proceedings SIGGRAPH Computer Graphics pp 291 Mrvata K A Method Generating Stone Wall Patterns proceedings SIGGRAPH Computer Graphics pp 394 MoLnakr S J EYLES AND J POULTON PixelFlow High Speed Rendering Using Image Composition proceedings SIGGRAPH Computer Graphics pp 240 Moon F C Chaotic Fractal Dynamics John Wiley Sons New York Moore M AND J WILHELMS Collision Detection ad Response Computer Animation proceed ings SIGGRAPH Computer Graphics pp 298 MORTENSON M E Geometric Modeling John Wiley Sons New York Murai Volumetric Shape Description Range Data Using Blobby Model proceedings SIG GRAPH Computer Graphics pp 235 Muscrave F K C E KOLB AND R S MAcE The Synthesis Rendering Eroded Fractal Terrains proceedings SIGGRAPH Computer Graphics pp 50 Myers B A AND W BUXTON Creating High Inter active Graphical User Interfaces Demonstra tion proceedings SIGGRAPH Computer Graphics pp 258 NayLor B J AMANATIDES AND W THIBAULT Merg ing BSP Trees Yields Polyhedral Set Operations pro ceedings SIGGRAPH Computer Graphics pp 124 Newman W H A System Interactive Graphi cal Programming SJCC Thompson Books Washington D C pp 54 Newman W H AND R F SPROULL Principles Inter active Computer Graphics McGraw Hill New York No J T AND J Marks Spacetime Constraints Re visited proceedings SIGGRAPH Computer Graphics pp 350 NICHOLL T M D T LEE AND R A NICHOLL An Efficient New Algorithm 2D Line Clipping Its De velopment Analysis proceedings SIG GRAPH Computer Graphics pp 262 NIELSON G M B SHRIVER AND L ROSENBLUM ED Visualization Scientific Computing EEE Computer So ciety Press Los Alamitos CA Nietson G M Scattered Data Modeling IEEE Computer Graphics Applications pp 70 Nishimura H Object Modeling Distribution Function Method Image Generation Journal Electronics Comm Conf J68 pp 725 Nisa T AND E NaAKAMAE Continuous Tone Representation Three Dimensional Objects Ilumi nated Sky Light proceedings SIGGRAPH Computer Graphics pp 132 Niseaa T T SIRAL K TADAMURA ET AL Display Earth Taking Account Atmospheric Scattering proceedings SIGGRAPH Computer Graphics Proceedings pp 182 Norton A Generation Display Geometric Fractals D proceedings SIGGRAPH Computer Graphics pp 67 NSF INVITATIONAL WORKSHOP Research Directions Virtual Environments Computer Graphics pp 177 Oxase H H IMAoKa T TOMIHA ET AL Three Dimensional Apparel CAD System proceedings SIGGRAPH Computer Graphics pp 110 OPENGL ARCHITECTURE REVIEW BOARD OpenGL Pro gramming Guide Addision Wesley Reading MA OPPENHEIMER P E Real Time Design Anima tion Fractal Plants Trees proceedings SIG GRAPH Computer Graphics pp 64 OSF Motir OSF Motif Style Guide Open Software Foundation Prentice Hall Englewood Cliffs NJ PAINTER J AND K SLOAN Antialiased Ray Tracing Adaptive Progressive Refinement proceedings SIGGRAPH Computer Graphics pp 288 Pano A T Line Drawing Algorithms Parallel Machines IEEE Computer Graphics Applications pp 59 Pavirois T Algorithms For Graphics Image Pro cessing Computer Science Press Rockville MD Pavurpis T Curve Fitting Conic Splines ACM Transactions Graphics pp 31 Pacey D R Modeling Waves Surf pro ceedings SIGGRAPH Computer Graphics pp 74 PerrGen H O AND P H RICHTER The Beauty Frac tals Springer Verlag Berlin Perrrcen H AND D SAuPe ED The Science Frac tal Images Springer Verlag Berlin PENTLAND A AND J WILLIAMS Good Vibrations Modal Dynamics Graphics Animation pro ceedings SIGGRAPH Computer Graphics pp 222 Peruin K ann E M Horrerr Hypertexture proceedings SIGGRAPH Computer Graphics pp 262 Puiturs R L A Query Language Network Data Base Graphical Entities proceedings SIGGRAPH Computer Graphics pp 185 PHONG B T Iltumination Computer Generated Images CACM pp 317 Pinepa J A Parallel Algorithm Polygon Ras terization proceedings SIGGRAPH Computer Graphics pp 20 Prreway M L V AND D J WATKINSON Bresen ham Algorithm Gray Scale CACM 11 pp 626 Piatt J C AND A H Barr Constraint Methods Flexible Models proceedings SIGGRAPH Computer Graphics pp 288 Porter T T DuFF Compositing Digital Im ages proceedings SIGGRAPH Computer Graphics pp 259 Potmesil M AND CHAKRAVARTY Synthetic Image Generation Lens Aperture Camera Model ACM Transactions Graphics pp 108 PorMEsiL M AND IL CHAKRAVARTY Modeling Mo tion Blur Computer Generated Images proceed ings SIGGRAPH Computer Graphics pp 399 PoTmesiL M AND E M HorFerT FRAMES Soft ware Tools Modeling Rendering Animation 3D Scenes proceedings SIGGRAPH Computer Graphics pp 93 PoTMESIL M aND E M HOFFerT The Pixel Ma chine A Parallel Image Computer proceedings SIGGRAPH Computer Graphics pp 78 Pratt W K Digital Image Processing John Wiley Sons New York PREPARATA F P AND M_ I SHAMOS Computational Geometry Springer Verlag New York Press W H A TEUKOLSKY W T VETTERLING ET Al Numerical Recipes C Cambridge University Press Cambridge England PRUSINKIEWICZ P M S HAMMEL AND E MJOLSNESS Animation Plant Development proceedings SIGGRAPH Computer Graphics Proceedings pp 360 Pruyn P W AND D P GREENBERG Exploring 3D Computer Graphics Cockpit Avionics IEEE Cam puter Graphics Applications pp 35 Quek L H anp D HEARN Efficient Space Subdi vision Methods Ray Tracing Algorithms Univer sity lllinois Department Computer Science Report UIUCDCS R RalBERT M H AND J K HODGINS Animation Dy namic Legged Locomotion proceedings SIG GRAPH Computer Graphics pp 358 Reeves W T Particle Systems A Technique Modeling Class Fuzzy Objects ACM Transactions Graphics pp 108 Reeves W T Particle Systems A Technique Modeling Class Fuzzy Objects proceedings SIGGRAPH Computer Graphics pp 376 Reeves W T AND R BLau Approximate Prob abilistic Algorithms Shading Rendering Struc tured Particle Systems proceedings SIGGRAPH Computer Graphics pp 321 Reeves W T D H SALESIN AND R L CooK Ren dering Antialiased Shadows Depth Maps pro ceedings SIGGRAPH Compuier Graphics pp 291 REQUICHA A A G AND J R ROSSIGNAC Solid Mod eling Beyond IEEE Computer Graphics Applica tions pp 44 Reynowps C W Computer Animation Scripts Actors proceedings SIGGRAPH Com puter Graphics pp 296 REYNOLDS C W Flocks Herds Schools A Distributed Behavioral Model proceedings SIG GRAPH Computer Graphics pp 34 RIESENFELD R F Homogeneous Coordinates Projective Planes Computer Graphics IEEE Com puter Graphics Applications pp 55 ROBERTSON P K Visualizing Color Gamuts A User Interface Effective Use Perceptual Color Spaces Data Displays EEE Computer Graphics Applications pp 64 ROBERTSON G G J D MACKINLAY AND S K Carb Cone Trees Animated 3D Visualizations Hierarchi cal Information CHI pp 194 Rocerrs D F AND R A EARNSHAW ED Techniques Computer Graphics Springer Verlag New York Rocers D F AND J A ADAMS Mathematical Elements Computer Graphics McGraw Hill New York ROSENTHAL D S H ET AL The Detailed Semantics Graphics Input Devices proceedings SIG GRAPH Computer Graphics pp 38 Rusine D Specifying Gestures Example proceedings SIGGRAPH Computer Graphics pp 337 RUSHMEIER H AND K Torrance The Zonal Method Calculating Light Intensities Presence Participating Medium proceedings SIG GRAPH Computer Graphics pp 302 RUSHMEIER H E AND K E TORRANCE Extending Radiosity Method Include Specularly Reflecting Translucent Materials ACM Transactions Graph ics pp 27 SABELLA P A Rendering Algorithm far Visualizing 3D Scalar Fields proceedings SIGGRAPH Computer Graphics pp 58 Sasin M A Contouring The State Art Fundamental Algorithms Computer Graphics R A Earnshaw ed Springer Verlag Berlin pp 482 Sa rsin D AND R BARZEL Adjustable Tools An Object Oriented Interaction Metaphor ACM Transac tions Graphics pp 107 Samet H AND R E WesBeR Sorting Collection Polygons using Quadtrees ACM Transactions Graph fes pp 222 SAMET H AND M TAMMINEN Bintrees CSG Trees Time proceedings SIGGRAPH Computer Graphics pp 130 SaMET H AND R E WEBBER Hierarchical Data Structures Algorithms Computer Graphics Part IEEE Computer Graphics Applications pp 75 Samer H AND R E WesBER Hierarchical Data Structures Algorithms Computer Graphics Part IEEE Computer Graphics Applications pp 68 SCHEIFLER R W AND J GETTYS The X Window Sys tem ACM Transactions Graphics pp 109 SCHOENEMAN C J Dorsey B Smits ET AL Global Wumination proceedings SIGGRAPH Com puter Graphics Proceedings pp 146 SCHRODER P AND P HANRAHAN On Form Fac tor Between Two Polygons proceedings SIG GRAPH Computer Graphics Proceedings pp 164 ScHwaRrtTz M W W B Cowan AND J C Beatty An Experimental Comparison RGB YIQ LAB HSV Opponent Color Models ACM Transactions Graphics pp 158 SEDERBERG T W AND E GREENWOOD A Physically Based Approached D Shape Bending proceed ings SIGGRAPH Computer Graphics pp 34 SEDERBERG T W P GAO G WANG ET AL 2D Shape Blending An Intrinsic Solution Vertex Path Prob lem proceedings SIGGRAPH Computer Graphics Proceedings pp 18 SEGAL M Using Tolerances Guarantee Valid Polyhedral Modeling Results proceedings SIG GRAPH Computer Graphics pp 114 SEGAL M C Koropiin R VAN WIDENFELT ET AL Fast Shadows Lighting Effects Using Texture Map ping proceedings SIGGRAPH Computer Graphics pp 252 SEQUIN C H AND E K Smyei Parameterized Ray Tracing proceedings SIGGRAPH Computer Graphics pp 314 SHERR S Electronic Displays John Wiley Sons New York SHILLING A AND W STRASSER EXACT Algorithm Hardware Architecture Improved A Buffer proceedings SIGGRAPH Computer Graphics Proceedings pp 92 SHIRLEY P A Ray Tracing Method Illumination Calculation Diffuse Specular Scenes Graphics Inter face pp 212 SHNEIDERMAN B Designing User interface Addi son Wesley Reading MA SHOEMAKE K Animating Rotation Quater nion Curves proceedings SIGGRAPH Com puter Graphics pp 254 SIBERT J L W D HURLEY AND T W BLESER An Ob ject Oriented User Interface Management System proceedings SIGGRAPH Computer Graphics pp 268 SILLION F X AND C PuecH A General Two Pass Method Integrating Specular Diffuse Reflection proceedings SIGGRAPH Computer Graphics pp 344 SILLION F X J R ARVO S H WESTIN ET AL A Global Ilumination Solution General Reflectance Distributions proceedings SIGGRAPH Com puter Graphics pp 196 Sms K Particle Anmation Rendering Using Data Parallel Computation proceedings SIG GRAPH Computer Graphics pp 413 Sims K Artificial Evolution Computer Graph ics proceedings SIGGRAPH Computer Graph ics pp 328 SINGH B J C BEATTY K S BOOTH ET AL A Graph ics Editor Benesh Movement Notation proceed ings SIGGRAPH Computer Graphics pp 62 Situ A R Color Gamut Transform Pairs Com puter Graphics pp 19 Smirn A R Tint Fill Computer Graphics pp 283 SmiTH A R Plants Fractals Formal Lan guages proceedings SIGGRAPH Computer Graphics pp 10 SMITH R B Experiences Altemate Reality Kat An Example Tension Between Literalism Magic IEEE Computer Graphics Applications pp 50 Smitn A R Planar Pass Texture Mapping Warping proceedings SIGGRAPH Computer Graphics pp 272 Sits B E J R ARVO AND D H SALESIN An Im portance Driven Radiosity Algorithm proceedings SIGGRAPH Computer Graphics pp 282 SNYDER J M anD J T Kajiva Generative Model ing A Symbolic System Geometric Modeling proceedings SIGGRAPH Computer Graphics pp 378 SNYDER J M A R Woopwury K FLEISCHER ET AL Interval Method Multi Point Collisions Time Dependent Curved Surfaces proceedings SIGGRAPH Computer Graphics pp 334 SPROULL R F aND I E SUTHERLAND A Clipping Di vider AFIPS Falt Joint Computer Conference Stam J ANNE Fume Turbulent Wind Fields Gaseous Phenomena proceedings SIGGRAPH Computer Graphics Proceedings pp 376 STETINER A AND D P GREENBERG Computer Graphics Visualization Acoustic Simulation pro ceedings SIGGRAPH Computer Graphics pp 206 STRASSMANN S Hairy Brushes proceedings SIGGRAPH Computer Graphics pp 232 Strauss P S AND R Carey An Object Oriented 3D Graphics Toolkit proceedings SIGGRAPH Computer Graphics pp 349 Sune H C K G RoGers aND W J Kusitz A Crit ical Evaluation PEX IEEE Computer Graphics Ap plications pp 75 SUTHERLAND I E Sketchpad A Man Machine Graphical Communication System AFTPS Spring Joint Computer Conference pp 346 SUTHERLAND E R F SPROULL AND R SCHUMACKER A Characterization Ten Hidden Surface Al gorithms ACM Computing Surveys pp 55 SUTHERLAND I E AND G W HopoGMaN Reentrant Polygon Clipping CACM pp 42 Swezey R W AND E G Davis A Case Study Human Factors Guidelines Computer Graphics IEEE Computer Graphics Applications pp 30 TAKALA T AND J HAHN Sound Rendering pro ceedings SIGGRAPH Computer Graphics pp 220 TANNAS J LAWRENCE E ED Flat Panel Displays ana CRTs Van Nostrand Reinhold Company New York TELLER S AND P HANRAHAN Global Visibility Al gorithms umination Computations proceed ings SIGGRAPH Computer Graphics Proceedings pp 246 TERZOPOULOS D J PLatt A H BARR ET AL Elasti cally Deformable Models proceedings SIG GRAPH Computer Graphics pp 214 THALMANN D Ep Scientific Visualization Graph ics Simulation John Wiley Sons Chichester England TuIBauLt W C AND B F NAYLOR Set Operations Polyhedra using Binary Space Partitioning Trees proceedings SIGGRAPH Computer Graphics pp 162 TORBERG J G A Parallel Processor Architecture Graphics Arithmetic Operations proceedings SIGGRAPH Computer Graphics pp 204 TORRANCE K E ann E M SPARROW Theory Off Specular Reflection Roughened Surfaces Optical Society America pp 1114 Travis D Effective Color Displays Academic Press London Ture E R The Visual Display Quantitative Infor mation Graphics Press Cheshire CN Turre E R Envisioning Information Graphics Press Cheshire CN Turkowskl K Antialiasing Through Use ot Coordinate Transformations ACM Transactions Graphics pp 234 Upson C AND M KEELER VBUFFER Visible Vol ume Rendering proceedings SIGGRAPH Computer Graphics pp 64 Upson C T FAULHABER JR D KAMINS ET AL The Application Visualization System A Computational En vironment Scientific Visualization IEEE Computer Graphics Applications pp 42 Upstitt S The RenderMan Companion Addison Wesley Reading MA VAN DE PANNE M AND E FiuMe Sensor Actuator Networks proceedings SIGGRAPH Computer Graphics Proceedings pp 342 VAN WIk J J Spot Noise Texture Synthesis Data Visualization proceedings SIGGRAPH Computer Graphics pp 318 VEENSTRA J AND N AHUJA Line Drawings Octree Represented Objects ACM Transactions Graphics pp 75 VELHO L AND J D M Gomes Digital Halftoning Space Filling Curves proceedings SIG GRAPH Computer Graphics pp 90 Von HERZEN B A H BARR AND H R Zatz Geo metric Collisions Time Dependent Parametric Sur faces proceedings SIGGRAPH Computer Graphics pp 48 WaLLace V L The Semantics Graphic Input Devices proceedings SIGGRAPH Computer Graphics pp 65 WALLACE J R K A ELMQUIST AND E A HAINES A Ray Tracing Algorithm Progressive Radiosity proceedings SIGGRAPH Computer Graphics pp 324 WaANGER L R J A FERWERDA AND D P GREENBERG Perceiving Spatial Relationships Computer Gener ated Images IEEE Compuler Graphics Applications pp 58 Wart C Color Sequences Univariate Maps Theory Experiments Principles IEEE Computer Graphics Applications pp 49 Warn D R Lighting Controls Synthetic Im ages im proceedings SIGGRAPH Computer Graphics pp 21 WARNOCK J AND D K Wyatt A Device Indepen dent Graphics Imaging Model Use Raster De vices proceedings SIGGRAPH Computer Graphics pp 319 Watt A Fundamentals Three Dimensional Com puter Graphics Addison Wesley Wokingham England Wat M Light Water Interaction Using Backward Beam Tracing proceedings SIGGRAPH Cont puter Graphics pp 386 Watt A AND M Wart Advanced Animation Ren dering Techniques Addison Wesley Wokingham Eng land WecHorst H G Hoorer Ant D P GREENBERG Improved Computational Methods Ray Tracing ACM Transactions Graphics pp 69 WEIL J The Synthesis Cloth Objects pro ceedings SIGGRAPH Computer Graphics pp 54 WEILER K AND P ATHERTON Hidden Surface Re moval Using Polygon Area Sorting proceedings SIGGRAPH Computer Graphics pp 222 WEILER K Polygon Comparison Using Graph Representation proceedings SIGGRAPH Computer Graphics pp 18 WESTIN S H J R ARVO AND K E TORRANCE Pre dict ng Reflectance Functions Complex Surfaces proceedings SIGGRAPH Computer Graphics pp 264 Westover L Footprint Evaluation Volume Rendering proceedings SIGGRAPH Com puter Graphics pp 376 WHiTTED T An Improved Ilumination Model Shaded Display CACM pp 349 WHITTED T AND D M WEIMER A Software Testbed Development 3D Raster Graphics Systems ACM Transactions Graphics pp 58 Wuirtep T Antialiased Line Drawing Using Brush Extrusion proceedings SIGGRAPH Camputer Graphics pp 156 WILHELMS J Toward Automatic Motion Control IEEE Computer Graphics Applications pp 22 WILHELMS J AND A V GELDER A Coherent Projec tion Approach Direct Volume Rendering pro ceedings SIGGRAPH Computer Graphics pp 284 WILHELMS J AND A VAN GELDER Octrees Faster Isosurface Generation ACM Transactions Graphics pp 227 WILLIAMS L Performance Driven Facial Anima tion proceedings SIGGRAPH Computer Graphics pp 242 WILLIAMS P L Visibility Ordering Meshed Polyhe dra ACM Transactions Graphics pp 126 Witkin A AND W Wetcn Fast Animation Control Nonrigid Structures proceedings SIG GRAPH Computer Graphics pp 252 WITKIN A AND M Kass Reaction Diffusion Tex tures proceedings SIGGRAPH Computer Graphies pp 308 WOLFRAM S Mathematica Addison Wesley Read ing MA Woo A P POULIN AND A FOURNIER A Survey Shadow Algorithms IEEE Computer Graphics Ap plications pp 32 Wricut W E Parallelization Bresenham Line Circle Algorithms EEE Computer Graphics Ap plications pp 67 Wu X An Efficient Antialiasing Technique proceedings SIGGRAPH Computer Graphics pp 152 Wyszeckl G AND W S Stites Color Science John Wiley Sons New York Ww G B WYVILL AND C MCPHEETERS Solid Texturing Soft Objects IEEE Computer Graphics Applications 12 pp 26 YagGER L C UPSON AND R Myers Combining Physical Visual Simulation Creation Planet Jupiter Film proceedings SIG GRAPH Computer Graphics pp 94 YAGEL R D COHEN AND A KAUFMAN Discrete Ray Tracing IEEE Computer Graphics Applications pp 28 YAMAGUCHS K T L KUNn AND FUJIMURA Octree Related Data Structures Algorithms IEEE Com puter Graphics Applications pp 59 Youn D A The X Window System Programming Applications Xt OSF Motif Ediiion Prentice Hail Englewood Cliffs NJ ZELEZNICK R C D B CONNER M M WLOKA ET AL An Object Oriented Framework Integration Interactive Animation Techniques proceedings SIGGRAPH Computer Graphics pp 112 Zevtzsr D Motor Control Techniques Figure Animation IEEE Computer Graphics Applications pp 60 ZHANG Y AND R E WEBBER Space Diffusion An Improved Parallel Halftoning Technique Using Space Filling Curves proceedings SIGGRAPH Com puter Graphics Proceedings pp 312 Subject Index A Absolute coordinates A buffer algorithm 76 Acoustic digitizer 67 Active edge list Active matrix LCD Adaptive sampling 40 Adaptive spatial subdivision BSP tree ray tracing 38 Additive color model Affine transformation Aliasing Alignment text Ambient light see aise Mlumination models Ambient reflection coefficient American National Standards Institute ANSI Angle direction vector incidence phase refraction rotation specular reflechon Angstrom Animation accelerations 94 action spevifications applications 18 24 cels color table direct motion specification 95 double buffering dynamics 96 frame frame functions goal directed betweens inverse dynamics mverse kinematics key frame key frame systein kinernatics 95 Kochanek Bartels splines 27 languages morphing 91 motion specification 96 object definitions parametrized system physically based modeling 95 taster methods 87 real time scene description scripting system storyboard ANSI Amencan National Standards Institute Antialiasing area boundaries 78 area sampling 539 filtering 75 lines 76 Nyquist sampling interval Pitteway Watkinson 78 pret phasing pixel weighting masks prefiltering postfiltering ray tracing 43 stochastic sampling 43 supersampling 74 40 surface boundaries 43 texture mapping 56 Application icon Applications ser Graphics applications Approximation spline Area clipping 44 Area filling ser afso Fill area antialiasing 78 boundary fill algorithm 30 bundled attributes curved boundaries 30 flood fill algorithm functions hatch nonzero winding number rule 26 odd even rule scan line algonthm 27 soft fill 63 tint fill unbundled attributes Area sampling Aspect ratio Aspect source flag Area subdivision visibility algorithm 85 Artificial reality see Virtual reality Attentuation function Attribute area fill 03 bundled 69 brush 52 character 68 70 color 57 curve 54 grayscale individual inquiry functions intensity level see alse Color Intensity levels line color 50 69 hne type 46 69 line width 49 69 marker 68 Parameter pen 52 structure 54 system list table text 68 70 unbundled Axis reflection rotation 20 shear Axis vector rotatian 15 Axis vectors basis Axonometric projection B Back face detection 72 Back plane clipping Background ambient light Bar chart 12 38 Barn doors light control Baseline character Base vector ser also Basis Basis coordinate vectors normal orthogonal orthonormal Basis functions see also Blending functions Basis matrix spline Beam penetration CRT 43 see also Cathode ray tube Bernstein polynomials Beta parameter Beta spline 47 Bevel join B zier blending functions 28 Bspline conversions closed curve cubic curve curves 33 design techniques 31 matrix properties 30 surfaces 34 Bias parameter spline 346 Binary space partitioning tree see also BSP tree Binding language Bisection root finding BitBie bit block transfer Bit map see also Frame buffer Bitrap font 33 Blending functions B zier 28 Bspline Subject Index Blending hinctions cont cardinal Hermite Block transfer Blobby object Body character nonrigid rigid Boolean operations area fill raster transformations Boundary conditions splme 19 Boundary fill algorithms connected region 4xonnected region 30 Boundary representation Bounding box rectangle volume Box covering Box filter 75 Box dimension B rep boundary representation Bresenham algorithm circle line 92 Brightness light Brownian mation Brush pen attributes 52 BSP ray tracing tree visibility algorithm 82 B spline B zier conversions blending functions Cox deBoor recursion formulas cubic 41 curves 44 knot vector local control matnx nonuniform 44 nanuniform rational NURB open 44 periodic 41 properties 36 quadratic 39 44 rational surfaces 45 tension parameter uniform 44 Buffer ser also Frame buffer Bump function see aiso Frame mapping Bump mapping 59 Bundled attributes Bundle table Business visualization ser also Data visualizahon Butt line cap Button box Cc Cabinet projection CAD 11 Calligraphic vector display Camera viewing 36 Camera lens effects Capline character Cardinal spline 25 Cardiowd 40 Cartesian coordinates 601 Cathode ray tube 40 ser also Video monitors delta delta shadow mask electrostatic beam deflection 39 focusing high definition inline shadow maak magnetic beam deflection persistence phosphor 39 refresh rate 41 resohution 40 RGB shadow mask 44 Catmull Rom spline Cavalier projection Cell array Center projection Central structure store CSS CGI Computer Graphics Interface CGM Computer Graphics Metafile Character attributes 68 haseline body bottom line capline color descender fonts functions 168 generation 34 grid 56 33 height italic kern outline fonts 56 133 text precision 167 topline typeface 33 vector width 65 Characteristic polygon Chart bar 12 38 pie 12 40 time line 37 Choice input device Chromaticity diagram 71 values CIE International Commission I umination Circle equation Cartesian nonparametric parametric polar Circle generating algorithms 102 Bresenham midpoint 102 mid point function midpoint decision parameters Circle symumetry Cohen Sutherland line algorithm 30 curves yrus Beck line algorithm exterior hardware implementation 64 homageneous coordinates 63 Liang Barsky line algorithm 32 Liang Barsky polygon algorithm Nichol Lee Nichal line algorithm 35 nonrectangular window normalized coordinates 61 parallel methods parametric 32 planes 50 63 points polygons 43 region codes straight line segments 37 61 Sutherland Hodgman polygon algorithm three dimensional 53 two dimensional 45 view volumes 50 63 Weiler Atherton polygon algorithm 43 window world coordinates CMY color model 75 Codes ray tracing Coefficient ambient reflection diffuse reflectian matrix specular reflechon transparency Cohen Sutherland line clipping algorithm 30 Coherence 24 Color chromatiaty chromaticity diagram 71 chromaticity values coding complementary cube 73 ser also Color models dominant frequency dominant wavelength 70 fill 63 gamut 71 hue illuminat C illumination models intuitive concepts 72 lightness HLS parameter line 52 69 lookup table 56 marker matching functions model monitor 45 see aise video monitor nonspectral perception 67 primaries pure purity purple line RGB 57 saturation selection considerations 81 shades spectrum electromagnetic standard CIE primanes 69 table 56 text tints 577 tones tristimulus vision theory value HSV parameter Color model additive CMY 75 HLS 80 HSB see HSV model HSV 77 HSV RGB conversion 79 RGB 73 RGB CMY conversion XYZ YIQ Color table animation 87 Column vector Command icon Commission Internationale de I Eclairage CIE Complementary colors Complex number absolute value conjugate Euler formula imaginary part length modulus modulus ordered pair representation polar representation 17 pure imaginary real part roots Complex plane Composite monitor 45 Composition matrix Computed tomography CT Computer aided design CAD 11 Computer aided surgery Computer art 18 Computer Graphics interface CGD Computer Graphics Metafile CGM Concatenation matrix 13 Concave polygon splitting 37 Cone filter Cone receptors Cone tracing see aiso Ray tracing Conic curves 12 49 Conjugate complex Constant intensity shading 23 Constraints 89 Constructive solid geometry CSG mass calculations octree methods 62 ray casting methods 59 volume calculations 59 Continuity conditions spline geometric 19 parametric 18 Continuity parameter Continuous tone images see also Halftone Contour intensity border Contour plots applications surface lines 90 three dimensional isosurfaces two dimensional isolines 97 Contraction tensor Control graph Control icon Control operations Centro point spline Contra polygon Contro surface terrain 77 Convex hull 3lo Coordinate axis rotations 13 Coordinate ams vectors basis Coordinate extents Coordinate point Coordinates absolute current positon homogeneous relative screen Coordinate syste Cartesian 601 curvilinear cylindrical device left handed local master modeling 29 normalized device normalized projection orthogonal polar right handed screen 76 spherical three dimensional transformation 20 29 two dimensional 602 viewing 20 36 world Copy function Cox deBoor recursion formulas Cramer rule Cross hatch fil Cross product vector CRT 40 see also Cathode ray tube CSG see also Constructive solid geometry CT Computed Tomography scan Cubic spline beta M6 Bezier 33 B spline interpolation 27 Current event record Current position Curve attnibutes 54 beta spline B czier spline B spline 35 cardinal spline 24 cardioid 40 Catmull Rom spline circle comic ction 12 49 ellipse fractal 66 see also Fractal curves generalized function Hermite spline hyperbola Koch fractal Kochanek Bartels spline limagon 40 natural sphire Subject Index Overhauser spline parabola parallel algorithms 13 Parametric representations piecewise construction 16 polynomial spiral 40 spline 20 see also Spline curve superquadyic 13 symumetry considerations 98 Curved surface ellipsoid Parametric representations 20 quadric 12 rendenng see Surface rendering sphere spline see also Spline surface superquadric 13 torus 12 visibility 990 see also Visible surface detection Curvilnear coordinates Cutaway views Cylindrical coordinates Cyrus Beck line clipping algorithm D Damping constant Dashed line 46 Data glove 93 see also Virtual reality Data tablet see ciso Digauzer Data visualization applicatrons 31 contour plots 97 field lines glyphs isolines 97 isosurfaces taultivanate fields pseudo colur methods scalar fields 99 streamlines tensor fields vector fields 401 volume rendering DDA line algorithm 88 Deflection coils see also Cathode ray tube Delta delta shadow mask CRT Density functian blobby object Depth butter algonthm 75 Depth cueing 300 Depth sorhng algorithm 81 Descender character Detectability filter 85 Determinant 14 Device codes 82 Device coordinates Differental scaling Diffuse reflection 500 Diffuse retraction Digitizer m4 accuracy acoust 67 apphcatons 15 electromagnetic 66 locator device resolution sonic stroke device three dimensional valuator device Subyec Index Dimenstn Finlidean fractal 3h4 fractional Direvied ime segment vector Direchon angles Pirechon cosines Direct view storage tube DVST Display coprocessor controller devices 52 ner processors file list 84 processor 5A Sn provessany unl Sn program Sn Pastancr paint line 80 ray tracing path Phstribured light soure Distributed ray trasieg 43 Distribution rav tracing Ditheang dot dimnision method error diffusion method 22 matrin noise 20 ordered dither method random Dominant frequency Dormnant wavelength 76 Dot product Dot matrix printer Dot ciffasion algorithm Double buttering Dragging Drawing methods DVS1 Dynamtns 96 ser afso Animation aise Video monitors Display Ldge bst stahlet 22 77 Ede vector conaected region Elashe material nonrigid object Flectomagnetic spectrum hlectror beam see also Cathode ray tube convergence electrostatic deflectun focusing intensity magnete deflection spat size 40 Flectron yun sev ae C athode ray tube Electrostatic printer Elevtrothermal printer Hlement structure Element pointer Hlevacion view Hhpse Carlesian equation focus pomt oiidpeint algorithm 10 Parametric representation properties symmetry EMapsord Emussive displays emitter Energy cloth modeling function Energy distnbution light urce Energy propagation radios Environment array Environment mapping Error diffusion algorithm 22 Euler formula see alse Complex numbers Even odd polygon filling rule Event input mode queue Explicat representation Exploded view Exterior chipping F False pos tion root hnding Far plane chpping Fast Phong shadimg 77 Feedback 76 Field hhnes Fill algorithms see Area filling area attributes 63 see alse Area filling color hatch patterns 62 soft 63 styles tint Filter box cone 175 function Gaussian 75 structure 54 65 workstation pick detectabilic 85 Fixed posrhon scaling 193 Flaps light control Flat pane display emissive gascuischarge light eruthing diode FIZ 47 liquid crystal LCD nonemissive passive matny plasma 46 thin film electrolunuinescent Flat shading Flight simulators 24 Flood fill algorithm Flood gun Focus point ellipse Font see alse Typeface bitmap 33 cache outline 133 proportionally spaced Force constant Form factors radiosity 4e Forward differences connected region 24 Fractal affine constructions 78 box covering methods Brownian motion 78 characteristics 63 classification dimension 67 generation procedures 64 generalor geometne constructions 71 geametry ininator invariant set random mcpoint displacement methods self inverse self inversion methods 87 self similar seif similarity Z self squaring self squaring methods similarity dimension subdivision methods 78 topological covering methods 66 Fractal curve Brownian rrotion dimension fractional Brownian motion 75 geometric constriclians 68 invariant 87 inversion constrution methods 87 Julia set Koch Mandelbrot set boundary 84 midpoint displacement 75 Peano self affine self inverse 87 self similar 71 self squanng snowflake 68 Fractai sohd Fractal surface Brownian dimension four dimensiona 85 geometric constructions 71 midpoint dispiacement 78 self similar 71 self squaring 85 surface rendering terrain 78 Fractional Brownian motion 78 Frachonal dimension Frame animation Frame buffer bit block transfers copy function loading intensity values 95 lookup table 56 raster transformations 11 read function resalution write function Frame mapping Fresne reflection laws Frequency spectrum electromagnetic Front plane ichpping Full color system Frustum Functions 78 sec also Function Index Gamma correction 15 Gamut color 71 Gas discharge displays Gaussian bump Gaussian density function 15 Gaussian elinunahon Gaussian filter 75 Gauss Seidel method Generator fractal Geometric continuity spline 19 Geometric models CGeometric object properties 17 Geometric production rules 89 Geometric table Geometric transformations GKS Graphical Kernel System GL Graphics Library Global lighting effects 527 Glyph Goal directed motion Gouraud shading model 25 Graftal Graphical user interface applications backup error handlirg 75 components 76 feedback 76 help facilities icons interactive techmques 93 menus 273 model user dialogue 73 user model windows Graphics applications advertising 18 agriculture animations 18 24 architecture art 18 astronomy business 13 18 CAD 11 cartugraphy education 24 engineering entertainment 21 facility planning flight simulators 24 geology graphs charts 13 image processing 33 manufacturing mathematics 17 27 medicine modeling simulations 25 31 physical sciences 31 publishing scientific visualization 31 simulations 10 31 simulators 25 training 24 user interfaces virtual reality 67 Graphics controller Graphics functions 78 see also Function Index Graphics monitors 52 see also Video monitors Graphics software packages hasic functions 78 GKS GL PHIGS PHIGS standards 79 three dimensionai Graph plotting 39 ser alsu Charts Graphics tablet 15 67 see aiso Diginzer Gravitational acceleration Gravity field Grayscale Grids character 33 interactive constructions 90 H Halftone approximations 19 color methods dithering 22 patterns Halfway vector Hard copy devices 75 Hatch fill Hausdorff Besicovitch dimension Head mounted display see also Virtual reali Hemicube radiosity 49 Hermite spline 23 Hexcone HSV Hidden line elimination Hidden surface elimination seealso Visible surface detection Hierarchical modeling 68 High definition video monitor Highlighting depth cueing technique 300 primihves specular reflections 504 structures 54 HLS color model 80 Homogeneous coordinates Hooke law Horizontai retrace Horner polynomial factoring method HSB color model see HSV madel HSV color model 77 Hue Hyperbola Icon Ideal reflector IHuminant C Ulumination model ambient light attentuation funcuon basic components 511 color considerations combined diffuse specular diffuse reflection 500 flaps ideal reflector intensity attentuation light sources multiple light sources opacity factor Phong refraction 10 shadows Snell law specular reflection 504 spotlights lransmission vector transparency 11 Warn Image order scanning Subject Index Image processing 33 Image scanners Image space methods visibility detection Imaginary number Impact printer Implicit representation In betweens Index refraction Initiator fractal Ink jei printer 73 Inner product vector In line shadow mask CRT Input devices button box choice data glove 93 dials digitizer 67 80 graphics tablet initializing 88 joystick 64 80 keyboard 80 light pen locator logical classification mouse 80 pick 80 scanner spaceball string stroke switches three dimensional sonic digitizers touch panel 70 trackball valuator 78 voice systems 71 Input functions 87 Input modes concurrent use event 87 request 85 sample Input priority Inquiry functions Inside outside test polygon odd even rule polygon nonzero winding number rule 26 spatial plane surface Inside polygon face Instance see also Modeling Integral equation solving rectangle approximations Simpson rule trapezord rule Monte Carlo eid 24 Intensity attentuation depth cueing 300 interpolation shading Gouraud modeling 97 see also Illumination models radiosity model 51 Intensity level adjusting see Antaliasing assigning 13 color lookup tables 56 contours borders frame buffer storage gamma correction 15 ratio RGB video lookup table 513 Subject Index Interactive picture construction techniques 92 Interlacing scan lines International Comision Mlumination C1E Interpolation spline Inverse geometric transformations 22 Inverse dynamics Inverse kinematics Inverse matrix Inverse quatermon Inverse scanning 1SO International Standards Organization Isohines 97 Isometric joystick isometric projection Isosurfaces J Jaggnes sec also Antahasing Antialiasing Jittering Joystick locator device movable 64 pick device Pressure sensitive isometric stroke device valuator device Julia set K Ker Keyboard choice device locator device pick device string device valuator device Key frame Key frame system Kinematics 96 see also Animation Knot vector Kochanek Rartels spline 27 Koch curve L Lambertian reflector Lambert cosine law Language binding Laser printer LCD liquid crystal display 48 Least squares data fitting LED hghi emitting diode 47 Left handed coordinates Legible typeface Length complex number vector L grammar Liang Barsky clipping polygons two dimensional lines 32 Light ambient angle madence chromaticity chromaticity diagram 71 diffuse reflection 500 diffuse refraction frequency band hue ideal reflector index refraction illuminant C itumination model see also humination models intensity level assignment 13 Lambert cosine law Phong specular model properties 68 purity reflection coefficients 502 refraction angle saturation 579 spectrum specular reflection 504 specular refraction speed transparency coefficient wavelength white Light buffer ray tracing Light emitting diode LED 47 Lighting model ser also IHumination model Lightness HLS parameter Light pen Light source brightness distributed dominant frequency dominant wavelength energy distribution frequency distribution Juminance multiple point Limagaon Line bundled attributes 69 chart 37 clipping see aise Line clipping color 50 contour 97 dashed 46 function 96 parametric representation pen brush options sampling RB A4 slope intercept equation type 46 width 49 Linear congruential generator Linear equation solving Cramer rule Gaussian elimination Gauss Seidel Line caps Line clipping Cohen Sutherland 30 Cyrus Beck Liang Barsky Nich3l Lee Nichol 35 nonrectangular clip window parallel methods parametric 32 three dimensional Line drawing algorithms 95 antialiasing 76 Bresenham 92 DDA 88 frame buffer loading 95 parallel 94 Liquid crystal display LCD 48 Local coordinates Loxal control spline Local transformation matrix Locator input device Logical input device Look point Lookup table 56 Luminance M Mach band Mandelbrot set 84 Marching cubes algorithm see lsosurfaces Marker 34 Marker attributes 68 Mask see also Pixel mask Mass calaulations CSG Master coordinates Matrix addition basis spline B zier B spline cardinal coefficient column concatenation 13 determinant dither Hermite identity inverse multiplication 13 nonsingular reflection vow rotation 12 20 scalar multiplication scaling shear singular 6L4 spline characterization square translation transpose Medical applications 33 Menu Mesh polygon 10 Metaball model Metafile Metric tensor 11 Midpoint circle algorithm 102 Midpoint displaceiment fractal generation 78 Midpoint etlipse algorithm 10 Miter join 49 Mode input device Model Modelinig ser also Graphics applications Object representations Ilumunation models basic concepts 64 coordinates 29 display procedures geometni hierarchical 63 inslance local coordinates Master coordinates modules packages 64 physically based 95 representations 62 structure hierarchies 68 symbol symbo hierarchies 63 transformations 68 29 Modules Modulus complex Monte Carlo methods 24 Monitor 52 see also Video monitor Monitor response curve Morphing 91 Motion blur 43 Motion specification 96 Mouse 63 choice device locator device pick device stroke device Multivariate data visualization N National Television System Comunittee NTSC Natural spline Near plane clipping Newton Raphson root finding 22 Newton second law motion Nicholl Lee Nicholl line clipping 35 Noise dither 20 Nonemissive displays Nonemitter Nonlinear equation salving bisection false position Newton Raphson 22 Nonparametric representations 19 Nonrigid object Nonsingular matrix Nonspectra color Nonuniform B splines 344 Nonuniform differentia scaling Nonuniform rational B spline NURB Nonzero winding number rule 26 Normal Normalized device coordinates Normalized projection coordinates Normalized view volumes see aiso Clipping Normal vector average polygon mesh curved surface interpolation Phong shading plane surface view plane 36 NTSC National Television System Committee Numerical methods bisection method Cramer rule false position method Gaussian elimination Gauss Seidel method integral evaluations 24 least squares data fitting linear equations 21 Monte Carlo methods 24 Newton Raphson method 22 nonlinear equations 22 root finding 22 Simpsaon rule trapezoid rule NURB Nonuniform rational B spline Nyquist sampling interval oO Object nonngid flexible picture component nigid 97 Object geometry 17 Object representahon beta splines 47 B zier splines 34 boundary B rep B splines 45 BSP trees blobby surfaces 15 CSG methods 59 cubic spline interpolation 27 data visualization 403 explicit fractal curves surfaces 87 implicit nonparametnic 19 octrees 62 parametric 20 particle systems 92 physically based modeling 95 polygon 10 quadric surfaces 12 rational splines 49 shape grammars 89 space partitioning methods superquadnics 14 sweep constructions 56 Object space methods visibility detection Oblique projection 43 50 53 Octree CSG operatians 62 generation 41 visibility detection 87 volume element voxel Odd even polygon filling rule One point perspective projection Opacity factor Order spline curve continuity 19 Ordered dither Orthogonal basis Orthogonal coordinates Orthographic projections Orthonormal basis Outline fant Output primitives cell array circie 102 character 34 conic section 12 ellipse 10 fill area 30 marker 34 point 86 polynomial spline straight line segment 94 text 33 Outside polygon face Overhauser spline Subject tndex P Paintbrush programs 16 92 Painter algorithm depth sorting Panning Paratola Parallel algorithms area filling 21 curve drawing 13 line drawing 94 Paral e projection 99 axonometric cabinet cavalier elevation view isometric 41 obl ique 43 50 53 orthographic 48 plan view principal axes shear transformation view volume 50 Parametric continuity spline 18 Parametric representations 20 circle curve ellipse ellipsoid 12 sphere spline straight line surface 20 torus 12 Parametrized system Parity odd even rule Particle systerns 92 Path text Passive matrix LCD Pattern fll 61 index reference point 60 Tepresentation size tiling Pattern mapping Pattern recognition Peano curve Pel Pen ard brush attributes Penumbra shadow Perfect reflector Persistence Perspective projection frustum one point principal vanishing point reference point shear transtormation 56 three point two point vanishing point view volume 49 PET Position emission tomography 33 Phase angle PHIGS sve alsa Function index attributes 59 70 input 87 modeling 69 output primitives 96 structures 60 three dimensional transformations 26 three dimensional viewing 66 Subyect Index PHIGS cont two dimensional transformations two dimensional viewing 23 workstation PHIGS Phong specuiar reflection model Phong shading 27 Phospher 39 Photorealism Physically based modeling 95 Pick distance 80 filter 85 idenhtier input device 80 window Pickability structure Picking Picture element pixel Piecewise approximation spline 16 Pie chart 12 40 Pitteway Watkins antialiasing 78 Pivot point PixBi Pixel addressing 16 end mask 51 patterns halftone phasing ray 29 weighting mask Pixel order scanning 55 Pixmap Plane clipping 61 coefficients complex equations far clipping inside outside taces near clipping normal vector Pian view Plasma pancl display 46 Plotters ser alsn Ponters heltbed color drum flatbed ink jel 73 laser pen rollfeed 75 Pount chpping control spline coordinate plotting 86 sampling unit character size Point light source Polar coordinates Polar form complex number 17 Polygon active edge list characteristic control edge vector fill 27 ee also Area filling inside lace inside outside tests see also Plane mesh 10 normal vector outside face plane equation rendering shading 27 ray intersection 44 sorted edge table splitting 37 surface surface detail tables 22 77 Polygon clipping paralle methods parametric methods Sutherland Hodgeman 42 three dimensional Weiler Atherton 43 Polyline 96 Polyline connections Polynomial curve Position emussion tomography PET 33 Positioning methods Posthitering see alsu Antialiasing Posting structures Precision text 67 Prefiltering see also Anttaliasing Presentation graphics 13 Pressure sensitive jovstich Primary colors Primitives see aiso Output primit ves Principal axes Principal vanishing peint Printers dot matrix electrothermal impact laser nonimpact electrostatic ink jet 73 Priority structure view transformation input Procedural object representation 92 Procedural texture mapping 57 Production mules 84 Progressive refinement radiosity 50 Projecting square line cap Projection axonometric cabinet cavalier center frustum isometric 41 oblique 43 50 53 orthographic 48 parallel 43 54 Perspective 47 56 plane reference point vector 53 view volume window Pseudo color methods Pure color Purity ight Purple line Q Quadric curves Quadric surfaces 12 Quadnilateral mesh 19 Quadtree Quaternion addition fractal constructions 85 inverse magnitude multipheahon ordered pawr rearesentation rotations 20 scalar multpheation scalar part vector part R Radiant energy Radiance Radhosity model 51 energy transport equation form factors hemicube 49 luminance progressive refinement 50 reflectivity factor surface enclosure Random dither noise 21 Random msdpoint displacement methods 78 Random scan monitor 42 color refresh display file Randomescan system display file graphics controller rocessing unit Random walk Raster animation 87 Raster ops Raster scan monitor 41 bilevel bitmap color 45 frame buffer horizontal retrace interlacing pixel pixmap refresh butter vertical retrace Raster scan systera cell encoding display processor run length encoding scan conversion video controller 55 Raster trans ormations 11 Ratonal spline 49 Ray casting constructive solid geometry 59 visible surface detection 88 Ray tracing adaptive sarphng 40 adaptive subdivision 38 antialiasing 43 area sampling basic algorithm 31 bundles camera lens effects cell traversal 37 codes cone tracing distributed 43 eve ray see pixel ray equation motion blur 43 pixel primary ray 29 polygon intersection 34 radiosity model reflection ray 31 refraction ray secondary ray shadow ray 30 space subdivision 38 sphere intersection 33 stochastic sampling supersampling 40 tree uniform subdivision Read function Readable typeface Real time animation Reference point viewing Reflection angle inadence axis coefficients 502 diffuse 500 Fresnel laws halfway vector Lambertian mapping plane ray specular 504 vector Reflection transformation Reflectivity Reflectivity factor radiosity Refraction angle S09 diffuse index ray Snell law S09 specular transmission vector 31 transparency coefficient vector 31 Refresh buffer see aiso Frame buffer Refresh CRT 45 see also Cathode ray tube Refresh display file Refresh rate CRT 41 Region codes clipping three dimensional two dimensional Relative coordinates Rendering see Surface rendering Requesl input mode 85 Resolution display device 40 halftone approximations Retrace electron beam REYES RGB chromaticity coordinates RGB color mode 73 RGB monntor see alse Video manitor Right hand coordinate system Right hand rule Rigid body transformation 97 Rigid motion Roots nonlinear equalions complex numbers Rotation angie axis 20 axis vector 15 composition inverse matnx representation 93 12 19 pivat point quaternion 20 taster methods three dimensional 20 two dimensional 87 93 X axis 12 axis axis 11 Rotationa polygon splitting method Round join 149 Round line cap Row vector Rubber band methods Run length encoding S Sample input mode Sampling adaptive 40 area line 89 Nyquist interval point supersampling 74 40 weighted Sans serif typeface Saturation light Scalar data field visualization 99 Scalar input methods 78 Scalar product two vectors Scaling arbitrary directions 94 composition curved objects differential factors fixed point mverse 22 matnix representation nonuniform differential parameters factors raster methods three dimensicnal 22 two dimensioral 88 94 uniform 88 Sean conversion areas 30 characters 33 circles 102 curved boundary areas 30 curved lines 13 ellipses 10 patterned Ail points polygons 27 straight lines 94 see also Line drawing algorithms structure list traversal Scan line Scan line interlaang Scan line algorithms area fillimg 27 63 visible surface detection 78 Subject Index Scanner Scanning image order inverse pixel order 55 texture S54 Scientific visualization see aiso Data visualization Screen coordinates see also Coordinate system device Scripting system animation Secondary ray Segment Self affine fractals 78 Self inverse fractals 87 Self similar fractals 71 Self squaring fractals 85 Serif typeface Shades color Shading algorithm see Surface rendering Shading model ser also Illumination model Shadow mask Shadow ray 30 Shadows modeling 30 penumbra umbra Shape grammars 90 Shear axis matrix projection mapping 56 three dimensional two dimensional x direction direction z direction Shift vector see also Translation Similarity dimension Simpson rule Simulations 10 31 sre aiso Graphics applications Simulators 25 Simultaneous linear equation solving 21 Singular matrix Sketching 16 92 Snell law Snowflake fractal 68 Soft fill 63 Software standards 79 Solid angle 45 Solid modeling see also Surtace Curved surtace applications 9 constructive solid geometry 59 sweep constructions 56 Solid texture Sonic digitizer Sorted edge table Spaceball SpaceGraph system Space sartitioning methods ray tracing adaptive 38 light buffer ray bundles uniform Space partitioning representations Specular reflection 504 angle coefficient Fresnel laws halfway vector Parameter Subject Index Specular reflection cont curve 16 approximation basis functions bias parameter B spline 44 characteristic polygon confinuity conditions 19 continuity parameter controt graph control points conversions 50 convex hull cubic interpolation 27 displaying 55 Hermite 23 interpolation knot vector Kochanek Banels 27 lecal control matrix representation natural NURB Overhauser rational 49 tension parameter Spline generation Horner method forward difference method 53 subdivision methods 55 Spline surface B zier 34 B spline 45 Splitting concave polygons rotational method vector method Spotlights Spring constant Spring network nonrigid body Square mairix Stairstep effect Steradian 45 Stereoscopic glasses headsets views 52 301 virtual reality applications 52 Stochastic Sampling Storyboard Streamlines String mput device String precision text Stroke input device Stroke precision text 67 Stroke writing display see alsa Video monitors random scan Structure attributes 54 basic functions 54 central structure store C55 concepts 52 copying creation 52 delection displaying 3g Posting editing element ms element pointer filters 85 hierarchy 68 highlighting filter lists metafile pickability posting Subdivision methods adaptive ray tracing 38 BSP tree spline generation 55 unifonm ray tracing Subtractive color model CMY 75 Superquadric 14 Supersampling 74 40 Surface blobby 15 curved ser also Curved surfaces fractal B5 parametric representation 20 plane quadric 12 spline see also Spline surface superquadric 14 weighting Surface detail 60 bump mapping 59 environment mapping frame mapping 60 image order scanning inverse scanning pattern mapping pixel order scanning polygon mesh 54 procedural texturing 57 solid texture mapping texture mapping 56 texture scanning S54 Surface enclosure radiosity Surface normal vector Surface rendering 98 antialiasing 43 bump mapping 59 constant intensity shading 23 environment mapping fast Phong shading 27 flat shading frame mapping CGouraud shading 25 intensity interpolation Mach bands normal vector interpolation Phong shading 27 polygon methods 27 polygon surface detail procedural texturing 57 radiosity 50 ray tracing 43 texture mapping 56 Surface shading ser Surface rendering Sutherland Hodgeman potygon clipping 42 Sweep representations 56 Symbol hierarchies 63 instance modeling 64 circle 98 curve drawing algorithms 98 ellipse T Table poly gon attribute edge 22 77 geometric sorted edge table vertex Tablet 67 see also Digitizer Task planning Tension parameter spline Tensor contraction data field visualization metric Terrain fractal 78 Tesselated surface Text see also Character alignment attributes 67 7U clipping generation 33 path Precision 67 Texture see also Surface rendering mapping 56 procedural methods 57 scanning solid space 57 Thin film electroluminescent display Three point perspective projection Tiling Time chart Tint color Tint fill Tone color Topline character Topological covering 66 Touch panel 70 Trackball Transformation affine basic geometric 200 22 commutative 95 composite 200 25 computational efficiency 97 coordinate system 29 functions 26 geometric instance 63 local 68 matrix representations 90 modeling 68 29 noncommutative T94 parallel projection 99 Perspective projection taster methods 11 Teflection rotation 87 93 20 scaling 88 94 22 shear three dimersional geometric 22 three dimensional viewing 56 translation 85 two dimensional geometnc 205 two dimensional viewing 22 viewing 22 56 window viewport 22 workstation 22 world viewing coordinate 20 38 Translation composition curved object distances inverse matrix representation raster methods three dimensional two dimensional 85 vector Transmission vector refraction 31 Transparency see also Refraction Ray tracing coefficient modeling 11 opacity factor vector 31 Transpose matrix Trapezoid rule Traversal state list Triangle strip Tristimulus vision theory True color system Twist angle Two point perspective projection Typeface 33 see also Font legible readable sans serif serif U Umbra shadow Unbundled attributes Uniform B splines 44 Uniform scahng 88 Uniform spatial subdivision octree 62 ray tracing Unit cube clipping Up vector character User dialogue 73 User help facilities User interface 76 93 see also Graphical user interface User model uvn coordinate system 38 uv plane Vv Valuator input device 78 Value HSV parameter Vanishing point Varifucal mirror Vector 12 addition basis column components cross product data field visualization 401 direction angles direction cosines dot inner product knot magnitude length polygon edge product propection 53 quaternion representation reflection rotation 15 row scalar multiplicanon scalar dot product space specular reflection 504 surface norma transmission refraction 31 translauon Vector method polygon splitting Vector monitor Vertex table Vertical retrace Video controller 35 Video lookup tabie Video monitor see also Cathode ray tube calligraphic color CRT 45 composite 45 direct view storage rube DVST emissive flat panel full color gas discharge LCD liquid crystal device 48 LED light emitting diode 47 nonemissive plasma panel random scan 42 raster scan 41 tefresh CRT 45 tesolution 40 RGB stereoscopic 52 thin film electroluminescent three dimensional true colur vector View look point reference point vector twist angle Viewing stereoscopic 52 301 three dimensiona two dimensional 45 Viewing coordinates left handed three dimensional 34 two dimensional 20 Viewing transformation back far clipping plane clipping 63 front near clipping plane frustum functions 23 hardware implementation Subject Index inpul prionty normalized projection coordinates normalized view volume 61 Pipeline 19 33 three dimensional 33 two dimensional 22 viewport 60 view volume window workstation mapping 22 Viewing table View plane 34 normal vector position 35 window Viewport chpping 61 function 23 prionty three dumensional see View volume two dimensional __ Workstation View reference point View vector View volume unit cube normalized perspective 49 parallel 50 View window Virtual reality applications 67 display devices 52 input devices environments 93 Visible structure Visible line detection see also Depth cucing Visible surface detection A buffer method 76 algorithm classification 71 area subdivision method 85 back face detection 72 BSP tree method 82 comparison algorithms 92 curved surfaces 90 depth bulfer z buffer method 75 depth sorting method 81 function 91 image space methods object space methods octree methods 87 painter algorithm depth sorting ray casting method 88 scan line method 78 surface contour plots 90 wireframe methods Vision tristimulus theory Visualization applications 31 methods 402 see afso Data visualization Voice systems 71 Volume calculations CSG 59 Volume element Volume rendering Voxel Ww Warn lighting model Wavelength light Weighted sampling Weighting surface Subyect Index Weiler Atherton polygon clipping algorithm Winding number Window functions 23 manager projection rotated 20 three dimensicnal viewing 56 two dimensional viewing user intertace view plane 34 workstation 22 Windowing transformation panning rooming 19 Window viewport mapping 22 Wireframe Wireframe visibility algorithms Workstation graphics applications 60 identifier PHIGS pick filter 85 structure filters 85 transformation 22 window 22 viewport World coordinates World Viewing coordinate transformation 20 38 White function x x axis rotation 12 x direchon shear X Window System XYZ color model Y axis rotation direction shear YIQ color model Zz axis rotahon 11 z buffer algorithm see aiso Depth buffer algorithm z direction shear Z mouse 63 zooming Function Index A awattEvent B buildTransformahonMatrix buildTransformationMatrix3 Cc celtArray changeStructureldentifier closeStructure composeMatnx composeMatrix3 composeTransformationMatnx compose Transformation Matnix3 copy AllElementsFromStructure 1D deletcAlIStructures deletcElement deleteElementRange deletcElementsBetweenLabeis delet cStructure deleteStructureNetwork E emptyStructure evaluate View MappingMatnx pvaliateViewMappingMatrix3 evaluate ViewOrientationMatnx evaluate ViewOnentavonMatrixd execuleS ructure F dllArea HllArea3 filAreaSet AllCrrcle AllCarcleArc nIEllipse HIIEipseArc nilRectangle G generalizedDrawming nmutive gerChoice gertLocator getLocator3 getPick gerPixel geString getStroke 2h getValuator ininaiizeChowe initializeLocator initializePick initializeString initializeStroke imihalizeValuator inquire L label O offsetElementPomte openStructure Pp polyline polyline3 polymarker postStructure R request hoice requestLocator 83 requestPick requestString requestStroke 83 TequestValuator rotate TotateX rotateY rotateZ S sampleChoice sampleLocator samplePick sampleString sampleStroke sampleValuator scale scale3 setCharacterExpansionFactor setCharacterHcight setCharacterSpacing setCharacter UpVector setChoiceMode setColourRepresentalion setEditMode setElementPointer setElementPointer AtLabel set lighlight ngFilter set HLHSRidentifier set ndividual ASF setIntenorC ourlndex setIntenorlndex setInteriorReprescntation setInteriorstvle setInteriorStvielndex setInvisibility Filter setLinetype setLinewidthScaleFactor setLocalTransformation setLocal Transformation setLocatorMade 82 setMarkerSizeScaleFactor setMarkerly pe setPatternReferencePoint setPattern Representation setPattemSize setPickFultes setPickldentifier setPickMode 82 setPixel setPolyhneC olourIndex setPolylinelndex setPolzlineRepresentation setPolymarkerColour ndex setPolymarkerindex setPolymarkerRepresentation setStringMode setStrokeMcde setTextAlignment setTextCulourlndex setTextFont setTextIndex setTextMods 82 setTextPath setTextPrecision Function Index setTextRepresentation setYaluatorMode setViewLndex setViewRepresentation setViewRepresentation3 setViewTransformationInpulPrionity setWorkstation View port setWorkstation Viewpart3 setWorkstation Window setWorkstationWindow3 T text text3 ansformPoint transformPoint3 translate translate3 26 U unpostAlIStructures unpostStructure